<html>
<head>
<title>HealthMonitor_FT.thy</title>
</head>
<body bgcolor="#ffffff">



<pre><font color="#333333"><span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">   1 </font></span><font color="#006699"><strong>theory</strong></font> HealthMonitor_FT
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">   2 </font></span>  <font color="#009966"><strong>imports</strong></font> <font color="#ff00cc">&quot;../Services_R/HealthMonitor&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">   3 </font></span><font color="#009966"><strong>begin</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">   4 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">   5 </font></span><font color="#cc0000">(*===REPORT_APPLICATION_MESSAGE service===*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">   6 </font></span><font color="#006699"><strong>lemma</strong></font> REPORT_APPLICATION_MESSAGE <font color="#000000"><strong>:</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">   7 </font></span>  <font color="#ff00cc">&quot;let </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">   8 </font></span><font color="#ff00cc">      p_a_m = REPORT_APPLICATION_MESSAGE s core_id msg mlength;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">   9 </font></span><font color="#ff00cc">      cur_part_id = curPartID s core_id </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  10 </font></span><font color="#ff00cc">   in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  11 </font></span><font color="#ff00cc">     if mlength &gt; MAX_MSG_SZ_VALUE then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  12 </font></span><font color="#ff00cc">        p_a_m = (s, INVALID_PARAM)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  13 </font></span><font color="#ff00cc">     else </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  14 </font></span><font color="#ff00cc">        p_a_m = (transmitMSG s msg, NO_ERROR)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  15 </font></span><font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  16 </font></span>  <font color="#006699"><strong>let</strong></font> ?p_a_m <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;REPORT_APPLICATION_MESSAGE s core_id msg mlength&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  17 </font></span>  <font color="#006699"><strong>let</strong></font> ?cur_part_id <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;curPartID s core_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  18 </font></span>  <font color="#006699"><strong>have</strong></font> a10 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;mlength &gt; MAX_MSG_SZ_VALUE </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  19 </font></span><font color="#ff00cc">    &#10230; ?p_a_m = (s, INVALID_PARAM)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  20 </font></span>    <font color="#006699"><strong>unfolding</strong></font> REPORT_APPLICATION_MESSAGE_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  21 </font></span>  <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> a11 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;mlength &le; MAX_MSG_SZ_VALUE </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  22 </font></span><font color="#ff00cc">    &#10230; ?p_a_m = (transmitMSG s msg, NO_ERROR)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  23 </font></span>    <font color="#006699"><strong>unfolding</strong></font> REPORT_APPLICATION_MESSAGE_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  24 </font></span>  <font color="#006699"><strong>ultimately</strong></font> <font color="#0099ff"><strong>show</strong></font> ?thesis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  25 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>metis <font color="#000000"><strong>(</strong></font>no_types<font color="#000000"><strong>,</strong></font> lifting<font color="#000000"><strong>)</strong></font> verit_comp_simplify1<font color="#000000"><strong>(</strong></font>3<font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  26 </font></span><font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  27 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  28 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  29 </font></span><font color="#cc0000">(*===CREATE_ERROR_HANDLER===*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  30 </font></span><font color="#006699"><strong>lemma</strong></font> getProcAttr_createProc_NotNone <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getProcAttr (createProc s pp attr) pp &ne; None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  31 </font></span>  <font color="#006699"><strong>unfolding</strong></font> getProcAttr_def createProc_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  32 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  33 </font></span><font color="#006699"><strong>lemma</strong></font> getProcAttr_setErrorProcListEmpty <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getProcAttr (setErrorProcListEmpty s part_id) pp = getProcAttr s pp&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  34 </font></span>  <font color="#006699"><strong>unfolding</strong></font> getProcAttr_def setErrorProcListEmpty_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  35 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  36 </font></span><font color="#006699"><strong>lemma</strong></font> getError_setErrorProcListEmpty_None <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getError (setErrorProcListEmpty s part_id) part_id = None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  37 </font></span>  <font color="#006699"><strong>unfolding</strong></font> getError_def setErrorProcListEmpty_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  38 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  39 </font></span><font color="#006699"><strong>lemma</strong></font> CREATE_ERROR_HANDLER <font color="#000000"><strong>:</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  40 </font></span>  <font color="#ff00cc">&quot;let</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  41 </font></span><font color="#ff00cc">       c_e_h = CREATE_ERROR_HANDLER s core_id pattr entry_point stack_sz;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  42 </font></span><font color="#ff00cc">       cur_part_id = curPartID s core_id;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  43 </font></span><font color="#ff00cc">       cur_proc_id = curProcID_Core s core_id;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  44 </font></span><font color="#ff00cc">       attr_set_priority_entry_stack = setErrorProcAttr pattr entry_point stack_sz;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  45 </font></span><font color="#ff00cc">       s_created_eh = createProc s (the cur_part_id, the cur_proc_id) attr_set_priority_entry_stack;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  46 </font></span><font color="#ff00cc">       s_errotListEmpty = setErrorProcListEmpty s_created_eh (the cur_part_id);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  47 </font></span><font color="#ff00cc">       get_s_created_eh' = getProcAttr (fst c_e_h) (the cur_part_id, the cur_proc_id);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  48 </font></span><font color="#ff00cc">       get_s_errotListEmpty' = getError (fst c_e_h) (the cur_part_id)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  49 </font></span><font color="#ff00cc">   in </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  50 </font></span><font color="#ff00cc">     if getProcAttr s (the cur_part_id, HM_PROC_ID) &ne; None then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  51 </font></span><font color="#ff00cc">        c_e_h = (s , NO_ACTION)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  52 </font></span><font color="#ff00cc">     else if stack_sz &gt; MAX_STACK_SZ_VALUE then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  53 </font></span><font color="#ff00cc">        c_e_h = (s , INVALID_CONFIG)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  54 </font></span><font color="#ff00cc">     else if the(getcurPartMode s core_id) = NORMAL then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  55 </font></span><font color="#ff00cc">        c_e_h = (s , INVALID_MODE)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  56 </font></span><font color="#ff00cc">     else </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  57 </font></span><font color="#ff00cc">        c_e_h = (s_errotListEmpty , NO_ERROR)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  58 </font></span><font color="#ff00cc">        &and; get_s_created_eh' &ne; None </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  59 </font></span><font color="#ff00cc">        &and; get_s_errotListEmpty' = None</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  60 </font></span><font color="#ff00cc">  &quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  61 </font></span><font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  62 </font></span>  <font color="#006699"><strong>let</strong></font> ?c_e_h <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;CREATE_ERROR_HANDLER s core_id pattr entry_point stack_sz&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  63 </font></span>  <font color="#006699"><strong>let</strong></font> ?cur_part_id <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;curPartID s core_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  64 </font></span>  <font color="#006699"><strong>let</strong></font> ?cur_proc_id <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;curProcID_Core s core_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  65 </font></span>  <font color="#006699"><strong>let</strong></font> ?attr_set_priority_entry_stack <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;setErrorProcAttr pattr entry_point stack_sz&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  66 </font></span>  <font color="#006699"><strong>let</strong></font> ?s_created_eh <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;createProc s (the ?cur_part_id, the ?cur_proc_id) ?attr_set_priority_entry_stack&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  67 </font></span>  <font color="#006699"><strong>let</strong></font> ?s_errotListEmpty <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;setErrorProcListEmpty ?s_created_eh (the ?cur_part_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  68 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  69 </font></span>  <font color="#006699"><strong>let</strong></font> ?get_s_created_eh' <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;getProcAttr (fst ?c_e_h) (the ?cur_part_id, the ?cur_proc_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  70 </font></span>  <font color="#006699"><strong>let</strong></font> ?get_s_errotListEmpty' <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;getError (fst ?c_e_h) (the ?cur_part_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  71 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  72 </font></span>  <font color="#006699"><strong>have</strong></font> a10 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getProcAttr s (the ?cur_part_id, HM_PROC_ID) &ne; None </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  73 </font></span><font color="#ff00cc">        &#10230; ?c_e_h = (s , NO_ACTION)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  74 </font></span>    <font color="#006699"><strong>unfolding</strong></font> CREATE_ERROR_HANDLER_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  75 </font></span>  <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> a11 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;&not;getProcAttr s (the ?cur_part_id, HM_PROC_ID) &ne; None</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  76 </font></span><font color="#ff00cc">      &and; stack_sz &gt; MAX_STACK_SZ_VALUE &#10230; ?c_e_h = (s , INVALID_CONFIG)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  77 </font></span>    <font color="#006699"><strong>unfolding</strong></font> CREATE_ERROR_HANDLER_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  78 </font></span>  <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> a12 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;&not;getProcAttr s (the ?cur_part_id, HM_PROC_ID) &ne; None</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  79 </font></span><font color="#ff00cc">      &and; &not;stack_sz &gt; MAX_STACK_SZ_VALUE</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  80 </font></span><font color="#ff00cc">      &and; the(getcurPartMode s core_id) = NORMAL</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  81 </font></span><font color="#ff00cc">      &#10230; ?c_e_h = (s , INVALID_MODE)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  82 </font></span>    <font color="#006699"><strong>unfolding</strong></font> CREATE_ERROR_HANDLER_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  83 </font></span>  <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> a13 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;&not;getProcAttr s (the ?cur_part_id, HM_PROC_ID) &ne; None</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  84 </font></span><font color="#ff00cc">      &and; &not;stack_sz &gt; MAX_STACK_SZ_VALUE</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  85 </font></span><font color="#ff00cc">      &and; &not;the(getcurPartMode s core_id) = NORMAL</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  86 </font></span><font color="#ff00cc">      &#10230; ?c_e_h = (?s_errotListEmpty , NO_ERROR) </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  87 </font></span><font color="#ff00cc">        &and; ?get_s_created_eh' &ne; None &and; ?get_s_errotListEmpty' = None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  88 </font></span>  <font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  89 </font></span>    <font color="#006699"><strong>{</strong></font><font color="#0099ff"><strong>assume</strong></font> a13_0 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;&not;getProcAttr s (the ?cur_part_id, HM_PROC_ID) &ne; None</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  90 </font></span><font color="#ff00cc">      &and; &not;stack_sz &gt; MAX_STACK_SZ_VALUE</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  91 </font></span><font color="#ff00cc">      &and; &not;the(getcurPartMode s core_id) = NORMAL&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  92 </font></span>     <font color="#006699"><strong>hence</strong></font> a13_1 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;?c_e_h = (?s_errotListEmpty , NO_ERROR)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  93 </font></span>      <font color="#006699"><strong>unfolding</strong></font> CREATE_ERROR_HANDLER_def Let_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  94 </font></span>     <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;?get_s_created_eh' &ne; None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  95 </font></span>     <font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  96 </font></span>        <font color="#006699"><strong>have</strong></font> a14_0 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getProcAttr ?s_created_eh (the ?cur_part_id, the ?cur_proc_id) &ne; None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  97 </font></span>          <font color="#006699"><strong>using</strong></font> getProcAttr_createProc_NotNone <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  98 </font></span>        <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getProcAttr ?s_errotListEmpty (the ?cur_part_id, the ?cur_proc_id) &ne; None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  99 </font></span>          <font color="#006699"><strong>using</strong></font> getProcAttr_setErrorProcListEmpty
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 100 </font></span>          <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>simp add<font color="#000000"><strong>:</strong></font> getProcAttr_setErrorProcListEmpty<font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 101 </font></span>        <font color="#0099ff"><strong>thus</strong></font> ?thesis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 102 </font></span>          <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>simp add<font color="#000000"><strong>:</strong></font> calculation<font color="#000000"><strong>)</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 103 </font></span>     <font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 104 </font></span>     <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;?get_s_errotListEmpty' = None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 105 </font></span>      <font color="#006699"><strong>using</strong></font> getError_setErrorProcListEmpty_None
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 106 </font></span>      <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>simp add<font color="#000000"><strong>:</strong></font> getError_setErrorProcListEmpty_None a13_1<font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 107 </font></span>     <font color="#006699"><strong>ultimately</strong></font> <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;?c_e_h = (?s_errotListEmpty , NO_ERROR) </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 108 </font></span><font color="#ff00cc">        &and; ?get_s_created_eh' &ne; None &and; ?get_s_errotListEmpty' = None&quot;</font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 109 </font></span>      <font color="#006699"><strong>using</strong></font> a13_1 <font color="#006699"><strong>by</strong></font> blast
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 110 </font></span>    <font color="#006699"><strong>}</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 111 </font></span>    <font color="#0099ff"><strong>thus</strong></font> ?thesis <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 112 </font></span>  <font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 113 </font></span>  <font color="#006699"><strong>ultimately</strong></font> <font color="#0099ff"><strong>show</strong></font> ?thesis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 114 </font></span>    <font color="#006699"><strong>by</strong></font> metis 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 115 </font></span><font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 116 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 117 </font></span><font color="#cc0000">(*===GET_ERROR_STATUS service===*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 118 </font></span><font color="#006699"><strong>lemma</strong></font> getError_deleteReportedErro_None <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getError (deleteReportedErro s core_id) (the(curPartID s core_id)) = None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 119 </font></span>  <font color="#006699"><strong>unfolding</strong></font> getError_def deleteReportedErro_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 120 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 121 </font></span><font color="#006699"><strong>lemma</strong></font> getError_rstHMStatuCalled <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getError (rstHMStatuCalled s part_id) part_id = getError s part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 122 </font></span>  <font color="#006699"><strong>unfolding</strong></font> getError_def rstHMStatuCalled_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 123 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 124 </font></span><font color="#006699"><strong>lemma</strong></font> getHMStatusCalled_rstHMStatuCalled_some_false <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getHMStatusCalled (rstHMStatuCalled s part_id) part_id = Some False&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 125 </font></span>  <font color="#006699"><strong>unfolding</strong></font> getHMStatusCalled_def rstHMStatuCalled_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 126 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 127 </font></span><font color="#006699"><strong>lemma</strong></font> GET_ERROR_STATUS <font color="#000000"><strong>:</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 128 </font></span>  <font color="#ff00cc">&quot;let</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 129 </font></span><font color="#ff00cc">      g_e_s = GET_ERROR_STATUS s core_id;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 130 </font></span><font color="#ff00cc">      cur_part_id = curPartID s core_id;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 131 </font></span><font color="#ff00cc">      cur_proc_id = curProcID_Core s core_id;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 132 </font></span><font color="#ff00cc">      reportEr = getError s (the cur_part_id);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 133 </font></span><font color="#ff00cc">      s_clearFstEr = deleteReportedErro s core_id;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 134 </font></span><font color="#ff00cc">      s_clearFstEr_rst = rstHMStatuCalled s_clearFstEr (the cur_part_id);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 135 </font></span><font color="#ff00cc">                                 </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 136 </font></span><font color="#ff00cc">      get_s_clearFstEr' = getError (fst g_e_s) (the cur_part_id);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 137 </font></span><font color="#ff00cc">      get_s_clearFstEr_rst' = getHMStatusCalled (fst g_e_s) (the cur_part_id)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 138 </font></span><font color="#ff00cc">   in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 139 </font></span><font color="#ff00cc">     if (the cur_proc_id) &ne; HM_PROC_ID then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 140 </font></span><font color="#ff00cc">        g_e_s = (s , None , INVALID_CONFIG)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 141 </font></span><font color="#ff00cc">     else if errorList(hm_' s)(the cur_part_id) = None then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 142 </font></span><font color="#ff00cc">        g_e_s = (s , None ,  NO_ACTION)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 143 </font></span><font color="#ff00cc">     else</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 144 </font></span><font color="#ff00cc">        g_e_s = (s_clearFstEr_rst, reportEr, NO_ERROR)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 145 </font></span><font color="#ff00cc">        &and; get_s_clearFstEr' = None</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 146 </font></span><font color="#ff00cc">        &and; get_s_clearFstEr_rst' = Some False</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 147 </font></span><font color="#ff00cc">  &quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 148 </font></span><font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 149 </font></span>  <font color="#006699"><strong>let</strong></font> ?g_e_s <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;GET_ERROR_STATUS s core_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 150 </font></span>  <font color="#006699"><strong>let</strong></font> ?cur_part_id <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;curPartID s core_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 151 </font></span>  <font color="#006699"><strong>let</strong></font> ?cur_proc_id <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;curProcID_Core s core_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 152 </font></span>  <font color="#006699"><strong>let</strong></font> ?reportEr <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;getError s (the ?cur_part_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 153 </font></span>  <font color="#006699"><strong>let</strong></font> ?s_clearFstEr <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;deleteReportedErro s core_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 154 </font></span>  <font color="#006699"><strong>let</strong></font> ?s_clearFstEr_rst <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;rstHMStatuCalled ?s_clearFstEr (the ?cur_part_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 155 </font></span>                                 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 156 </font></span>  <font color="#006699"><strong>let</strong></font> ?get_s_clearFstEr' <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;getError (fst ?g_e_s) (the ?cur_part_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 157 </font></span>  <font color="#006699"><strong>let</strong></font> ?get_s_clearFstEr_rst' <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;getHMStatusCalled (fst ?g_e_s) (the ?cur_part_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 158 </font></span>  <font color="#006699"><strong>have</strong></font> a10 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;(the ?cur_proc_id) &ne; HM_PROC_ID &#10230; ?g_e_s = (s , None , INVALID_CONFIG)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 159 </font></span>    <font color="#006699"><strong>unfolding</strong></font> GET_ERROR_STATUS_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 160 </font></span>  <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> a11 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;&not;(the ?cur_proc_id) &ne; HM_PROC_ID</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 161 </font></span><font color="#ff00cc">    &and; errorList(hm_' s)(the ?cur_part_id) = None</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 162 </font></span><font color="#ff00cc">    &#10230; ?g_e_s = (s , None ,  NO_ACTION)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 163 </font></span>    <font color="#006699"><strong>unfolding</strong></font> GET_ERROR_STATUS_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 164 </font></span>  <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> a12 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;&not;(the ?cur_proc_id) &ne; HM_PROC_ID</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 165 </font></span><font color="#ff00cc">    &and; &not;errorList(hm_' s)(the ?cur_part_id) = None</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 166 </font></span><font color="#ff00cc">    &#10230; ?g_e_s = (?s_clearFstEr_rst, ?reportEr, NO_ERROR)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 167 </font></span><font color="#ff00cc">        &and; ?get_s_clearFstEr' = None</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 168 </font></span><font color="#ff00cc">        &and; ?get_s_clearFstEr_rst' = Some False&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 169 </font></span>  <font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 170 </font></span>    <font color="#006699"><strong>{</strong></font> <font color="#0099ff"><strong>assume</strong></font> a12_0 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;&not;(the ?cur_proc_id) &ne; HM_PROC_ID</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 171 </font></span><font color="#ff00cc">            &and; &not;errorList(hm_' s)(the ?cur_part_id) = None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 172 </font></span>      <font color="#006699"><strong>hence</strong></font> a12_1 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;?g_e_s = (?s_clearFstEr_rst, ?reportEr, NO_ERROR)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 173 </font></span>        <font color="#006699"><strong>unfolding</strong></font> GET_ERROR_STATUS_def Let_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 174 </font></span>      <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> a12_2 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;?get_s_clearFstEr' = None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 175 </font></span>      <font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 176 </font></span>        <font color="#006699"><strong>have</strong></font> a13_0 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getError ?s_clearFstEr (the ?cur_part_id) = None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 177 </font></span>          <font color="#006699"><strong>using</strong></font> getError_deleteReportedErro_None <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 178 </font></span>        <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> a13_1 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getError ?s_clearFstEr_rst (the ?cur_part_id) = None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 179 </font></span>          <font color="#006699"><strong>using</strong></font> getError_rstHMStatuCalled
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 180 </font></span>          <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>simp add<font color="#000000"><strong>:</strong></font> getError_rstHMStatuCalled calculation<font color="#000000"><strong>)</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 181 </font></span>        <font color="#0099ff"><strong>thus</strong></font> ?thesis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 182 </font></span>          <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>simp add<font color="#000000"><strong>:</strong></font> a12_1<font color="#000000"><strong>)</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 183 </font></span>      <font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 184 </font></span>      <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> a12_3 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;?get_s_clearFstEr_rst' = Some False&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 185 </font></span>      <font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 186 </font></span>        <font color="#006699"><strong>have</strong></font> a13_0 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getHMStatusCalled ?s_clearFstEr_rst (the ?cur_part_id) = Some False&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 187 </font></span>          <font color="#006699"><strong>using</strong></font> getHMStatusCalled_rstHMStatuCalled_some_false <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 188 </font></span>        <font color="#0099ff"><strong>thus</strong></font> ?thesis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 189 </font></span>          <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>simp add<font color="#000000"><strong>:</strong></font> a12_1<font color="#000000"><strong>)</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 190 </font></span>      <font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 191 </font></span>      <font color="#006699"><strong>ultimately</strong></font> <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;?g_e_s = (?s_clearFstEr_rst, ?reportEr, NO_ERROR)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 192 </font></span><font color="#ff00cc">        &and; ?get_s_clearFstEr' = None</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 193 </font></span><font color="#ff00cc">        &and; ?get_s_clearFstEr_rst' = Some False&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 194 </font></span>        <font color="#006699"><strong>by</strong></font> blast
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 195 </font></span>    <font color="#006699"><strong>}</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 196 </font></span>   <font color="#0099ff"><strong>thus</strong></font> ?thesis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 197 </font></span>     <font color="#006699"><strong>by</strong></font> blast
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 198 </font></span>  <font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 199 </font></span>  <font color="#006699"><strong>ultimately</strong></font> <font color="#0099ff"><strong>show</strong></font> ?thesis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 200 </font></span>    <font color="#006699"><strong>by</strong></font> meson 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 201 </font></span><font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 202 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 203 </font></span><font color="#cc0000">(*===RAISE_APPLICATION_ERROR service===*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 204 </font></span><font color="#006699"><strong>lemma</strong></font> getError_setError_NotNone <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getError (setError s part_id error) part_id &ne; None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 205 </font></span>  <font color="#006699"><strong>unfolding</strong></font> getError_def setError_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 206 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 207 </font></span><font color="#006699"><strong>lemma</strong></font> getError_setHMCalled <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getError (setHMCalled s part_id0) part_id1 = getError s part_id1&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 208 </font></span>  <font color="#006699"><strong>unfolding</strong></font> getError_def setHMCalled_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 209 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 210 </font></span><font color="#006699"><strong>lemma</strong></font> getError_setHMStatuCalled <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getError (setHMStatuCalled s part_id0) part_id1 = getError s part_id1&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 211 </font></span>  <font color="#006699"><strong>unfolding</strong></font> getError_def setHMStatuCalled_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 212 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 213 </font></span><font color="#006699"><strong>lemma</strong></font> getError_procAlone <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getError (procAlone s pp) part_id = getError s part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 214 </font></span><font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 215 </font></span>  <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;getError (procAlone s pp) part_id = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 216 </font></span><font color="#ff00cc">    errorList (hm_' (let proc_id_sta = procSta (procs_' s) pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 217 </font></span><font color="#ff00cc">  case proc_id_sta of </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 218 </font></span><font color="#ff00cc">      Some READY &rArr; readyDel_s_D s (fst pp) (snd pp) |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 219 </font></span><font color="#ff00cc">      Some WAITING &rArr; if isInWaitQ s pp then waitDel_D s pp</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 220 </font></span><font color="#ff00cc">                      else s |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 221 </font></span><font color="#ff00cc">      _ &rArr; s)) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 222 </font></span>    <font color="#006699"><strong>unfolding</strong></font> getError_def procAlone_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 223 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getError (procAlone s pp) part_id = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 224 </font></span><font color="#ff00cc">    errorList (hm_' (let proc_id_sta = procSta (procs_' s) pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 225 </font></span><font color="#ff00cc">  case proc_id_sta of </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 226 </font></span><font color="#ff00cc">      Some READY &rArr; (let ll = the ((readyQue(partitions_' s)) (fst pp)); </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 227 </font></span><font color="#ff00cc">                      proc_priority = the((curPriority(procs_' s)) ((fst pp), (snd pp))) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 228 </font></span><font color="#ff00cc">                       s&#10631;partitions_' := (partitions_' s)&#10631;readyQue := </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 229 </font></span><font color="#ff00cc">                         readyDel_D (readyQue(partitions_' s)) (fst pp) proc_priority (snd pp)&#10632;&#10632;) |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 230 </font></span><font color="#ff00cc">      Some WAITING &rArr; if isInWaitQ s pp then </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 231 </font></span><font color="#ff00cc">                      (let cid = the (procBlngCore pp); vpwl = waitQue (cores_' s); </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 232 </font></span><font color="#ff00cc">                          pd = waitDiff(rscPendProcs_' s); new_vp_pd = waitQ_SuspQDel vpwl pd cid pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 233 </font></span><font color="#ff00cc">                          s&#10631;cores_' := (cores_' s)&#10631;waitQue := fst new_vp_pd&#10632;,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 234 </font></span><font color="#ff00cc">                            rscPendProcs_' := (rscPendProcs_' s)&#10631;waitDiff := snd new_vp_pd&#10632;&#10632;)      </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 235 </font></span><font color="#ff00cc">                      else s |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 236 </font></span><font color="#ff00cc">      _ &rArr; s)) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 237 </font></span>    <font color="#006699"><strong>unfolding</strong></font> readyDel_s_D_def waitDel_D_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 238 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getError (procAlone s pp) part_id = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 239 </font></span><font color="#ff00cc">   (let proc_id_sta = procSta (procs_' s) pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 240 </font></span><font color="#ff00cc">  case proc_id_sta of </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 241 </font></span><font color="#ff00cc">      Some READY &rArr; (let ll = the ((readyQue(partitions_' s)) (fst pp)); </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 242 </font></span><font color="#ff00cc">                      proc_priority = the((curPriority(procs_' s)) ((fst pp), (snd pp))) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 243 </font></span><font color="#ff00cc">                       errorList (hm_' (s&#10631;partitions_' := (partitions_' s)&#10631;readyQue := </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 244 </font></span><font color="#ff00cc">                         readyDel_D (readyQue(partitions_' s)) (fst pp) proc_priority (snd pp)&#10632;&#10632;))) part_id |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 245 </font></span><font color="#ff00cc">      Some WAITING &rArr; if isInWaitQ s pp then </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 246 </font></span><font color="#ff00cc">                      (let cid = the (procBlngCore pp); vpwl = waitQue (cores_' s); </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 247 </font></span><font color="#ff00cc">                          pd = waitDiff(rscPendProcs_' s); new_vp_pd = waitQ_SuspQDel vpwl pd cid pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 248 </font></span><font color="#ff00cc">                       errorList (hm_' (s&#10631;cores_' := (cores_' s)&#10631;waitQue := fst new_vp_pd&#10632;,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 249 </font></span><font color="#ff00cc">                            rscPendProcs_' := (rscPendProcs_' s)&#10631;waitDiff := snd new_vp_pd&#10632;&#10632;)) part_id )      </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 250 </font></span><font color="#ff00cc">                       else  errorList (hm_' s) part_id  |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 251 </font></span><font color="#ff00cc">      _ &rArr;  errorList (hm_' s) part_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 252 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>smt <font color="#000000"><strong>(</strong></font>z3<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>1<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>2<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>3<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>4<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>5<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.exhaust option.case_eq_if<font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 253 </font></span>   
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 254 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getError (procAlone s pp) part_id =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 255 </font></span><font color="#ff00cc">      (let proc_id_sta = procSta (procs_' s) pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 256 </font></span><font color="#ff00cc">  case proc_id_sta of </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 257 </font></span><font color="#ff00cc">      Some READY &rArr; errorList (hm_' s) |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 258 </font></span><font color="#ff00cc">      Some WAITING &rArr; if isInWaitQ s pp then </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 259 </font></span><font color="#ff00cc">                        errorList (hm_' s)      </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 260 </font></span><font color="#ff00cc">                      else errorList (hm_' s) |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 261 </font></span><font color="#ff00cc">      _ &rArr; errorList (hm_' s) )  part_id &quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 262 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>smt <font color="#000000"><strong>(</strong></font>z3<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>1<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>2<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>3<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>4<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>5<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.exhaust STATE.simps<font color="#000000"><strong>(</strong></font>7<font color="#000000"><strong>)</strong></font> STATE.surjective StaPart_Sched.simps<font color="#000000"><strong>(</strong></font>5<font color="#000000"><strong>)</strong></font> StaProc.simps<font color="#000000"><strong>(</strong></font>7<font color="#000000"><strong>)</strong></font> StaProc.update_convs<font color="#000000"><strong>(</strong></font>2<font color="#000000"><strong>)</strong></font> option.case_eq_if<font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 263 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getError (procAlone s pp) part_id = errorList (hm_' s) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 264 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>smt <font color="#000000"><strong>(</strong></font>z3<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>1<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>2<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>3<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>4<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.exhaust PROC_STATE_TYPE.simps<font color="#000000"><strong>(</strong></font>25<font color="#000000"><strong>)</strong></font> option.case_eq_if<font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 265 </font></span>  <font color="#0099ff"><strong>thus</strong></font> ?thesis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 266 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>simp add<font color="#000000"><strong>:</strong></font> getError_def<font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 267 </font></span><font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 268 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 269 </font></span><font color="#006699"><strong>lemma</strong></font> getError_procReady <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getError (procReady s pp) part_id = getError s part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 270 </font></span><font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 271 </font></span>  <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;getError (procReady s pp) part_id =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 272 </font></span><font color="#ff00cc">     errorList (hm_' (</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 273 </font></span><font color="#ff00cc">      let s_alone = procAlone s pp; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 274 </font></span><font color="#ff00cc">          s_alone_rdAdd = readyAdd s_alone pp;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 275 </font></span><font color="#ff00cc">          s_alone_rdAdd_SetRd = setProcSta s_alone_rdAdd pp READY in </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 276 </font></span><font color="#ff00cc">      s_alone_rdAdd_SetRd)) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 277 </font></span>  <font color="#006699"><strong>unfolding</strong></font> getError_def procReady_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 278 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getError (procReady s pp) part_id =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 279 </font></span><font color="#ff00cc">    errorList (hm_' (</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 280 </font></span><font color="#ff00cc">      let s_alone = procAlone s pp; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 281 </font></span><font color="#ff00cc">          s_alone_rdAdd = readyAdd s_alone pp in </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 282 </font></span><font color="#ff00cc">  s_alone_rdAdd&#10631;procs_' := (procs_' s_alone_rdAdd) &#10631;procSta := (procSta (procs_' s_alone_rdAdd))(pp := Some READY)&#10632;&#10632;)) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 283 </font></span>  <font color="#006699"><strong>unfolding</strong></font> setProcSta_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 284 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getError (procReady s pp) part_id =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 285 </font></span><font color="#ff00cc">   (let s_alone = procAlone s pp; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 286 </font></span><font color="#ff00cc">          s_alone_rdAdd = readyAdd s_alone pp in </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 287 </font></span><font color="#ff00cc">   errorList (hm_' ( s_alone_rdAdd&#10631;procs_' := (procs_' s_alone_rdAdd) &#10631;procSta := (procSta (procs_' s_alone_rdAdd))(pp := Some READY)&#10632;&#10632;)) part_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 288 </font></span>    <font color="#006699"><strong>by</strong></font> meson
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 289 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getError (procReady s pp) part_id = errorList (hm_' s) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 290 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>metis STATE.simps<font color="#000000"><strong>(</strong></font>7<font color="#000000"><strong>)</strong></font> STATE.surjective StaPart_Sched.simps<font color="#000000"><strong>(</strong></font>5<font color="#000000"><strong>)</strong></font> StaProc_sched.simps<font color="#000000"><strong>(</strong></font>3<font color="#000000"><strong>)</strong></font> getError_def getError_procAlone readyAdd_def<font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 291 </font></span>  <font color="#0099ff"><strong>thus</strong></font> ?thesis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 292 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>simp add<font color="#000000"><strong>:</strong></font> getError_def<font color="#000000"><strong>)</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 293 </font></span><font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 294 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 295 </font></span><font color="#006699"><strong>lemma</strong></font> getError_schedule_Abs <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getError (schedule_Abs s core_id) part_id = getError s part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 296 </font></span><font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 297 </font></span>  <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;getError (schedule_Abs s core_id) part_id =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 298 </font></span><font color="#ff00cc">    errorList (hm_' (let t = timer_' s; newPartID = schedPart core_id (int t);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 299 </font></span><font color="#ff00cc">      f_readyQ = readyQue (partitions_' s); </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 300 </font></span><font color="#ff00cc">      f_procSta = procSta (procs_' s); f_curProc = curProc (partitions_' s); </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 301 </font></span><font color="#ff00cc">      sched_proc_newPart = schedProc_Abs f_readyQ newPartID f_procSta f_curProc in </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 302 </font></span><font color="#ff00cc">  s&#10631;partitions_' := (partitions_' s)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 303 </font></span><font color="#ff00cc">      &#10631;curPart := (curPart(partitions_' s))(core_id := Some newPartID),</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 304 </font></span><font color="#ff00cc">      curProc := (curProc (partitions_' s))(newPartID := Some (snd(snd sched_proc_newPart))),</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 305 </font></span><font color="#ff00cc">      readyQue := fst sched_proc_newPart&#10632;,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 306 </font></span><font color="#ff00cc">    procs_' := (procs_' s)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 307 </font></span><font color="#ff00cc">      &#10631;procSta := setProcSta' (fst (snd sched_proc_newPart)) (newPartID, (snd(snd sched_proc_newPart))) RUNNING&#10632;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 308 </font></span><font color="#ff00cc">    &#10632;)) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 309 </font></span>  <font color="#006699"><strong>unfolding</strong></font> getError_def schedule_Abs_def <font color="#006699"><strong>by</strong></font> auto 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 310 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getError (schedule_Abs s core_id) part_id =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 311 </font></span><font color="#ff00cc">   (let t = timer_' s; newPartID = schedPart core_id (int t);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 312 </font></span><font color="#ff00cc">      f_readyQ = readyQue (partitions_' s); </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 313 </font></span><font color="#ff00cc">      f_procSta = procSta (procs_' s); f_curProc = curProc (partitions_' s); </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 314 </font></span><font color="#ff00cc">      sched_proc_newPart = schedProc_Abs f_readyQ newPartID f_procSta f_curProc in </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 315 </font></span><font color="#ff00cc">  errorList (hm_' (s&#10631;partitions_' := (partitions_' s)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 316 </font></span><font color="#ff00cc">      &#10631;curPart := (curPart(partitions_' s))(core_id := Some newPartID),</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 317 </font></span><font color="#ff00cc">      curProc := (curProc (partitions_' s))(newPartID := Some (snd(snd sched_proc_newPart))),</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 318 </font></span><font color="#ff00cc">      readyQue := fst sched_proc_newPart&#10632;,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 319 </font></span><font color="#ff00cc">    procs_' := (procs_' s)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 320 </font></span><font color="#ff00cc">      &#10631;procSta := setProcSta' (fst (snd sched_proc_newPart)) (newPartID, (snd(snd sched_proc_newPart))) RUNNING&#10632;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 321 </font></span><font color="#ff00cc">    &#10632;)) part_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 322 </font></span>    <font color="#006699"><strong>by</strong></font> meson
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 323 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getError (schedule_Abs s core_id) part_id = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 324 </font></span><font color="#ff00cc">    errorList (hm_' s) part_id&quot;</font> <font color="#006699"><strong>by</strong></font> simp
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 325 </font></span>  <font color="#0099ff"><strong>thus</strong></font> ?thesis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 326 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>simp add<font color="#000000"><strong>:</strong></font> getError_def<font color="#000000"><strong>)</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 327 </font></span><font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 328 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 329 </font></span><font color="#006699"><strong>lemma</strong></font> getHMCalled_setHMCarulled_SomeTrue <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getHMCalled (setHMCalled s part_id) part_id = Some True&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 330 </font></span>  <font color="#006699"><strong>unfolding</strong></font> getHMCalled_def setHMCalled_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 331 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 332 </font></span><font color="#006699"><strong>lemma</strong></font> getHMCalled_setHMStatuCalled <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getHMCalled (setHMStatuCalled s part_id0) part_id1 = getHMCalled s part_id1&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 333 </font></span>  <font color="#006699"><strong>unfolding</strong></font> getHMCalled_def setHMStatuCalled_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 334 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 335 </font></span><font color="#006699"><strong>lemma</strong></font> getHMCalled_procAlone <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getHMCalled (procAlone s pp) part_id = getHMCalled s part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 336 </font></span><font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 337 </font></span>  <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;getHMCalled (procAlone s pp) part_id = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 338 </font></span><font color="#ff00cc">    hmCalled (hm_' (let proc_id_sta = procSta (procs_' s) pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 339 </font></span><font color="#ff00cc">    case proc_id_sta of </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 340 </font></span><font color="#ff00cc">        Some READY &rArr; readyDel_s_D s (fst pp) (snd pp) |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 341 </font></span><font color="#ff00cc">        Some WAITING &rArr; if isInWaitQ s pp then waitDel_D s pp</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 342 </font></span><font color="#ff00cc">                        else s |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 343 </font></span><font color="#ff00cc">        _ &rArr; s)) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 344 </font></span>    <font color="#006699"><strong>unfolding</strong></font> getHMCalled_def procAlone_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 345 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getHMCalled (procAlone s pp) part_id = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 346 </font></span><font color="#ff00cc">    hmCalled (hm_' (let proc_id_sta = procSta (procs_' s) pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 347 </font></span><font color="#ff00cc">    case proc_id_sta of </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 348 </font></span><font color="#ff00cc">        Some READY &rArr; (let ll = the ((readyQue(partitions_' s)) (fst pp)); </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 349 </font></span><font color="#ff00cc">                         proc_priority = the((curPriority(procs_' s)) ((fst pp), (snd pp))) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 350 </font></span><font color="#ff00cc">                         s&#10631;partitions_' := (partitions_' s)&#10631;readyQue := readyDel_D (readyQue(partitions_' s)) (fst pp) proc_priority (snd pp)&#10632;&#10632;) |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 351 </font></span><font color="#ff00cc">        Some WAITING &rArr; if isInWaitQ s pp then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 352 </font></span><font color="#ff00cc">                          (let cid = the (procBlngCore pp); vpwl = waitQue (cores_' s); </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 353 </font></span><font color="#ff00cc">                            pd = waitDiff(rscPendProcs_' s); new_vp_pd = waitQ_SuspQDel vpwl pd cid pp  in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 354 </font></span><font color="#ff00cc">                            s&#10631;cores_' := (cores_' s)&#10631;waitQue := fst new_vp_pd&#10632;,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 355 </font></span><font color="#ff00cc">                              rscPendProcs_' := (rscPendProcs_' s)&#10631;waitDiff := snd new_vp_pd&#10632;&#10632;)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 356 </font></span><font color="#ff00cc">                        else s |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 357 </font></span><font color="#ff00cc">        _ &rArr; s)) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 358 </font></span>    <font color="#006699"><strong>unfolding</strong></font> readyDel_s_D_def waitDel_D_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 359 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getHMCalled (procAlone s pp) part_id = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 360 </font></span><font color="#ff00cc">    (let proc_id_sta = procSta (procs_' s) pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 361 </font></span><font color="#ff00cc">    case proc_id_sta of </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 362 </font></span><font color="#ff00cc">        Some READY &rArr; (let ll = the ((readyQue(partitions_' s)) (fst pp)); </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 363 </font></span><font color="#ff00cc">                         proc_priority = the((curPriority(procs_' s)) ((fst pp), (snd pp))) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 364 </font></span><font color="#ff00cc">                         hmCalled (hm_' (s&#10631;partitions_' := (partitions_' s)&#10631;readyQue := readyDel_D (readyQue(partitions_' s)) (fst pp) proc_priority (snd pp)&#10632;&#10632;)) part_id) |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 365 </font></span><font color="#ff00cc">        Some WAITING &rArr; if isInWaitQ s pp then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 366 </font></span><font color="#ff00cc">                          (let cid = the (procBlngCore pp); vpwl = waitQue (cores_' s); </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 367 </font></span><font color="#ff00cc">                            pd = waitDiff(rscPendProcs_' s); new_vp_pd = waitQ_SuspQDel vpwl pd cid pp  in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 368 </font></span><font color="#ff00cc">                            hmCalled (hm_' (s&#10631;cores_' := (cores_' s)&#10631;waitQue := fst new_vp_pd&#10632;,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 369 </font></span><font color="#ff00cc">                              rscPendProcs_' := (rscPendProcs_' s)&#10631;waitDiff := snd new_vp_pd&#10632;&#10632;))  part_id)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 370 </font></span><font color="#ff00cc">                        else hmCalled (hm_' s)  part_id |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 371 </font></span><font color="#ff00cc">        _ &rArr; hmCalled (hm_' s)  part_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 372 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>smt <font color="#000000"><strong>(</strong></font>z3<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>1<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>2<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>3<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>4<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>5<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.exhaust option.case_eq_if<font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 373 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getHMCalled (procAlone s pp) part_id = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 374 </font></span><font color="#ff00cc">    (let proc_id_sta = procSta (procs_' s) pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 375 </font></span><font color="#ff00cc">    case proc_id_sta of </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 376 </font></span><font color="#ff00cc">        Some READY &rArr; hmCalled (hm_' s) part_id |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 377 </font></span><font color="#ff00cc">        Some WAITING &rArr; if isInWaitQ s pp then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 378 </font></span><font color="#ff00cc">                          hmCalled (hm_' s) part_id</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 379 </font></span><font color="#ff00cc">                        else hmCalled (hm_' s) part_id |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 380 </font></span><font color="#ff00cc">        _ &rArr; hmCalled (hm_' s) part_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 381 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>smt <font color="#000000"><strong>(</strong></font>z3<font color="#000000"><strong>)</strong></font> STATE.simps<font color="#000000"><strong>(</strong></font>7<font color="#000000"><strong>)</strong></font> STATE.surjective StaPart_Sched.simps<font color="#000000"><strong>(</strong></font>5<font color="#000000"><strong>)</strong></font> StaProc.simps<font color="#000000"><strong>(</strong></font>7<font color="#000000"><strong>)</strong></font> StaProc.update_convs<font color="#000000"><strong>(</strong></font>2<font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 382 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getHMCalled (procAlone s pp) part_id = hmCalled (hm_' s) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 383 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>smt <font color="#000000"><strong>(</strong></font>z3<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>1<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>2<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>3<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>4<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.exhaust PROC_STATE_TYPE.simps<font color="#000000"><strong>(</strong></font>25<font color="#000000"><strong>)</strong></font> option.case_eq_if<font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 384 </font></span>  <font color="#0099ff"><strong>thus</strong></font> ?thesis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 385 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>metis <font color="#000000"><strong>(</strong></font>no_types<font color="#000000"><strong>,</strong></font> lifting<font color="#000000"><strong>)</strong></font> getHMCalled_def<font color="#000000"><strong>)</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 386 </font></span><font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 387 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 388 </font></span><font color="#006699"><strong>lemma</strong></font> getHMCalled_procReady <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getHMCalled (procReady s pp) part_id = getHMCalled s part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 389 </font></span><font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 390 </font></span>  <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;getHMCalled (procReady s pp) part_id = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 391 </font></span><font color="#ff00cc">    hmCalled (hm_' (</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 392 </font></span><font color="#ff00cc">      let s_alone = procAlone s pp; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 393 </font></span><font color="#ff00cc">          s_alone_rdAdd = readyAdd s_alone pp;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 394 </font></span><font color="#ff00cc">          s_alone_rdAdd_SetRd = setProcSta s_alone_rdAdd pp READY in </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 395 </font></span><font color="#ff00cc">      s_alone_rdAdd_SetRd)) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 396 </font></span>  <font color="#006699"><strong>unfolding</strong></font> getHMCalled_def procReady_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 397 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getHMCalled (procReady s pp) part_id = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 398 </font></span><font color="#ff00cc">    hmCalled (hm_' (</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 399 </font></span><font color="#ff00cc">      let s_alone = procAlone s pp; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 400 </font></span><font color="#ff00cc">          s_alone_rdAdd = readyAdd s_alone pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 401 </font></span><font color="#ff00cc">    s_alone_rdAdd&#10631;procs_' := (procs_' s_alone_rdAdd) &#10631;procSta := (procSta (procs_' s_alone_rdAdd))(pp := Some READY)&#10632;&#10632;)) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 402 </font></span>  <font color="#006699"><strong>unfolding</strong></font> setProcSta_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 403 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getHMCalled (procReady s pp) part_id =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 404 </font></span><font color="#ff00cc">    (let s_alone = procAlone s pp; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 405 </font></span><font color="#ff00cc">          s_alone_rdAdd = readyAdd s_alone pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 406 </font></span><font color="#ff00cc">    hmCalled (hm_' (s_alone_rdAdd&#10631;procs_' := (procs_' s_alone_rdAdd) &#10631;procSta := (procSta (procs_' s_alone_rdAdd))(pp := Some READY)&#10632;&#10632;)) part_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 407 </font></span>    <font color="#006699"><strong>by</strong></font> metis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 408 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getHMCalled (procReady s pp) part_id = hmCalled (hm_' s) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 409 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>smt <font color="#000000"><strong>(</strong></font>z3<font color="#000000"><strong>)</strong></font> STATE.simps<font color="#000000"><strong>(</strong></font>7<font color="#000000"><strong>)</strong></font> STATE.surjective StaPart_Sched.simps<font color="#000000"><strong>(</strong></font>5<font color="#000000"><strong>)</strong></font> StaProc_sched.simps<font color="#000000"><strong>(</strong></font>3<font color="#000000"><strong>)</strong></font> fun_upd_eqD fun_upd_triv getHMCalled_def getHMCalled_procAlone readyAdd_def setProcSta_def<font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 410 </font></span>  <font color="#0099ff"><strong>thus</strong></font> ?thesis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 411 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>metis <font color="#000000"><strong>(</strong></font>no_types<font color="#000000"><strong>,</strong></font> lifting<font color="#000000"><strong>)</strong></font> getHMCalled_def<font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 412 </font></span><font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 413 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 414 </font></span><font color="#006699"><strong>lemma</strong></font> getHMCalled_schedule_Abs <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getHMCalled (schedule_Abs s core_id) part_id = getHMCalled s part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 415 </font></span><font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 416 </font></span>  <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;getHMCalled (schedule_Abs s core_id) part_id =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 417 </font></span><font color="#ff00cc">    hmCalled (hm_' (let t = timer_' s; newPartID = schedPart core_id (int t);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 418 </font></span><font color="#ff00cc">      f_readyQ = readyQue (partitions_' s); </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 419 </font></span><font color="#ff00cc">      f_procSta = procSta (procs_' s); f_curProc = curProc (partitions_' s); </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 420 </font></span><font color="#ff00cc">      sched_proc_newPart = schedProc_Abs f_readyQ newPartID f_procSta f_curProc in </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 421 </font></span><font color="#ff00cc">  s&#10631;partitions_' := (partitions_' s)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 422 </font></span><font color="#ff00cc">      &#10631;curPart := (curPart(partitions_' s))(core_id := Some newPartID),</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 423 </font></span><font color="#ff00cc">      curProc := (curProc (partitions_' s))(newPartID := Some (snd(snd sched_proc_newPart))),</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 424 </font></span><font color="#ff00cc">      readyQue := fst sched_proc_newPart&#10632;,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 425 </font></span><font color="#ff00cc">    procs_' := (procs_' s)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 426 </font></span><font color="#ff00cc">      &#10631;procSta := setProcSta' (fst (snd sched_proc_newPart)) (newPartID, (snd(snd sched_proc_newPart))) RUNNING&#10632;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 427 </font></span><font color="#ff00cc">    &#10632;)) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 428 </font></span>  <font color="#006699"><strong>unfolding</strong></font> getHMCalled_def schedule_Abs_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 429 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getHMCalled (schedule_Abs s core_id) part_id =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 430 </font></span><font color="#ff00cc">   (let t = timer_' s; newPartID = schedPart core_id (int t);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 431 </font></span><font color="#ff00cc">      f_readyQ = readyQue (partitions_' s); </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 432 </font></span><font color="#ff00cc">      f_procSta = procSta (procs_' s); f_curProc = curProc (partitions_' s); </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 433 </font></span><font color="#ff00cc">      sched_proc_newPart = schedProc_Abs f_readyQ newPartID f_procSta f_curProc in </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 434 </font></span><font color="#ff00cc">   hmCalled (hm_' (s&#10631;partitions_' := (partitions_' s)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 435 </font></span><font color="#ff00cc">      &#10631;curPart := (curPart(partitions_' s))(core_id := Some newPartID),</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 436 </font></span><font color="#ff00cc">      curProc := (curProc (partitions_' s))(newPartID := Some (snd(snd sched_proc_newPart))),</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 437 </font></span><font color="#ff00cc">      readyQue := fst sched_proc_newPart&#10632;,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 438 </font></span><font color="#ff00cc">    procs_' := (procs_' s)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 439 </font></span><font color="#ff00cc">      &#10631;procSta := setProcSta' (fst (snd sched_proc_newPart)) (newPartID, (snd(snd sched_proc_newPart))) RUNNING&#10632;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 440 </font></span><font color="#ff00cc">    &#10632;)) part_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 441 </font></span>    <font color="#006699"><strong>by</strong></font> metis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 442 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getHMCalled (schedule_Abs s core_id) part_id = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 443 </font></span><font color="#ff00cc">    hmCalled (hm_' s) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 444 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>metis STATE.simps<font color="#000000"><strong>(</strong></font>7<font color="#000000"><strong>)</strong></font> STATE.surjective StaPart_Sched.simps<font color="#000000"><strong>(</strong></font>5<font color="#000000"><strong>)</strong></font> StaProc_sched.simps<font color="#000000"><strong>(</strong></font>3<font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 445 </font></span>  <font color="#0099ff"><strong>thus</strong></font> ?thesis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 446 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>metis getHMCalled_def<font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 447 </font></span><font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 448 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 449 </font></span><font color="#006699"><strong>lemma</strong></font> getHMStatusCalled_setHMStatuCalled_SomeTrue <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getHMStatusCalled (setHMStatuCalled s part_id) part_id = Some True&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 450 </font></span>  <font color="#006699"><strong>unfolding</strong></font> getHMStatusCalled_def setHMStatuCalled_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 451 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 452 </font></span><font color="#006699"><strong>lemma</strong></font> getHMStatusCalled_procAlone <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getHMStatusCalled (procAlone s pp) part_id = getHMStatusCalled s part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 453 </font></span><font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 454 </font></span>  <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;getHMStatusCalled (procAlone s pp) part_id =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 455 </font></span><font color="#ff00cc">    hmStatusCalled (hm_' (let proc_id_sta = procSta (procs_' s) pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 456 </font></span><font color="#ff00cc">    case proc_id_sta of </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 457 </font></span><font color="#ff00cc">        Some READY &rArr; readyDel_s_D s (fst pp) (snd pp) |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 458 </font></span><font color="#ff00cc">        Some WAITING &rArr; if isInWaitQ s pp then waitDel_D s pp</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 459 </font></span><font color="#ff00cc">                        else s |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 460 </font></span><font color="#ff00cc">        _ &rArr; s)) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 461 </font></span>    <font color="#006699"><strong>unfolding</strong></font> getHMStatusCalled_def procAlone_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 462 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getHMStatusCalled (procAlone s pp) part_id =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 463 </font></span><font color="#ff00cc">    hmStatusCalled (hm_' (let proc_id_sta = procSta (procs_' s) pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 464 </font></span><font color="#ff00cc">    case proc_id_sta of </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 465 </font></span><font color="#ff00cc">        Some READY &rArr; (let ll = the ((readyQue(partitions_' s)) (fst pp)); </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 466 </font></span><font color="#ff00cc">                        proc_priority = the((curPriority(procs_' s)) ((fst pp), (snd pp))) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 467 </font></span><font color="#ff00cc">                      s&#10631;partitions_' := (partitions_' s)&#10631;readyQue := readyDel_D (readyQue(partitions_' s)) (fst pp) proc_priority (snd pp)&#10632;&#10632;)|</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 468 </font></span><font color="#ff00cc">        Some WAITING &rArr; if isInWaitQ s pp then </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 469 </font></span><font color="#ff00cc">                          (let cid = the (procBlngCore pp); vpwl = waitQue (cores_' s); </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 470 </font></span><font color="#ff00cc">                        pd = waitDiff(rscPendProcs_' s); new_vp_pd = waitQ_SuspQDel vpwl pd cid pp  in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 471 </font></span><font color="#ff00cc">                      s&#10631;cores_' := (cores_' s)&#10631;waitQue := fst new_vp_pd&#10632;,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 472 </font></span><font color="#ff00cc">                        rscPendProcs_' := (rscPendProcs_' s)&#10631;waitDiff := snd new_vp_pd&#10632;&#10632;)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 473 </font></span><font color="#ff00cc">                          else s |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 474 </font></span><font color="#ff00cc">        _ &rArr; s)) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 475 </font></span>    <font color="#006699"><strong>unfolding</strong></font> readyDel_s_D_def waitDel_D_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 476 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getHMStatusCalled (procAlone s pp) part_id =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 477 </font></span><font color="#ff00cc">    (let proc_id_sta = procSta (procs_' s) pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 478 </font></span><font color="#ff00cc">    case proc_id_sta of </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 479 </font></span><font color="#ff00cc">        Some READY &rArr; (let ll = the ((readyQue(partitions_' s)) (fst pp)); </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 480 </font></span><font color="#ff00cc">                        proc_priority = the((curPriority(procs_' s)) ((fst pp), (snd pp))) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 481 </font></span><font color="#ff00cc">                      hmStatusCalled (hm_' (s&#10631;partitions_' := (partitions_' s)&#10631;readyQue := readyDel_D (readyQue(partitions_' s)) (fst pp) proc_priority (snd pp)&#10632;&#10632;)) part_id)|</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 482 </font></span><font color="#ff00cc">        Some WAITING &rArr; if isInWaitQ s pp then </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 483 </font></span><font color="#ff00cc">                          (let cid = the (procBlngCore pp); vpwl = waitQue (cores_' s); </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 484 </font></span><font color="#ff00cc">                        pd = waitDiff(rscPendProcs_' s); new_vp_pd = waitQ_SuspQDel vpwl pd cid pp  in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 485 </font></span><font color="#ff00cc">                      hmStatusCalled (hm_' (s&#10631;cores_' := (cores_' s)&#10631;waitQue := fst new_vp_pd&#10632;,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 486 </font></span><font color="#ff00cc">                        rscPendProcs_' := (rscPendProcs_' s)&#10631;waitDiff := snd new_vp_pd&#10632;&#10632;)) part_id) </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 487 </font></span><font color="#ff00cc">                          else hmStatusCalled (hm_' s) part_id |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 488 </font></span><font color="#ff00cc">        _ &rArr; hmStatusCalled (hm_' s) part_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 489 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>smt <font color="#000000"><strong>(</strong></font>z3<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>1<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>2<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>3<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.case<font color="#000000"><strong>(</strong></font>4<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.exhaust PROC_STATE_TYPE.simps<font color="#000000"><strong>(</strong></font>25<font color="#000000"><strong>)</strong></font> option.case_eq_if<font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 490 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getHMStatusCalled (procAlone s pp) part_id = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 491 </font></span><font color="#ff00cc">    (let proc_id_sta = procSta (procs_' s) pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 492 </font></span><font color="#ff00cc">    case proc_id_sta of </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 493 </font></span><font color="#ff00cc">        Some READY &rArr; hmStatusCalled (hm_' s) part_id|</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 494 </font></span><font color="#ff00cc">        Some WAITING &rArr; if isInWaitQ s pp then </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 495 </font></span><font color="#ff00cc">                          hmStatusCalled (hm_' s) part_id</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 496 </font></span><font color="#ff00cc">                        else hmStatusCalled (hm_' s) part_id |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 497 </font></span><font color="#ff00cc">        _ &rArr; hmStatusCalled (hm_' s) part_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 498 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>smt <font color="#000000"><strong>(</strong></font>z3<font color="#000000"><strong>)</strong></font> STATE.simps<font color="#000000"><strong>(</strong></font>7<font color="#000000"><strong>)</strong></font> STATE.surjective StaPart_Sched.simps<font color="#000000"><strong>(</strong></font>5<font color="#000000"><strong>)</strong></font> StaProc.simps<font color="#000000"><strong>(</strong></font>7<font color="#000000"><strong>)</strong></font> StaProc.update_convs<font color="#000000"><strong>(</strong></font>2<font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 499 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getHMStatusCalled (procAlone s pp) part_id = hmStatusCalled (hm_' s) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 500 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>smt <font color="#000000"><strong>(</strong></font>z3<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.exhaust PROC_STATE_TYPE.simps<font color="#000000"><strong>(</strong></font>21<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.simps<font color="#000000"><strong>(</strong></font>22<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.simps<font color="#000000"><strong>(</strong></font>23<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.simps<font color="#000000"><strong>(</strong></font>24<font color="#000000"><strong>)</strong></font> PROC_STATE_TYPE.simps<font color="#000000"><strong>(</strong></font>25<font color="#000000"><strong>)</strong></font> option.case_eq_if<font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 501 </font></span>  <font color="#0099ff"><strong>thus</strong></font> ?thesis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 502 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>metis <font color="#000000"><strong>(</strong></font>no_types<font color="#000000"><strong>,</strong></font> lifting<font color="#000000"><strong>)</strong></font> getHMStatusCalled_def<font color="#000000"><strong>)</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 503 </font></span><font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 504 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 505 </font></span><font color="#006699"><strong>lemma</strong></font> getHMStatusCalled_procReady <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getHMStatusCalled (procReady s pp) part_id = getHMStatusCalled s part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 506 </font></span><font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 507 </font></span>  <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;getHMStatusCalled (procReady s pp) part_id =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 508 </font></span><font color="#ff00cc">    hmStatusCalled (hm_' (</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 509 </font></span><font color="#ff00cc">      let s_alone = procAlone s pp; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 510 </font></span><font color="#ff00cc">          s_alone_rdAdd = readyAdd s_alone pp;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 511 </font></span><font color="#ff00cc">          s_alone_rdAdd_SetRd = setProcSta s_alone_rdAdd pp READY in </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 512 </font></span><font color="#ff00cc">      s_alone_rdAdd_SetRd)) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 513 </font></span>  <font color="#006699"><strong>unfolding</strong></font> getHMStatusCalled_def procReady_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 514 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getHMStatusCalled (procReady s pp) part_id =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 515 </font></span><font color="#ff00cc">    hmStatusCalled (hm_' (</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 516 </font></span><font color="#ff00cc">      let s_alone = procAlone s pp; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 517 </font></span><font color="#ff00cc">          s_alone_rdAdd = readyAdd s_alone pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 518 </font></span><font color="#ff00cc">      s_alone_rdAdd&#10631;procs_' := (procs_' s_alone_rdAdd) &#10631;procSta := (procSta (procs_' s_alone_rdAdd))(pp := Some READY)&#10632;&#10632;)) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 519 </font></span>  <font color="#006699"><strong>unfolding</strong></font> setProcSta_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 520 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getHMStatusCalled (procReady s pp) part_id =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 521 </font></span><font color="#ff00cc">     (let s_alone = procAlone s pp; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 522 </font></span><font color="#ff00cc">          s_alone_rdAdd = readyAdd s_alone pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 523 </font></span><font color="#ff00cc">      hmStatusCalled (hm_' (s_alone_rdAdd&#10631;procs_' := (procs_' s_alone_rdAdd) &#10631;procSta := (procSta (procs_' s_alone_rdAdd))(pp := Some READY)&#10632;&#10632;)) part_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 524 </font></span>    <font color="#006699"><strong>by</strong></font> metis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 525 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getHMStatusCalled (procReady s pp) part_id = hmStatusCalled (hm_' s) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 526 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>metis STATE.simps<font color="#000000"><strong>(</strong></font>7<font color="#000000"><strong>)</strong></font> STATE.surjective StaPart_Sched.simps<font color="#000000"><strong>(</strong></font>5<font color="#000000"><strong>)</strong></font> StaProc_sched.simps<font color="#000000"><strong>(</strong></font>3<font color="#000000"><strong>)</strong></font> getHMStatusCalled_def getHMStatusCalled_procAlone readyAdd_def<font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 527 </font></span>  <font color="#0099ff"><strong>thus</strong></font> ?thesis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 528 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>metis <font color="#000000"><strong>(</strong></font>no_types<font color="#000000"><strong>,</strong></font> lifting<font color="#000000"><strong>)</strong></font> getHMStatusCalled_def<font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 529 </font></span><font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 530 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 531 </font></span><font color="#006699"><strong>lemma</strong></font> getHMStatusCalled_schedule_Abs <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getHMStatusCalled (schedule_Abs s core_id) part_id = getHMStatusCalled s part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 532 </font></span><font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 533 </font></span>  <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;getHMStatusCalled (schedule_Abs s core_id) part_id = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 534 </font></span><font color="#ff00cc">    hmStatusCalled (hm_' (let t = timer_' s; newPartID = schedPart core_id (int t);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 535 </font></span><font color="#ff00cc">      f_readyQ = readyQue (partitions_' s); </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 536 </font></span><font color="#ff00cc">      f_procSta = procSta (procs_' s); f_curProc = curProc (partitions_' s); </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 537 </font></span><font color="#ff00cc">      sched_proc_newPart = schedProc_Abs f_readyQ newPartID f_procSta f_curProc in </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 538 </font></span><font color="#ff00cc">    s&#10631;partitions_' := (partitions_' s)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 539 </font></span><font color="#ff00cc">        &#10631;curPart := (curPart(partitions_' s))(core_id := Some newPartID),</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 540 </font></span><font color="#ff00cc">        curProc := (curProc (partitions_' s))(newPartID := Some (snd(snd sched_proc_newPart))),</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 541 </font></span><font color="#ff00cc">        readyQue := fst sched_proc_newPart&#10632;,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 542 </font></span><font color="#ff00cc">      procs_' := (procs_' s)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 543 </font></span><font color="#ff00cc">        &#10631;procSta := setProcSta' (fst (snd sched_proc_newPart)) (newPartID, (snd(snd sched_proc_newPart))) RUNNING&#10632;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 544 </font></span><font color="#ff00cc">      &#10632;)) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 545 </font></span>    <font color="#006699"><strong>unfolding</strong></font> getHMStatusCalled_def schedule_Abs_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 546 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getHMStatusCalled (schedule_Abs s core_id) part_id = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 547 </font></span><font color="#ff00cc">   (let t = timer_' s; newPartID = schedPart core_id (int t);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 548 </font></span><font color="#ff00cc">      f_readyQ = readyQue (partitions_' s); </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 549 </font></span><font color="#ff00cc">      f_procSta = procSta (procs_' s); f_curProc = curProc (partitions_' s); </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 550 </font></span><font color="#ff00cc">      sched_proc_newPart = schedProc_Abs f_readyQ newPartID f_procSta f_curProc in </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 551 </font></span><font color="#ff00cc">    hmStatusCalled (hm_' (s&#10631;partitions_' := (partitions_' s)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 552 </font></span><font color="#ff00cc">        &#10631;curPart := (curPart(partitions_' s))(core_id := Some newPartID),</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 553 </font></span><font color="#ff00cc">        curProc := (curProc (partitions_' s))(newPartID := Some (snd(snd sched_proc_newPart))),</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 554 </font></span><font color="#ff00cc">        readyQue := fst sched_proc_newPart&#10632;,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 555 </font></span><font color="#ff00cc">      procs_' := (procs_' s)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 556 </font></span><font color="#ff00cc">        &#10631;procSta := setProcSta' (fst (snd sched_proc_newPart)) (newPartID, (snd(snd sched_proc_newPart))) RUNNING&#10632;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 557 </font></span><font color="#ff00cc">      &#10632;)) part_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 558 </font></span>    <font color="#006699"><strong>by</strong></font> metis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 559 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getHMStatusCalled (schedule_Abs s core_id) part_id = hmStatusCalled (hm_' s) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 560 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>metis STATE.simps<font color="#000000"><strong>(</strong></font>7<font color="#000000"><strong>)</strong></font> STATE.surjective StaPart_Sched.simps<font color="#000000"><strong>(</strong></font>5<font color="#000000"><strong>)</strong></font> StaProc_sched.simps<font color="#000000"><strong>(</strong></font>3<font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 561 </font></span>  <font color="#0099ff"><strong>thus</strong></font> ?thesis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 562 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>metis <font color="#000000"><strong>(</strong></font>no_types<font color="#000000"><strong>,</strong></font> lifting<font color="#000000"><strong>)</strong></font> getHMStatusCalled_def<font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 563 </font></span><font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 564 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 565 </font></span><font color="#006699"><strong>lemma</strong></font> getProcSta_procReady_SomeREADY <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getProcSta (procReady s pp) pp = Some READY&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 566 </font></span><font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 567 </font></span>  <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;getProcSta (procReady s pp) pp = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 568 </font></span><font color="#ff00cc">  (procSta (procs_' (</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 569 </font></span><font color="#ff00cc">      let s_alone = procAlone s pp; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 570 </font></span><font color="#ff00cc">          s_alone_rdAdd = readyAdd s_alone pp;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 571 </font></span><font color="#ff00cc">          s_alone_rdAdd_SetRd = setProcSta s_alone_rdAdd pp READY in </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 572 </font></span><font color="#ff00cc">    s_alone_rdAdd_SetRd)))pp&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 573 </font></span>    <font color="#006699"><strong>unfolding</strong></font> getProcSta_def procReady_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 574 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getProcSta (procReady s pp) pp = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 575 </font></span><font color="#ff00cc">  (procSta (procs_' (</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 576 </font></span><font color="#ff00cc">      let s_alone = procAlone s pp; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 577 </font></span><font color="#ff00cc">          s_alone_rdAdd = readyAdd s_alone pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 578 </font></span><font color="#ff00cc">      s_alone_rdAdd&#10631;procs_' := (procs_' s_alone_rdAdd) &#10631;procSta := (procSta (procs_' s_alone_rdAdd))(pp := Some READY)&#10632;&#10632;)))pp&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 579 </font></span>    <font color="#006699"><strong>unfolding</strong></font> setProcSta_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 580 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getProcSta (procReady s pp) pp = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 581 </font></span><font color="#ff00cc">     (let s_alone = procAlone s pp; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 582 </font></span><font color="#ff00cc">          s_alone_rdAdd = readyAdd s_alone pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 583 </font></span><font color="#ff00cc">    (procSta (procs_' ( s_alone_rdAdd&#10631;procs_' := (procs_' s_alone_rdAdd) &#10631;procSta := (procSta (procs_' s_alone_rdAdd))(pp := Some READY)&#10632;&#10632;))) pp)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 584 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>metis <font color="#000000"><strong>(</strong></font>no_types<font color="#000000"><strong>,</strong></font> lifting<font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 585 </font></span>  <font color="#006699"><strong>hence</strong></font> <font color="#ff00cc">&quot;getProcSta (procReady s pp) pp = Some READY&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 586 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>metis PROCS_STATE_TYPE.simps<font color="#000000"><strong>(</strong></font>2<font color="#000000"><strong>)</strong></font> PROCS_STATE_TYPE.simps<font color="#000000"><strong>(</strong></font>7<font color="#000000"><strong>)</strong></font> PROCS_STATE_TYPE.surjective StaProc_sched.simps<font color="#000000"><strong>(</strong></font>1<font color="#000000"><strong>)</strong></font> StaProc_sched.simps<font color="#000000"><strong>(</strong></font>3<font color="#000000"><strong>)</strong></font> StaProc_sched.surjective fun_upd_eqD fun_upd_triv<font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 587 </font></span>  <font color="#0099ff"><strong>thus</strong></font> ?thesis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 588 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>metis <font color="#000000"><strong>(</strong></font>full_types<font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 589 </font></span><font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 590 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 591 </font></span><font color="#006699"><strong>lemma</strong></font> RAISE_APPLICATION_ERROR <font color="#000000"><strong>:</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 592 </font></span>  <font color="#ff00cc">&quot;let</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 593 </font></span><font color="#ff00cc">      r_a_e =  RAISE_APPLICATION_ERROR s core_id error_code msg;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 594 </font></span><font color="#ff00cc">      cur_part_id = curPartID s core_id;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 595 </font></span><font color="#ff00cc">      cur_proc_id = curProcID_Core s core_id;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 596 </font></span><font color="#ff00cc">      reported_error = packRptError error_code (the cur_part_id, the cur_proc_id) msg;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 597 </font></span><font color="#ff00cc">      s_setError = setError s (the cur_part_id) reported_error;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 598 </font></span><font color="#ff00cc">      s_setError_called = setHMCalled s_setError (the cur_part_id);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 599 </font></span><font color="#ff00cc">      s_setError_calledStaus = setHMStatuCalled s_setError_called (the cur_part_id);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 600 </font></span><font color="#ff00cc">      s_setError_aloneHM = procAlone s_setError_calledStaus (the cur_part_id, HM_PROC_ID);     </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 601 </font></span><font color="#ff00cc">      s_setError_alone_rdy_HM = procReady s_setError_aloneHM (the cur_part_id, HM_PROC_ID);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 602 </font></span><font color="#ff00cc">                               </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 603 </font></span><font color="#ff00cc">      get_s_setError' = getError (fst r_a_e) (the cur_part_id);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 604 </font></span><font color="#ff00cc">      get_s_setError_called' = getHMCalled (fst r_a_e) (the cur_part_id);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 605 </font></span><font color="#ff00cc">      get_s_setError_calledStaus' = getHMStatusCalled (fst r_a_e) (the cur_part_id);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 606 </font></span><font color="#ff00cc">      get_s_setError_alone_rdy_HM' = getProcSta s_setError_alone_rdy_HM (the cur_part_id, HM_PROC_ID)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 607 </font></span><font color="#ff00cc">   in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 608 </font></span><font color="#ff00cc">   if length msg &ge; MAX_MSG_SZ_VALUE then </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 609 </font></span><font color="#ff00cc">      r_a_e = (s, INVALID_PARAM)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 610 </font></span><font color="#ff00cc">   else if error_code &ne; PROC_ERROR_CODE_TYPE.APP_ERROR then </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 611 </font></span><font color="#ff00cc">      r_a_e = (s, INVALID_PARAM)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 612 </font></span><font color="#ff00cc">   else if the cur_proc_id = HM_PROC_ID &or; getProcAttr s (the cur_part_id, HM_PROC_ID) = None then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 613 </font></span><font color="#ff00cc">      r_a_e = hmDetectedError s core_id PART_ERROR0</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 614 </font></span><font color="#ff00cc">   else if getProcSta s (the cur_part_id, HM_PROC_ID) &ne; Some RUNNING then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 615 </font></span><font color="#ff00cc">      r_a_e = (schedule_Abs s_setError_alone_rdy_HM core_id, NO_ERROR) </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 616 </font></span><font color="#ff00cc">      &and; get_s_setError' &ne; None</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 617 </font></span><font color="#ff00cc">      &and; get_s_setError_called' = Some True</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 618 </font></span><font color="#ff00cc">      &and; get_s_setError_calledStaus' = Some True</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 619 </font></span><font color="#ff00cc">      &and; get_s_setError_alone_rdy_HM' = Some READY</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 620 </font></span><font color="#ff00cc">   else</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 621 </font></span><font color="#ff00cc">      r_a_e = (s_setError, NO_ERROR)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 622 </font></span><font color="#ff00cc">      &and; get_s_setError' &ne; None</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 623 </font></span><font color="#ff00cc">  &quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 624 </font></span><font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 625 </font></span>  <font color="#006699"><strong>let</strong></font> ?r_a_e <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;RAISE_APPLICATION_ERROR s core_id error_code msg&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 626 </font></span>  <font color="#006699"><strong>let</strong></font> ?cur_part_id <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;curPartID s core_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 627 </font></span>  <font color="#006699"><strong>let</strong></font> ?cur_proc_id <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;curProcID_Core s core_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 628 </font></span>  <font color="#006699"><strong>let</strong></font> ?reported_error <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;packRptError error_code (the ?cur_part_id, the ?cur_proc_id) msg&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 629 </font></span>  <font color="#006699"><strong>let</strong></font> ?s_setError <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;setError s (the ?cur_part_id) ?reported_error&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 630 </font></span>  <font color="#006699"><strong>let</strong></font> ?s_setError_called <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;setHMCalled ?s_setError (the ?cur_part_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 631 </font></span>  <font color="#006699"><strong>let</strong></font> ?s_setError_calledStaus <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;setHMStatuCalled ?s_setError_called (the ?cur_part_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 632 </font></span>  <font color="#006699"><strong>let</strong></font> ?s_setError_aloneHM <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;procAlone ?s_setError_calledStaus (the ?cur_part_id, HM_PROC_ID)&quot;</font>    
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 633 </font></span>  <font color="#006699"><strong>let</strong></font> ?s_setError_alone_rdy_HM <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;procReady ?s_setError_aloneHM (the ?cur_part_id, HM_PROC_ID)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 634 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 635 </font></span>  <font color="#006699"><strong>let</strong></font> ?get_s_setError' <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;getError (fst ?r_a_e) (the ?cur_part_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 636 </font></span>  <font color="#006699"><strong>let</strong></font> ?get_s_setError_called' <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;getHMCalled (fst ?r_a_e) (the ?cur_part_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 637 </font></span>  <font color="#006699"><strong>let</strong></font> ?get_s_setError_calledStaus' <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;getHMStatusCalled (fst ?r_a_e) (the ?cur_part_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 638 </font></span>  <font color="#006699"><strong>let</strong></font> ?get_s_setError_alone_rdy_HM' <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;getProcSta ?s_setError_alone_rdy_HM (the ?cur_part_id, HM_PROC_ID)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 639 </font></span>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 640 </font></span>  <font color="#006699"><strong>have</strong></font> a10 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;length msg &ge; MAX_MSG_SZ_VALUE &#10230; ?r_a_e = (s, INVALID_PARAM)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 641 </font></span>    <font color="#006699"><strong>unfolding</strong></font> RAISE_APPLICATION_ERROR_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 642 </font></span>  <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> a11 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;&not;length msg &ge; MAX_MSG_SZ_VALUE </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 643 </font></span><font color="#ff00cc">    &and; error_code &ne; PROC_ERROR_CODE_TYPE.APP_ERROR </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 644 </font></span><font color="#ff00cc">    &#10230; ?r_a_e = (s, INVALID_PARAM)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 645 </font></span>    <font color="#006699"><strong>unfolding</strong></font> RAISE_APPLICATION_ERROR_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 646 </font></span>  <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> a12 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;&not;length msg &ge; MAX_MSG_SZ_VALUE </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 647 </font></span><font color="#ff00cc">    &and; &not;error_code &ne; PROC_ERROR_CODE_TYPE.APP_ERROR</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 648 </font></span><font color="#ff00cc">    &and; (the ?cur_proc_id = HM_PROC_ID &or; getProcAttr s (the ?cur_part_id, HM_PROC_ID) = None)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 649 </font></span><font color="#ff00cc">    &#10230; ?r_a_e = hmDetectedError s core_id PART_ERROR0&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 650 </font></span>    <font color="#006699"><strong>unfolding</strong></font> RAISE_APPLICATION_ERROR_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 651 </font></span>  <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> a13 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;&not;length msg &ge; MAX_MSG_SZ_VALUE </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 652 </font></span><font color="#ff00cc">    &and; &not;error_code &ne; PROC_ERROR_CODE_TYPE.APP_ERROR</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 653 </font></span><font color="#ff00cc">    &and; &not;(the ?cur_proc_id = HM_PROC_ID &or; getProcAttr s (the ?cur_part_id, HM_PROC_ID) = None)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 654 </font></span><font color="#ff00cc">    &and; getProcSta s (the ?cur_part_id, HM_PROC_ID) &ne; Some RUNNING</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 655 </font></span><font color="#ff00cc">    &#10230; ?r_a_e = (schedule_Abs ?s_setError_alone_rdy_HM core_id, NO_ERROR) </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 656 </font></span><font color="#ff00cc">        &and; ?get_s_setError' &ne; None</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 657 </font></span><font color="#ff00cc">        &and; ?get_s_setError_called' = Some True</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 658 </font></span><font color="#ff00cc">        &and; ?get_s_setError_calledStaus' = Some True</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 659 </font></span><font color="#ff00cc">        &and; ?get_s_setError_alone_rdy_HM' = Some READY&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 660 </font></span>  <font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 661 </font></span>    <font color="#006699"><strong>{</strong></font> <font color="#0099ff"><strong>assume</strong></font> a13_0 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;&not;length msg &ge; MAX_MSG_SZ_VALUE </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 662 </font></span><font color="#ff00cc">        &and; &not;error_code &ne; PROC_ERROR_CODE_TYPE.APP_ERROR</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 663 </font></span><font color="#ff00cc">        &and; &not;(the ?cur_proc_id = HM_PROC_ID &or; getProcAttr s (the ?cur_part_id, HM_PROC_ID) = None)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 664 </font></span><font color="#ff00cc">        &and; getProcSta s (the ?cur_part_id, HM_PROC_ID) &ne; Some RUNNING&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 665 </font></span>      <font color="#006699"><strong>hence</strong></font> a13_1 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;?r_a_e = (schedule_Abs ?s_setError_alone_rdy_HM core_id, NO_ERROR)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 666 </font></span>        <font color="#006699"><strong>unfolding</strong></font> RAISE_APPLICATION_ERROR_def Let_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 667 </font></span>      <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> a13_2 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;?get_s_setError' &ne; None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 668 </font></span>      <font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 669 </font></span>        <font color="#006699"><strong>have</strong></font> a13_1_0 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getError ?s_setError (the ?cur_part_id) &ne; None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 670 </font></span>          <font color="#006699"><strong>using</strong></font> getError_setError_NotNone <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 671 </font></span>        <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;getError ?s_setError_called (the ?cur_part_id) &ne; None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 672 </font></span>          <font color="#006699"><strong>using</strong></font> getError_setHMCalled
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 673 </font></span>          <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>simp add<font color="#000000"><strong>:</strong></font> getError_setHMCalled calculation<font color="#000000"><strong>)</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 674 </font></span>        <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;getError ?s_setError_calledStaus (the ?cur_part_id) &ne; None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 675 </font></span>          <font color="#006699"><strong>using</strong></font> getError_setHMStatuCalled
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 676 </font></span>          <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>simp add<font color="#000000"><strong>:</strong></font> getError_setHMStatuCalled calculation<font color="#000000"><strong>(</strong></font>2<font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 677 </font></span>        <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;getError ?s_setError_aloneHM (the ?cur_part_id) &ne; None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 678 </font></span>          <font color="#006699"><strong>using</strong></font> getError_procAlone
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 679 </font></span>          <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>simp add<font color="#000000"><strong>:</strong></font> getError_procAlone calculation<font color="#000000"><strong>(</strong></font>3<font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 680 </font></span>        <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;getError ?s_setError_alone_rdy_HM (the ?cur_part_id) &ne; None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 681 </font></span>          <font color="#006699"><strong>using</strong></font> getError_procReady
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 682 </font></span>          <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>simp add<font color="#000000"><strong>:</strong></font> getError_procReady calculation<font color="#000000"><strong>(</strong></font>4<font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 683 </font></span>        <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;getError (schedule_Abs ?s_setError_alone_rdy_HM core_id) (the ?cur_part_id) &ne; None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 684 </font></span>          <font color="#006699"><strong>using</strong></font> getError_schedule_Abs
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 685 </font></span>          <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>simp add<font color="#000000"><strong>:</strong></font> getError_schedule_Abs calculation<font color="#000000"><strong>(</strong></font>5<font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 686 </font></span>        <font color="#0099ff"><strong>thus</strong></font> ?thesis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 687 </font></span>          <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>simp add<font color="#000000"><strong>:</strong></font> a13_1<font color="#000000"><strong>)</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 688 </font></span>      <font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 689 </font></span>      <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> a13_3 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;?get_s_setError_called' = Some True&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 690 </font></span>      <font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 691 </font></span>        <font color="#006699"><strong>have</strong></font> a13_3_0 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getHMCalled ?s_setError_called (the ?cur_part_id) = Some True&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 692 </font></span>          <font color="#006699"><strong>using</strong></font> getHMCalled_setHMCarulled_SomeTrue <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 693 </font></span>        <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;getHMCalled ?s_setError_calledStaus (the ?cur_part_id) = Some True&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 694 </font></span>          <font color="#006699"><strong>using</strong></font> getHMCalled_setHMStatuCalled
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 695 </font></span>          <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>metis <font color="#000000"><strong>(</strong></font>no_types<font color="#000000"><strong>,</strong></font> lifting<font color="#000000"><strong>)</strong></font> calculation<font color="#000000"><strong>)</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 696 </font></span>        <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;getHMCalled ?s_setError_aloneHM (the ?cur_part_id) = Some True&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 697 </font></span>          <font color="#006699"><strong>using</strong></font> getHMCalled_procAlone
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 698 </font></span>          <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>metis <font color="#000000"><strong>(</strong></font>full_types<font color="#000000"><strong>)</strong></font> calculation<font color="#000000"><strong>(</strong></font>2<font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 699 </font></span>        <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;getHMCalled ?s_setError_alone_rdy_HM (the ?cur_part_id) = Some True&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 700 </font></span>          <font color="#006699"><strong>using</strong></font>  getHMCalled_procReady
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 701 </font></span>          <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>metis <font color="#000000"><strong>(</strong></font>no_types<font color="#000000"><strong>,</strong></font> lifting<font color="#000000"><strong>)</strong></font> calculation<font color="#000000"><strong>(</strong></font>3<font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 702 </font></span>        <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;getHMCalled (schedule_Abs ?s_setError_alone_rdy_HM core_id) (the ?cur_part_id) = Some True&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 703 </font></span>          <font color="#006699"><strong>using</strong></font> getHMCalled_schedule_Abs
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 704 </font></span>          <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>metis <font color="#000000"><strong>(</strong></font>no_types<font color="#000000"><strong>,</strong></font> lifting<font color="#000000"><strong>)</strong></font> calculation<font color="#000000"><strong>(</strong></font>4<font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 705 </font></span>        <font color="#0099ff"><strong>thus</strong></font> ?thesis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 706 </font></span>          <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>metis <font color="#000000"><strong>(</strong></font>no_types<font color="#000000"><strong>,</strong></font> lifting<font color="#000000"><strong>)</strong></font> a13_1 fst_conv<font color="#000000"><strong>)</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 707 </font></span>      <font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 708 </font></span>      <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> a13_4 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;?get_s_setError_calledStaus' = Some True&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 709 </font></span>      <font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 710 </font></span>        <font color="#006699"><strong>have</strong></font> a13_4_0 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getHMStatusCalled ?s_setError_calledStaus (the ?cur_part_id) = Some True&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 711 </font></span>          <font color="#006699"><strong>using</strong></font> getHMStatusCalled_setHMStatuCalled_SomeTrue <font color="#006699"><strong>by</strong></font> auto 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 712 </font></span>        <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;getHMStatusCalled ?s_setError_aloneHM (the ?cur_part_id) = Some True&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 713 </font></span>          <font color="#006699"><strong>using</strong></font> getHMStatusCalled_procAlone
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 714 </font></span>          <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>metis <font color="#000000"><strong>(</strong></font>no_types<font color="#000000"><strong>,</strong></font> lifting<font color="#000000"><strong>)</strong></font> calculation<font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 715 </font></span>        <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;getHMStatusCalled ?s_setError_alone_rdy_HM (the ?cur_part_id) = Some True&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 716 </font></span>          <font color="#006699"><strong>using</strong></font> getHMStatusCalled_procReady
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 717 </font></span>          <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>metis <font color="#000000"><strong>(</strong></font>no_types<font color="#000000"><strong>,</strong></font> lifting<font color="#000000"><strong>)</strong></font> calculation<font color="#000000"><strong>(</strong></font>2<font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 718 </font></span>        <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;getHMStatusCalled (schedule_Abs ?s_setError_alone_rdy_HM core_id) (the ?cur_part_id) = Some True&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 719 </font></span>          <font color="#006699"><strong>using</strong></font> getHMStatusCalled_schedule_Abs
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 720 </font></span>          <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>metis <font color="#000000"><strong>(</strong></font>no_types<font color="#000000"><strong>,</strong></font> lifting<font color="#000000"><strong>)</strong></font> calculation<font color="#000000"><strong>(</strong></font>3<font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 721 </font></span>        <font color="#0099ff"><strong>thus</strong></font> ?thesis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 722 </font></span>          <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>metis <font color="#000000"><strong>(</strong></font>no_types<font color="#000000"><strong>,</strong></font> lifting<font color="#000000"><strong>)</strong></font> a13_1 fst_conv<font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 723 </font></span>      <font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 724 </font></span>      <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> a13_5 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;?get_s_setError_alone_rdy_HM' = Some READY&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 725 </font></span>      <font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 726 </font></span>        <font color="#006699"><strong>have</strong></font> a13_5_0 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getProcSta ?s_setError_alone_rdy_HM (the ?cur_part_id, HM_PROC_ID) = Some READY&quot;</font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 727 </font></span>          <font color="#006699"><strong>using</strong></font> getHMStatusCalled_schedule_Abs
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 728 </font></span>          <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>simp add<font color="#000000"><strong>:</strong></font> getProcSta_procReady_SomeREADY<font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 729 </font></span>        <font color="#0099ff"><strong>thus</strong></font> ?thesis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 730 </font></span>          <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>metis <font color="#000000"><strong>(</strong></font>no_types<font color="#000000"><strong>,</strong></font> lifting<font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 731 </font></span>      <font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 732 </font></span>      <font color="#006699"><strong>ultimately</strong></font> <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;?r_a_e = (schedule_Abs ?s_setError_alone_rdy_HM core_id, NO_ERROR) </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 733 </font></span><font color="#ff00cc">        &and; ?get_s_setError' &ne; None </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 734 </font></span><font color="#ff00cc">        &and; ?get_s_setError_called' = Some True</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 735 </font></span><font color="#ff00cc">        &and; ?get_s_setError_calledStaus' = Some True</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 736 </font></span><font color="#ff00cc">        &and; ?get_s_setError_alone_rdy_HM' = Some READY&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 737 </font></span>        <font color="#006699"><strong>by</strong></font> presburger
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 738 </font></span>    <font color="#006699"><strong>}</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 739 </font></span>    <font color="#0099ff"><strong>thus</strong></font> ?thesis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 740 </font></span>      <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>smt <font color="#000000"><strong>(</strong></font>z3<font color="#000000"><strong>)</strong></font> RAISE_APPLICATION_ERROR_def<font color="#000000"><strong>)</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 741 </font></span>  <font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 742 </font></span>  <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> a14 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;&not;length msg &ge; MAX_MSG_SZ_VALUE </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 743 </font></span><font color="#ff00cc">    &and; &not;error_code &ne; PROC_ERROR_CODE_TYPE.APP_ERROR</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 744 </font></span><font color="#ff00cc">    &and; &not;(the ?cur_proc_id = HM_PROC_ID &or; getProcAttr s (the ?cur_part_id, HM_PROC_ID) = None)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 745 </font></span><font color="#ff00cc">    &and; &not;(getProcSta s (the ?cur_part_id, HM_PROC_ID) &ne; Some RUNNING)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 746 </font></span><font color="#ff00cc">    &#10230; ?r_a_e = (?s_setError, NO_ERROR) &and; ?get_s_setError' &ne; None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 747 </font></span>  <font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 748 </font></span>    <font color="#006699"><strong>{</strong></font><font color="#0099ff"><strong>assume</strong></font> a14_0 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;&not;length msg &ge; MAX_MSG_SZ_VALUE </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 749 </font></span><font color="#ff00cc">      &and; &not;error_code &ne; PROC_ERROR_CODE_TYPE.APP_ERROR</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 750 </font></span><font color="#ff00cc">      &and; &not;(the ?cur_proc_id = HM_PROC_ID &or; getProcAttr s (the ?cur_part_id, HM_PROC_ID) = None)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 751 </font></span><font color="#ff00cc">      &and; &not;(getProcSta s (the ?cur_part_id, HM_PROC_ID) &ne; Some RUNNING)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 752 </font></span>     <font color="#006699"><strong>hence</strong></font> a14_1 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;?r_a_e = (?s_setError, NO_ERROR)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 753 </font></span>       <font color="#006699"><strong>unfolding</strong></font> RAISE_APPLICATION_ERROR_def Let_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 754 </font></span>     <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;?get_s_setError' &ne; None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 755 </font></span>       <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>simp add<font color="#000000"><strong>:</strong></font> calculation getError_setError_NotNone<font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 756 </font></span>     <font color="#006699"><strong>ultimately</strong></font> <font color="#006699"><strong>have</strong></font> <font color="#ff00cc">&quot;?r_a_e = (?s_setError, NO_ERROR) &and; ?get_s_setError' &ne; None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 757 </font></span>       <font color="#006699"><strong>by</strong></font> presburger
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 758 </font></span>    <font color="#006699"><strong>}</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 759 </font></span>    <font color="#0099ff"><strong>thus</strong></font> ?thesis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 760 </font></span>      <font color="#006699"><strong>by</strong></font> fastforce 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 761 </font></span>  <font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 762 </font></span>  <font color="#006699"><strong>ultimately</strong></font> <font color="#0099ff"><strong>show</strong></font> ?thesis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 763 </font></span>    <font color="#006699"><strong>by</strong></font> metis 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 764 </font></span><font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 765 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 766 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 767 </font></span><font color="#cc0000">(*===CONFIGURE_ERROR_HANDLER service===*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 768 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 769 </font></span><font color="#006699"><strong>lemma</strong></font> CONFIGURE_ERROR_HANDLER <font color="#000000"><strong>:</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 770 </font></span>  <font color="#ff00cc">&quot;let</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 771 </font></span><font color="#ff00cc">      c_e_h = CONFIGURE_ERROR_HANDLER s core_id hct;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 772 </font></span><font color="#ff00cc">      cur_part_id = curPartID s core_id</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 773 </font></span><font color="#ff00cc">   in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 774 </font></span><font color="#ff00cc">     if getProcAttr s (the cur_part_id, HM_PROC_ID)  = None then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 775 </font></span><font color="#ff00cc">        c_e_h = (s , NO_ACTION)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 776 </font></span><font color="#ff00cc">     else if the(getcurPartMode s core_id) = NORMAL then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 777 </font></span><font color="#ff00cc">        c_e_h = (s , INVALID_MODE)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 778 </font></span><font color="#ff00cc">     else if partBlngCore (the cur_part_id) &ne; Some core_id then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 779 </font></span><font color="#ff00cc">        c_e_h = (s , INVALID_CONFIG)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 780 </font></span><font color="#ff00cc">     else c_e_h = (setConcurConf s core_id hct, NO_ERROR)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 781 </font></span><font color="#006699"><strong>proof</strong></font>-
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 782 </font></span>  <font color="#006699"><strong>let</strong></font> ?c_e_h <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;CONFIGURE_ERROR_HANDLER s core_id hct&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 783 </font></span>  <font color="#006699"><strong>let</strong></font> ?cur_part_id <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;curPartID s core_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 784 </font></span>  <font color="#006699"><strong>have</strong></font> a10 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getProcAttr s (the ?cur_part_id, HM_PROC_ID) = None</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 785 </font></span><font color="#ff00cc">    &#10230; ?c_e_h = (s , NO_ACTION)&quot;</font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 786 </font></span>    <font color="#006699"><strong>unfolding</strong></font> CONFIGURE_ERROR_HANDLER_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 787 </font></span>  <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> a11 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getProcAttr s (the ?cur_part_id, HM_PROC_ID) &ne; None</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 788 </font></span><font color="#ff00cc">    &and; the(getcurPartMode s core_id) = NORMAL</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 789 </font></span><font color="#ff00cc">    &#10230; ?c_e_h = (s , INVALID_MODE)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 790 </font></span>    <font color="#006699"><strong>unfolding</strong></font> CONFIGURE_ERROR_HANDLER_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 791 </font></span>  <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> a12 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getProcAttr s (the ?cur_part_id, HM_PROC_ID) &ne; None</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 792 </font></span><font color="#ff00cc">    &and; the(getcurPartMode s core_id) &ne; NORMAL</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 793 </font></span><font color="#ff00cc">    &and; partBlngCore (the ?cur_part_id) &ne; Some core_id</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 794 </font></span><font color="#ff00cc">    &#10230; ?c_e_h = (s , INVALID_CONFIG)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 795 </font></span>    <font color="#006699"><strong>unfolding</strong></font> CONFIGURE_ERROR_HANDLER_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 796 </font></span>  <font color="#006699"><strong>moreover</strong></font> <font color="#006699"><strong>have</strong></font> a13 <font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;getProcAttr s (the ?cur_part_id, HM_PROC_ID) &ne; None</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 797 </font></span><font color="#ff00cc">    &and; the(getcurPartMode s core_id) &ne; NORMAL</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 798 </font></span><font color="#ff00cc">    &and; partBlngCore (the ?cur_part_id) = Some core_id</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 799 </font></span><font color="#ff00cc">    &#10230; ?c_e_h = (setConcurConf s core_id hct, NO_ERROR)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 800 </font></span>    <font color="#006699"><strong>unfolding</strong></font> CONFIGURE_ERROR_HANDLER_def <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 801 </font></span>  <font color="#006699"><strong>ultimately</strong></font> <font color="#0099ff"><strong>show</strong></font> ?thesis
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 802 </font></span>    <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>metis <font color="#000000"><strong>(</strong></font>no_types<font color="#000000"><strong>,</strong></font> lifting<font color="#000000"><strong>)</strong></font><font color="#000000"><strong>)</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 803 </font></span><font color="#006699"><strong>qed</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 804 </font></span>    
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 805 </font></span><font color="#009966"><strong>end</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 806 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 807 </font></span>
</font></pre>
</body>
</html>
