<html>
<head>
<title>DataStructure.thy</title>
</head>
<body bgcolor="#ffffff">

<pre><font color="#333333"><span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">   1 </font></span><font color="#cc0000">(*</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">   2 </font></span><font color="#cc0000">The data structure and basic operations on the data structure for ARINC 653 P1-5 are </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">   3 </font></span><font color="#cc0000">  designed and created by ZHANG Feng from Nanyang Technological University.</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">   4 </font></span><font color="#cc0000">*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">   5 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">   6 </font></span><font color="#006699"><strong>section</strong></font><font color="#6600cc">&lsaquo;</font><font color="#6600cc">D</font><font color="#6600cc">a</font><font color="#6600cc">t</font><font color="#6600cc">a</font><font color="#6600cc"> </font><font color="#6600cc">S</font><font color="#6600cc">t</font><font color="#6600cc">r</font><font color="#6600cc">u</font><font color="#6600cc">c</font><font color="#6600cc">t</font><font color="#6600cc">u</font><font color="#6600cc">r</font><font color="#6600cc">e</font><font color="#6600cc">s</font><font color="#6600cc"> </font><font color="#6600cc">a</font><font color="#6600cc">n</font><font color="#6600cc">d</font><font color="#6600cc"> </font><font color="#6600cc">B</font><font color="#6600cc">a</font><font color="#6600cc">s</font><font color="#6600cc">i</font><font color="#6600cc">c</font><font color="#6600cc"> </font><font color="#6600cc">F</font><font color="#6600cc">u</font><font color="#6600cc">n</font><font color="#6600cc">c</font><font color="#6600cc">t</font><font color="#6600cc">i</font><font color="#6600cc">o</font><font color="#6600cc">n</font><font color="#6600cc">s</font><font color="#6600cc">&rsaquo;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">   7 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">   8 </font></span><font color="#006699"><strong>theory</strong></font> DataStructure
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">   9 </font></span><font color="#cc0000">(*imports &quot;../ConCSimpl/EmbSimpl/HeapList&quot; &quot;../ConCSimpl/XVcgCon&quot; &quot;../ConCSimpl/EmbSimpl/VcgSeq&quot; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  10 </font></span><font color="#cc0000">        &quot;HOL-Library.Multiset&quot; &quot;HOL-Eisbach.Eisbach&quot;*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  11 </font></span><font color="#009966"><strong>imports</strong></font> Main
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  12 </font></span><font color="#009966"><strong>begin</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  13 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  14 </font></span><font color="#006699"><strong>subsection</strong></font><font color="#6600cc">&lsaquo;</font><font color="#6600cc">D</font><font color="#6600cc">a</font><font color="#6600cc">t</font><font color="#6600cc">a</font><font color="#6600cc"> </font><font color="#6600cc">T</font><font color="#6600cc">y</font><font color="#6600cc">p</font><font color="#6600cc">e</font><font color="#6600cc">s</font><font color="#6600cc">&rsaquo;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  15 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  16 </font></span><font color="#006699"><strong>datatype</strong></font> Events <font color="#000000"><strong>=</strong></font> EV <font color="#000000"><strong>(</strong></font><font color="#ff00cc">&quot;</font><font color="#ff00cc">E</font><font color="#ffff">&#8681;</font><font color="#ff00cc">V</font><font color="#ff00cc">&quot;</font><font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  17 </font></span><font color="#006699"><strong>datatype</strong></font> Faults <font color="#000000"><strong>=</strong></font> No_F
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  18 </font></span><font color="#006699"><strong>type_synonym</strong></font> RANGE_TYPE <font color="#000000"><strong>=</strong></font> nat
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  19 </font></span><font color="#006699"><strong>type_synonym</strong></font> SYSTEM_TIME_TYPE <font color="#000000"><strong>=</strong></font> int
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  20 </font></span><font color="#006699"><strong>type_synonym</strong></font> TIMER_TYPE <font color="#000000"><strong>=</strong></font> nat
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  21 </font></span><font color="#006699"><strong>type_synonym</strong></font> RELEASE_POINT_TYPE <font color="#000000"><strong>=</strong></font> SYSTEM_TIME_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  22 </font></span><font color="#006699"><strong>type_synonym</strong></font> DDL_TIME_TYPE <font color="#000000"><strong>=</strong></font> SYSTEM_TIME_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  23 </font></span><font color="#006699"><strong>type_synonym</strong></font> CT_DDL_TIME_TYPE <font color="#000000"><strong>=</strong></font> DDL_TIME_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  24 </font></span><font color="#006699"><strong>type_synonym</strong></font> BUDGET_TIME  <font color="#000000"><strong>=</strong></font> SYSTEM_TIME_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  25 </font></span><font color="#006699"><strong>type_synonym</strong></font> DELAY_TIME_TYPE <font color="#000000"><strong>=</strong></font> nat
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  26 </font></span><font color="#006699"><strong>type_synonym</strong></font> REFRESH_PERIOD_TYPE <font color="#000000"><strong>=</strong></font> SYSTEM_TIME_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  27 </font></span><font color="#006699"><strong>type_synonym</strong></font> TIMEOUT_TYPE <font color="#000000"><strong>=</strong></font> int
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  28 </font></span><font color="#006699"><strong>type_synonym</strong></font> TIME_DIFF_TYPE <font color="#000000"><strong>=</strong></font> SYSTEM_TIME_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  29 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;INVALID_TIMEOUT_VALUE &equiv; 1023::nat&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  30 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;MAIN_MAX_TIME_CAPACITY &equiv; 1023::nat&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  31 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;INFINITE_TIMEOUT &equiv; -1::int&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  32 </font></span><font color="#006699"><strong>type_synonym</strong></font> SYSTEM_ADD_TYPE <font color="#000000"><strong>=</strong></font> nat
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  33 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;ENABLE_HM &equiv; True&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  34 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  35 </font></span><font color="#006699"><strong>type_synonym</strong></font> Message <font color="#000000"><strong>=</strong></font> nat 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  36 </font></span><font color="#006699"><strong>type_synonym</strong></font> temp_Message <font color="#000000"><strong>=</strong></font> nat             
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  37 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  38 </font></span><font color="#006699"><strong>datatype</strong></font> OPERATING_MODE_TYPE <font color="#000000"><strong>=</strong></font> IDLE <font color="#000000"><strong>|</strong></font> COLD_START <font color="#000000"><strong>|</strong></font> WARM_START <font color="#000000"><strong>|</strong></font> NORMAL
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  39 </font></span><font color="#006699"><strong>datatype</strong></font> START_CONDITION_TYPE <font color="#000000"><strong>=</strong></font> NORMAL_START      <font color="#000000"><strong>|</strong></font> PART_RESTART    <font color="#000000"><strong>|</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  40 </font></span>                                HM_MODULE_RESTART <font color="#000000"><strong>|</strong></font> HM_PART_RESTART
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  41 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  42 </font></span><font color="#006699"><strong>type_synonym</strong></font> PART_ID_TYPE <font color="#000000"><strong>=</strong></font> nat
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  43 </font></span><font color="#006699"><strong>type_synonym</strong></font> PART_NAME_TYPE <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;string&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  44 </font></span><font color="#006699"><strong>type_synonym</strong></font> PART_PERIOD_TYPE <font color="#000000"><strong>=</strong></font> SYSTEM_TIME_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  45 </font></span><font color="#006699"><strong>type_synonym</strong></font> PART_DURATION_TYPE <font color="#000000"><strong>=</strong></font> SYSTEM_TIME_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  46 </font></span><font color="#006699"><strong>type_synonym</strong></font> PART_OFFSET_TYPE <font color="#000000"><strong>=</strong></font> SYSTEM_TIME_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  47 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;NULL_PART_ID &equiv; 0::int&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  48 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  49 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  50 </font></span><font color="#006699"><strong>type_synonym</strong></font> PROC_ID_TYPE <font color="#000000"><strong>=</strong></font> int
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  51 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;NULL_PROC_ID &equiv; 0::int&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  52 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;INIT_PROC_ID &equiv; 0::int&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  53 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;MAIN_PROC_ID &equiv; 1::int&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  54 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;HM_PROC_ID &equiv; 2::int&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  55 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;IDLE_PROC_ID &equiv; 3::int&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  56 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  57 </font></span><font color="#006699"><strong>type_synonym</strong></font> PROC_NAME_TYPE <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;string&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  58 </font></span><font color="#006699"><strong>type_synonym</strong></font> PRIORITY_TYPE <font color="#000000"><strong>=</strong></font> nat
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  59 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;MIN_PRIORITY_VALUE &equiv; 1::nat&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  60 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;MAX_PRIORITY_VALUE &equiv; 239::nat&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  61 </font></span><font color="#006699"><strong>type_synonym</strong></font> LOCK_LVL_TYPE <font color="#000000"><strong>=</strong></font> nat
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  62 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;MAX_LOCK_LVL &equiv; 16::nat&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  63 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  64 </font></span><font color="#006699"><strong>datatype</strong></font> PROC_STATE_TYPE <font color="#000000"><strong>=</strong></font> DORMANT <font color="#000000"><strong>|</strong></font> READY <font color="#000000"><strong>|</strong></font> RUNNING <font color="#000000"><strong>|</strong></font> WAITING <font color="#000000"><strong>|</strong></font> FAULTED
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  65 </font></span><font color="#006699"><strong>type_synonym</strong></font> PROC_PERIOD_TYPE <font color="#000000"><strong>=</strong></font> SYSTEM_TIME_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  66 </font></span><font color="#006699"><strong>datatype</strong></font> DEADLINE_TYPE <font color="#000000"><strong>=</strong></font> SOFT <font color="#000000"><strong>|</strong></font> HARD
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  67 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  68 </font></span><font color="#006699"><strong>type_synonym</strong></font> PORT_ID_TYPE <font color="#000000"><strong>=</strong></font> nat
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  69 </font></span><font color="#006699"><strong>type_synonym</strong></font> PORT_NAME_TYPE <font color="#000000"><strong>=</strong></font> <font color="#ff00cc">&quot;string&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  70 </font></span><font color="#006699"><strong>type_synonym</strong></font> WAITING_RANGE_TYPE <font color="#000000"><strong>=</strong></font> RANGE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  71 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  72 </font></span><font color="#006699"><strong>datatype</strong></font> VALIDITY_TYPE <font color="#000000"><strong>=</strong></font> INVALID <font color="#000000"><strong>|</strong></font> VALID
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  73 </font></span><font color="#006699"><strong>datatype</strong></font> QUE_DISCIPLINE_TYPE <font color="#000000"><strong>=</strong></font> FIFO <font color="#000000"><strong>|</strong></font> PRIORITY
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  74 </font></span><font color="#006699"><strong>datatype</strong></font> PORT_DIRECTION_TYPE <font color="#000000"><strong>=</strong></font> SOURCE <font color="#000000"><strong>|</strong></font> DESTINATION
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  75 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  76 </font></span><font color="#006699"><strong>type_synonym</strong></font> MSG_SZ_TYPE <font color="#000000"><strong>=</strong></font> nat
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  77 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;MAX_MSG_SZ_VALUE &equiv; 239::nat&quot;</font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  78 </font></span><font color="#006699"><strong>type_synonym</strong></font> STACK_SZ_TYPE <font color="#000000"><strong>=</strong></font> nat
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  79 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;MAX_STACK_SZ_VALUE &equiv; 1023::nat&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  80 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;MAX_NUM_OF_BUFS &equiv; 256&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  81 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;MAX_NUM_OF_BBDS &equiv; 256&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  82 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;MAX_NUM_OF_MSGS &equiv; 256&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  83 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;MAX_NUM_OF_MUTEXES &equiv; 256&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  84 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;MAX_NUM_OF_PORTS &equiv; 256&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  85 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;MAX_NUM_OF_PROCESSES &equiv; 256&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  86 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  87 </font></span><font color="#006699"><strong>type_synonym</strong></font> MSG_RANGE_TYPE <font color="#000000"><strong>=</strong></font> RANGE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  88 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  89 </font></span><font color="#006699"><strong>type_synonym</strong></font> CHANNEL_ID_TYPE <font color="#000000"><strong>=</strong></font> nat
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  90 </font></span><font color="#006699"><strong>type_synonym</strong></font> CORE_ID_TYPE <font color="#000000"><strong>=</strong></font> nat
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  91 </font></span><font color="#006699"><strong>type_synonym</strong></font> V_CORE_ID_TYPE <font color="#000000"><strong>=</strong></font> nat
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  92 </font></span><font color="#006699"><strong>type_synonym</strong></font> NUM_CORES_TYPE <font color="#000000"><strong>=</strong></font> nat
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  93 </font></span><font color="#006699"><strong>type_synonym</strong></font> KERNAL_MUTEX_TYPE <font color="#000000"><strong>=</strong></font> nat
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  94 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;NO_MUTEX_OWNED &equiv; (-2)::int&quot;</font>            
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">  95 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;PREEMPT_MUTEX_ID_TYPE &equiv; (-3)::int&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  96 </font></span><font color="#006699"><strong>type_synonym</strong></font> ERROR_ID_TYPE <font color="#000000"><strong>=</strong></font> nat
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  97 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  98 </font></span><font color="#006699"><strong>datatype</strong></font> PART_TYPE <font color="#000000"><strong>=</strong></font> USER_PART <font color="#000000"><strong>|</strong></font> SYS_PART
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">  99 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 100 </font></span><font color="#006699"><strong>datatype</strong></font> RETURN_CODE_TYPE <font color="#000000"><strong>=</strong></font> NO_ERROR <font color="#000000"><strong>|</strong></font> NO_ACTION <font color="#000000"><strong>|</strong></font> NOT_AVAILABLE <font color="#000000"><strong>|</strong></font> INVALID_PARAM <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 101 </font></span>                            INVALID_CONFIG <font color="#000000"><strong>|</strong></font> INVALID_MODE <font color="#000000"><strong>|</strong></font> TIMED_OUT
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 102 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 103 </font></span><font color="#006699"><strong>record</strong></font> PART_STATUS_TYPE <font color="#000000"><strong>=</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 104 </font></span>  PERIOD <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;SYSTEM_TIME_TYPE option&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 105 </font></span>  DURATION <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;SYSTEM_TIME_TYPE option&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 106 </font></span>  lockLvl <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;LOCK_LVL_TYPE option&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 107 </font></span>  curMode <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;OPERATING_MODE_TYPE option&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 108 </font></span>  curStartCond <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;START_CONDITION_TYPE option&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 109 </font></span>  NUM_ASSIGNED_CORES <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;NUM_CORES_TYPE option&quot;</font>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 110 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 111 </font></span><font color="#006699"><strong>record</strong></font> PROC_ATTR_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 112 </font></span>  PERIOD <font color="#000000"><strong>::</strong></font> PROC_PERIOD_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 113 </font></span>  TIME_CAPACITY <font color="#000000"><strong>::</strong></font> SYSTEM_TIME_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 114 </font></span>  ENTRY_POINT <font color="#000000"><strong>::</strong></font> SYSTEM_ADD_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 115 </font></span>  STACK_SZ <font color="#000000"><strong>::</strong></font> STACK_SZ_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 116 </font></span>  BASE_PRIORITY <font color="#000000"><strong>::</strong></font> PRIORITY_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 117 </font></span>  DEADLINE <font color="#000000"><strong>::</strong></font> DEADLINE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 118 </font></span>  NAME <font color="#000000"><strong>::</strong></font> PROC_NAME_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 119 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 120 </font></span><font color="#006699"><strong>record</strong></font> PROC_STATUS_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 121 </font></span>  DEADLINE_TIME <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;DDL_TIME_TYPE option&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 122 </font></span>  CUR_PRIORITY <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PRIORITY_TYPE option&quot;</font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 123 </font></span>  PROC_STA <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PROC_STATE_TYPE option&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 124 </font></span>  ATTRIBUTES <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PROC_ATTR_TYPE option&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 125 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 126 </font></span><font color="#cc0000">(*InterCom*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 127 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 128 </font></span><font color="#006699"><strong>record</strong></font> SAMP_PORT_ATTR_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 129 </font></span>  NAME <font color="#000000"><strong>::</strong></font> PORT_NAME_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 130 </font></span>  MAX_MSG_SZ <font color="#000000"><strong>::</strong></font> MSG_SZ_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 131 </font></span>  PORT_DIRECTION <font color="#000000"><strong>::</strong></font> PORT_DIRECTION_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 132 </font></span>  REFRESH_PERIOD <font color="#000000"><strong>::</strong></font> REFRESH_PERIOD_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 133 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 134 </font></span><font color="#006699"><strong>record</strong></font> QUE_PORT_ATTR_TYPE <font color="#000000"><strong>=</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 135 </font></span>  NAME <font color="#000000"><strong>::</strong></font> PORT_NAME_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 136 </font></span>  MAX_MSG_SZ <font color="#000000"><strong>::</strong></font> MSG_SZ_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 137 </font></span>  MAX_NUM_MSG <font color="#000000"><strong>::</strong></font> MSG_RANGE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 138 </font></span>  PORT_DIRECTION <font color="#000000"><strong>::</strong></font> PORT_DIRECTION_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 139 </font></span>  QUE_DISCIPLINE <font color="#000000"><strong>::</strong></font> QUE_DISCIPLINE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 140 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 141 </font></span><font color="#006699"><strong>datatype</strong></font> INTER_PORT_ATTR_TYPE <font color="#000000"><strong>=</strong></font> samp SAMP_PORT_ATTR_TYPE <font color="#000000"><strong>|</strong></font> queu QUE_PORT_ATTR_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 142 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 143 </font></span><font color="#006699"><strong>record</strong></font> SAMP_PORT_STATUS_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 144 </font></span>  REFRESH_PERIOD <font color="#000000"><strong>::</strong></font> SYSTEM_TIME_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 145 </font></span>  MAX_MSG_SZ <font color="#000000"><strong>::</strong></font> MSG_SZ_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 146 </font></span>  PORT_DIRECTION <font color="#000000"><strong>::</strong></font> PORT_DIRECTION_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 147 </font></span>  LAST_MSG_VALIDITY <font color="#000000"><strong>::</strong></font> VALIDITY_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 148 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 149 </font></span><font color="#006699"><strong>record</strong></font> QUE_PORT_STATUS_TYPE <font color="#000000"><strong>=</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 150 </font></span>  NUM_MSG <font color="#000000"><strong>::</strong></font> MSG_RANGE_TYPE <font color="#cc0000">(*current number of message*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 151 </font></span>  MAX_NUM_MSG <font color="#000000"><strong>::</strong></font> MSG_RANGE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 152 </font></span>  MAX_MSG_SZ <font color="#000000"><strong>::</strong></font> MSG_SZ_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 153 </font></span>  PORT_DIRECTION <font color="#000000"><strong>::</strong></font> PORT_DIRECTION_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 154 </font></span>  WAITING_PROCESSES <font color="#000000"><strong>::</strong></font> WAITING_RANGE_TYPE <font color="#cc0000">(*the number of waiting processes for this port*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 155 </font></span><font color="#cc0000">(*</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 156 </font></span><font color="#cc0000">datatype INTER_PORT_TYPE = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 157 </font></span><font color="#cc0000">  portQue PORT_NAME_TYPE MSG_SZ_TYPE MSG_RANGE_TYPE PORT_DIRECTION_TYPE QUE_DISCIPLINE_TYPE |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 158 </font></span><font color="#cc0000">  portSam PORT_NAME_TYPE MSG_SZ_TYPE                PORT_DIRECTION_TYPE REFRESH_PERIOD_TYPE</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 159 </font></span><font color="#cc0000">*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 160 </font></span><font color="#006699"><strong>datatype</strong></font> CHANNEL_CFG_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 161 </font></span>  chanQue CHANNEL_ID_TYPE <font color="#ff00cc">&quot;PART_ID_TYPE &times; PORT_NAME_TYPE&quot;</font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; PORT_NAME_TYPE&quot;</font> <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 162 </font></span>  chanSam CHANNEL_ID_TYPE <font color="#ff00cc">&quot;PART_ID_TYPE &times; PORT_NAME_TYPE&quot;</font> <font color="#ff00cc">&quot;(PART_ID_TYPE &times; PORT_NAME_TYPE) set&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 163 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 164 </font></span><font color="#cc0000">(*IntraCom*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 165 </font></span><font color="#006699"><strong>type_synonym</strong></font> BUFFER_NAME_TYPE <font color="#000000"><strong>=</strong></font> string
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 166 </font></span><font color="#006699"><strong>type_synonym</strong></font> BLACKBD_NAME_TYPE <font color="#000000"><strong>=</strong></font> string
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 167 </font></span><font color="#006699"><strong>type_synonym</strong></font> SEMA_NAME_TYPE <font color="#000000"><strong>=</strong></font> string
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 168 </font></span><font color="#006699"><strong>type_synonym</strong></font> EVENT_NAME_TYPE <font color="#000000"><strong>=</strong></font> string
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 169 </font></span><font color="#006699"><strong>type_synonym</strong></font> USER_MUTEX_NAME_TYPE <font color="#000000"><strong>=</strong></font> string
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 170 </font></span><font color="#006699"><strong>type_synonym</strong></font> PREEMPT_LOCK_MUTEX_NAME_TYPE <font color="#000000"><strong>=</strong></font> string
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 171 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 172 </font></span><font color="#006699"><strong>type_synonym</strong></font> BUFFER_ID_TYPE <font color="#000000"><strong>=</strong></font> nat
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 173 </font></span><font color="#006699"><strong>type_synonym</strong></font> BLACKBD_ID_TYPE <font color="#000000"><strong>=</strong></font> nat
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 174 </font></span><font color="#006699"><strong>type_synonym</strong></font> SEMA_ID_TYPE <font color="#000000"><strong>=</strong></font> nat
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 175 </font></span><font color="#cc0000">(*datatype INTRA_COMM_ID_TYPE = buf BUFFER_ID_TYPE | bbd BLACKBD_ID_TYPE*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 176 </font></span><font color="#006699"><strong>type_synonym</strong></font> EVENT_ID_TYPE <font color="#000000"><strong>=</strong></font> nat
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 177 </font></span><font color="#006699"><strong>type_synonym</strong></font> USER_PL_MUTEX_ID_TYPE <font color="#000000"><strong>=</strong></font> int
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 178 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 179 </font></span><font color="#006699"><strong>datatype</strong></font> EMPTY_INDICATOR_TYPE <font color="#000000"><strong>=</strong></font> EMPTY <font color="#000000"><strong>|</strong></font> OCCUPIED
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 180 </font></span><font color="#006699"><strong>datatype</strong></font> EVENT_STA_TYPE <font color="#000000"><strong>=</strong></font> UP <font color="#000000"><strong>|</strong></font> DOWN
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 181 </font></span><font color="#006699"><strong>datatype</strong></font> MUTEX_STATE_TYPE <font color="#000000"><strong>=</strong></font> AVAILABLE <font color="#000000"><strong>|</strong></font> OWNED
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 182 </font></span><font color="#006699"><strong>type_synonym</strong></font> SEMPAPH_VALUE_TYPE <font color="#000000"><strong>=</strong></font> nat
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 183 </font></span><font color="#006699"><strong>type_synonym</strong></font> LOCK_COUNT_TYPE <font color="#000000"><strong>=</strong></font> nat
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 184 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 185 </font></span><font color="#cc0000">(*BUFFER*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 186 </font></span><font color="#006699"><strong>record</strong></font> BUFFER_ATTR_TYPE <font color="#000000"><strong>=</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 187 </font></span>  BUFFER_NAME <font color="#000000"><strong>::</strong></font> BUFFER_NAME_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 188 </font></span>  MAX_NB_MSG <font color="#000000"><strong>::</strong></font> MSG_RANGE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 189 </font></span>  MAX_MSG_SZ <font color="#000000"><strong>::</strong></font> MSG_SZ_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 190 </font></span>  QUE_DISCIPLINE <font color="#000000"><strong>::</strong></font> QUE_DISCIPLINE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 191 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 192 </font></span><font color="#006699"><strong>record</strong></font> BUFFER_STATUS_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 193 </font></span>  NB_MSG <font color="#000000"><strong>::</strong></font> MSG_RANGE_TYPE<font color="#cc0000">(*current number of message*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 194 </font></span>  MAX_NB_MSG <font color="#000000"><strong>::</strong></font> MSG_RANGE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 195 </font></span>  MAX_MSG_SZ <font color="#000000"><strong>::</strong></font> MSG_SZ_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 196 </font></span>  WAITING_PROCESSES <font color="#000000"><strong>::</strong></font> WAITING_RANGE_TYPE <font color="#cc0000">(*the number of waiting processes for this port*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 197 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 198 </font></span><font color="#006699"><strong>record</strong></font> BLACKBD_ATTR_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 199 </font></span>  BLACKBD_NAME <font color="#000000"><strong>::</strong></font> BLACKBD_NAME_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 200 </font></span>  MAX_MSG_SZ <font color="#000000"><strong>::</strong></font> MSG_SZ_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 201 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 202 </font></span><font color="#006699"><strong>record</strong></font> BLACKBD_STATUS_TYPE <font color="#000000"><strong>=</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 203 </font></span>  EMPTY_INDICATOR <font color="#000000"><strong>::</strong></font> EMPTY_INDICATOR_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 204 </font></span>  MAX_MSG_SZ <font color="#000000"><strong>::</strong></font> MSG_SZ_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 205 </font></span>  WAITING_PROCESSES <font color="#000000"><strong>::</strong></font> WAITING_RANGE_TYPE <font color="#cc0000">(*the number of waiting processes for this port*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 206 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 207 </font></span><font color="#006699"><strong>record</strong></font> KRNL_SEMA_ATTR_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 208 </font></span>  SEMA_NAME <font color="#000000"><strong>::</strong></font> SEMA_NAME_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 209 </font></span>  CUR_VALUE <font color="#000000"><strong>::</strong></font> SEMPAPH_VALUE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 210 </font></span>  MAX_VALUE <font color="#000000"><strong>::</strong></font> SEMPAPH_VALUE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 211 </font></span>  QUE_DISCIPLINE <font color="#000000"><strong>::</strong></font> QUE_DISCIPLINE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 212 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 213 </font></span><font color="#006699"><strong>record</strong></font> KRNL_SEMA_STATUS_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 214 </font></span>  CUR_VALUE <font color="#000000"><strong>::</strong></font> SEMPAPH_VALUE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 215 </font></span>  MAX_VALUE <font color="#000000"><strong>::</strong></font> SEMPAPH_VALUE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 216 </font></span>  WAITING_PROCESSES <font color="#000000"><strong>::</strong></font> WAITING_RANGE_TYPE <font color="#cc0000">(*the number of waiting processes for this port*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 217 </font></span>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 218 </font></span><font color="#006699"><strong>record</strong></font> USER_SEMA_ATTR_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 219 </font></span>  SEMA_NAME <font color="#000000"><strong>::</strong></font> SEMA_NAME_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 220 </font></span>  CUR_VALUE <font color="#000000"><strong>::</strong></font> SEMPAPH_VALUE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 221 </font></span>  MAX_VALUE <font color="#000000"><strong>::</strong></font> SEMPAPH_VALUE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 222 </font></span>  QUE_DISCIPLINE <font color="#000000"><strong>::</strong></font> QUE_DISCIPLINE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 223 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 224 </font></span><font color="#006699"><strong>record</strong></font> USER_SEMA_STATUS_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 225 </font></span>  CUR_VALUE <font color="#000000"><strong>::</strong></font> SEMPAPH_VALUE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 226 </font></span>  MAX_VALUE <font color="#000000"><strong>::</strong></font> SEMPAPH_VALUE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 227 </font></span>  WAITING_PROCESSES <font color="#000000"><strong>::</strong></font> WAITING_RANGE_TYPE <font color="#cc0000">(*the number of waiting processes for this port*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 228 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 229 </font></span><font color="#006699"><strong>record</strong></font> EVENT_STATUS_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 230 </font></span>  EVENT_STATE <font color="#000000"><strong>::</strong></font> EVENT_STA_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 231 </font></span>  WAITING_PROCESSES <font color="#000000"><strong>::</strong></font> WAITING_RANGE_TYPE <font color="#cc0000">(*the number of waiting processes for this port*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 232 </font></span>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 233 </font></span>  <font color="#cc0000">(*MUTEX*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 234 </font></span><font color="#006699"><strong>record</strong></font> USER_PL_MUTEX_ATTR_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 235 </font></span>  MUTEX_NAME <font color="#000000"><strong>::</strong></font> USER_MUTEX_NAME_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 236 </font></span>  MUTEX_PRIORITY <font color="#000000"><strong>::</strong></font> PRIORITY_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 237 </font></span>  QUE_DISCIPLINE <font color="#000000"><strong>::</strong></font> QUE_DISCIPLINE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 238 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 239 </font></span><font color="#006699"><strong>record</strong></font> USER_PL_MUTEX_STATUS_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 240 </font></span>  MUTEX_STATE <font color="#000000"><strong>::</strong></font> MUTEX_STATE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 241 </font></span>  MUTEX_OWNER <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PROC_ID_TYPE option&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 242 </font></span>  MUTEX_PRIORITY <font color="#000000"><strong>::</strong></font> PRIORITY_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 243 </font></span>  LOCK_COUNT <font color="#000000"><strong>::</strong></font> LOCK_COUNT_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 244 </font></span>  WAITING_PROCESSES <font color="#000000"><strong>::</strong></font> WAITING_RANGE_TYPE <font color="#cc0000">(*the number of waiting processes for this port*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 245 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 246 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;PLMtxAttr = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 247 </font></span><font color="#ff00cc">  &#10631;MUTEX_NAME = ''plmtx'',</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 248 </font></span><font color="#ff00cc">  MUTEX_PRIORITY = 1,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 249 </font></span><font color="#ff00cc">  QUE_DISCIPLINE = FIFO&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 250 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 251 </font></span><font color="#006699"><strong>datatype</strong></font> SEMA_ATTR_TYPE <font color="#000000"><strong>=</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 252 </font></span>          krnlSema KRNL_SEMA_ATTR_TYPE <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 253 </font></span>          userSema USER_SEMA_ATTR_TYPE <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 254 </font></span>          userevnt EVENT_STATUS_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 255 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 256 </font></span><font color="#cc0000">(*Sys CFG*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 257 </font></span><font color="#006699"><strong>datatype</strong></font> PART_CFG_TYPE <font color="#000000"><strong>=</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 258 </font></span>  Partition PART_TYPE PART_NAME_TYPE PART_ID_TYPE PART_PERIOD_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 259 </font></span>            PART_OFFSET_TYPE PART_DURATION_TYPE <font color="#ff00cc">&quot;INTER_PORT_ATTR_TYPE set&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 260 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 261 </font></span><font color="#006699"><strong>datatype</strong></font> PART_SHED_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 262 </font></span>  partSche <font color="#ff00cc">&quot;(PART_ID_TYPE &times; PART_OFFSET_TYPE&times; PART_DURATION_TYPE) list&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 263 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 264 </font></span><font color="#006699"><strong>datatype</strong></font> CORE_MAP_TYPE <font color="#000000"><strong>=</strong></font> coreMap V_CORE_ID_TYPE CORE_ID_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 265 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 266 </font></span><font color="#006699"><strong>datatype</strong></font> CORE_ASSIGN_TYPE <font color="#000000"><strong>=</strong></font> coreAss V_CORE_ID_TYPE <font color="#ff00cc">&quot;PART_ID_TYPE set&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 267 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 268 </font></span><font color="#006699"><strong>datatype</strong></font> PROC_ERROR_CODE_TYPE <font color="#000000"><strong>=</strong></font> DEADLINE_MISSED <font color="#000000"><strong>|</strong></font> APP_ERROR <font color="#000000"><strong>|</strong></font> NUMERIC_ERROR <font color="#000000"><strong>|</strong></font> ILLEGAL_REQ <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 269 </font></span>                            STACK_OVER <font color="#000000"><strong>|</strong></font> MEMORY_VIO <font color="#000000"><strong>|</strong></font> HARDWARE_FAULT <font color="#000000"><strong>|</strong></font> POWER_FAIL
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 270 </font></span><font color="#cc0000">(*</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 271 </font></span><font color="#cc0000">datatype PART_ERROR_CODE_TYPE = PART_ERROR0</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 272 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 273 </font></span><font color="#cc0000">datatype MODU_ERROR_CODE_TYPE = MODULE_ERROR0</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 274 </font></span><font color="#cc0000">*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 275 </font></span><font color="#006699"><strong>datatype</strong></font> DETECTED_ERROR_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 276 </font></span>  MODULE_ERROR0 <font color="#000000"><strong>|</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 277 </font></span>  PART_ERROR0 <font color="#000000"><strong>|</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 278 </font></span>  DEADLINE_MISSED <font color="#000000"><strong>|</strong></font> APP_ERROR <font color="#000000"><strong>|</strong></font> NUMERIC_ERROR <font color="#000000"><strong>|</strong></font> ILLEGAL_REQ <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 279 </font></span>  STACK_OVER <font color="#000000"><strong>|</strong></font> MEMORY_VIO <font color="#000000"><strong>|</strong></font> HARDWARE_FAULT <font color="#000000"><strong>|</strong></font> POWER_FAIL
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 280 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 281 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;DETECTED_ERROR_LIST &equiv;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 282 </font></span><font color="#ff00cc">  [MODULE_ERROR0, PART_ERROR0, DEADLINE_MISSED, APP_ERROR, NUMERIC_ERROR, ILLEGAL_REQ,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 283 </font></span><font color="#ff00cc">  STACK_OVER, MEMORY_VIO, HARDWARE_FAULT, POWER_FAIL]&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 284 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 285 </font></span><font color="#006699"><strong>record</strong></font> PROC_ERROR_STATUS_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 286 </font></span>  ERROR_CODE <font color="#000000"><strong>::</strong></font> PROC_ERROR_CODE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 287 </font></span>  LENGTH <font color="#000000"><strong>::</strong></font> MSG_SZ_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 288 </font></span>  FAILED_PROC_ID <font color="#000000"><strong>::</strong></font> PROC_ID_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 289 </font></span>  FAILED_ADD <font color="#000000"><strong>::</strong></font> SYSTEM_ADD_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 290 </font></span>  MSG <font color="#000000"><strong>::</strong></font> Message
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 291 </font></span><font color="#cc0000">(*</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 292 </font></span><font color="#cc0000">record PART_ERROR_STATUS_TYPE =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 293 </font></span><font color="#cc0000">  ERROR_CODE :: PART_ERROR_CODE_TYPE</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 294 </font></span><font color="#cc0000">  LENGTH :: MSG_SZ_TYPE</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 295 </font></span><font color="#cc0000">  FAILED_PART_ID :: PART_ID_TYPE</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 296 </font></span><font color="#cc0000">  FAILED_ADD :: SYSTEM_ADD_TYPE</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 297 </font></span><font color="#cc0000">  MSG :: Message</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 298 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 299 </font></span><font color="#cc0000">record MODULE_ERROR_STATUS_TYPE =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 300 </font></span><font color="#cc0000">  ERROR_CODE :: MODU_ERROR_CODE_TYPE</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 301 </font></span><font color="#cc0000">  LENGTH :: MSG_SZ_TYPE</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 302 </font></span><font color="#cc0000">  FAILED_ADD :: SYSTEM_ADD_TYPE</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 303 </font></span><font color="#cc0000">  MSG :: Message</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 304 </font></span><font color="#cc0000">*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 305 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 306 </font></span><font color="#006699"><strong>datatype</strong></font> HM_ACTION_TYPE <font color="#000000"><strong>=</strong></font> IGNORE <font color="#000000"><strong>|</strong></font> RESTART <font color="#000000"><strong>|</strong></font> SHUTDOWN
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 307 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 308 </font></span><font color="#006699"><strong>definition</strong></font> <font color="#ff00cc">&quot;HM_CFG_TYPE &equiv; [RESTART, RESTART]&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 309 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 310 </font></span><font color="#006699"><strong>type_synonym</strong></font> NUM_USER_PROC <font color="#000000"><strong>=</strong></font> nat
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 311 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 312 </font></span><font color="#cc0000">(*States*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 313 </font></span><font color="#006699"><strong>record</strong></font> SysConfig <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 314 </font></span>  partConf <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_CFG_TYPE set&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 315 </font></span>  channleConf <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;CHANNEL_CFG_TYPE set&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 316 </font></span>  numCores <font color="#000000"><strong>::</strong></font> NUM_CORES_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 317 </font></span>  numUserProc <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &#8640; NUM_USER_PROC&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 318 </font></span>  partsSched <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;V_CORE_ID_TYPE &#8640; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 319 </font></span><font color="#ff00cc">                  ((PART_OFFSET_TYPE &times; PART_ID_TYPE &times; PART_DURATION_TYPE) list)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 320 </font></span>  HM_Conf <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;HM_ACTION_TYPE list&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 321 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 322 </font></span><font color="#006699"><strong>record</strong></font> Local <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 323 </font></span>  <font color="#cc0000">(*event :: Event*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 324 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 325 </font></span>  RETURN_CODE <font color="#000000"><strong>::</strong></font> RETURN_CODE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 326 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 327 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 328 </font></span><font color="#006699"><strong>subsection</strong></font><font color="#6600cc">&lsaquo;</font><font color="#6600cc">D</font><font color="#6600cc">a</font><font color="#6600cc">t</font><font color="#6600cc">a</font><font color="#6600cc"> </font><font color="#6600cc">S</font><font color="#6600cc">t</font><font color="#6600cc">r</font><font color="#6600cc">u</font><font color="#6600cc">c</font><font color="#6600cc">t</font><font color="#6600cc">u</font><font color="#6600cc">r</font><font color="#6600cc">e</font><font color="#6600cc"> </font><font color="#6600cc">f</font><font color="#6600cc">o</font><font color="#6600cc">r</font><font color="#6600cc"> </font><font color="#6600cc">S</font><font color="#6600cc">c</font><font color="#6600cc">h</font><font color="#6600cc">e</font><font color="#6600cc">d</font><font color="#6600cc">u</font><font color="#6600cc">l</font><font color="#6600cc">e</font><font color="#6600cc">&rsaquo;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 329 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 330 </font></span><font color="#006699"><strong>record</strong></font> PARTS_STATE_TYPE <font color="#000000"><strong>=</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 331 </font></span>  curPart <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;V_CORE_ID_TYPE &#8640; PART_ID_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 332 </font></span>  curProc <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &#8640; PROC_ID_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 333 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 334 </font></span>  schedSignal <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;bool list&quot;</font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 335 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 336 </font></span>  curMode <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &#8640; OPERATING_MODE_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 337 </font></span>  lockLvl <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &#8640; LOCK_LVL_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 338 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 339 </font></span>  readyQue <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &#8640; (PROC_ID_TYPE list list)&quot;</font>    
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 340 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 341 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 342 </font></span><font color="#006699"><strong>record</strong></font> locals <font color="#000000"><strong>=</strong></font> locals_' <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;Local list&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 343 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 344 </font></span><font color="#006699"><strong>record</strong></font> StaPart_Sched <font color="#000000"><strong>=</strong></font> locals <font color="#000000"><strong>+</strong></font>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 345 </font></span>                  timer_' <font color="#000000"><strong>::</strong></font> TIMER_TYPE 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 346 </font></span>                  partitions_' <font color="#000000"><strong>::</strong></font> PARTS_STATE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 347 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 348 </font></span><font color="#cc0000">(*PROC*)</font>     
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 349 </font></span><font color="#006699"><strong>record</strong></font> PROCS_STATE_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 350 </font></span>  createdProcs <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;(PART_ID_TYPE &times; PROC_ID_TYPE) &#8640; PROC_ATTR_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 351 </font></span>  procSta <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;(PART_ID_TYPE &times; PROC_ID_TYPE) &#8640; PROC_STATE_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 352 </font></span>  curPriority <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;(PART_ID_TYPE &times; PROC_ID_TYPE) &#8640; PRIORITY_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 353 </font></span>  deadline <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;(PART_ID_TYPE &times; PROC_ID_TYPE) &#8640; DDL_TIME_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 354 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 355 </font></span><font color="#006699"><strong>record</strong></font> StaProc_sched <font color="#000000"><strong>=</strong></font> StaPart_Sched <font color="#000000"><strong>+</strong></font> procs_' <font color="#000000"><strong>::</strong></font> PROCS_STATE_TYPE  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 356 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 357 </font></span><font color="#006699"><strong>subsection</strong></font><font color="#6600cc">&lsaquo;</font><font color="#6600cc">D</font><font color="#6600cc">a</font><font color="#6600cc">t</font><font color="#6600cc">a</font><font color="#6600cc"> </font><font color="#6600cc">S</font><font color="#6600cc">t</font><font color="#6600cc">r</font><font color="#6600cc">u</font><font color="#6600cc">c</font><font color="#6600cc">t</font><font color="#6600cc">u</font><font color="#6600cc">r</font><font color="#6600cc">e</font><font color="#6600cc"> </font><font color="#6600cc">f</font><font color="#6600cc">o</font><font color="#6600cc">r</font><font color="#6600cc"> </font><font color="#6600cc">R</font><font color="#6600cc">e</font><font color="#6600cc">q</font><font color="#6600cc">u</font><font color="#6600cc">i</font><font color="#6600cc">e</font><font color="#6600cc">m</font><font color="#6600cc">e</font><font color="#6600cc">n</font><font color="#6600cc">t</font><font color="#6600cc"> </font><font color="#6600cc">M</font><font color="#6600cc">o</font><font color="#6600cc">d</font><font color="#6600cc">e</font><font color="#6600cc">l</font><font color="#6600cc">s</font><font color="#6600cc"> </font><font color="#6600cc">o</font><font color="#6600cc">f</font><font color="#6600cc"> </font><font color="#6600cc">S</font><font color="#6600cc">e</font><font color="#6600cc">r</font><font color="#6600cc">v</font><font color="#6600cc">i</font><font color="#6600cc">c</font><font color="#6600cc">e</font><font color="#6600cc">s</font><font color="#6600cc">&rsaquo;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 358 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 359 </font></span><font color="#cc0000">(*Partitions*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 360 </font></span><font color="#006699"><strong>record</strong></font> PARTS_STATE_TYPE_ServR_Supp <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 361 </font></span>  curStartCond <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &#8640; START_CONDITION_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 362 </font></span>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 363 </font></span><font color="#006699"><strong>record</strong></font> StaPart <font color="#000000"><strong>=</strong></font> StaPart_Sched <font color="#000000"><strong>+</strong></font> parts_Serv_R_' <font color="#000000"><strong>::</strong></font> PARTS_STATE_TYPE_ServR_Supp
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 364 </font></span>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 365 </font></span><font color="#cc0000">(*Cores*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 366 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 367 </font></span><font color="#006699"><strong>record</strong></font> CPU_STATE_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 368 </font></span>  waitQue <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;V_CORE_ID_TYPE &#8640; ((PART_ID_TYPE &times; PROC_ID_TYPE) list)&quot;</font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 369 </font></span>  suspdQue <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;V_CORE_ID_TYPE &#8640; ((PART_ID_TYPE &times; PROC_ID_TYPE) list)&quot;</font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 370 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 371 </font></span><font color="#006699"><strong>datatype</strong></font> PROC_CONTEXT_TYPE <font color="#000000"><strong>=</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 372 </font></span>  suspSelf <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 373 </font></span>  rdQueu <font color="#ff00cc">&quot;PART_ID_TYPE &times; PORT_ID_TYPE&quot;</font> <font color="#000000"><strong>|</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 374 </font></span>  wrQueu <font color="#ff00cc">&quot;(PART_ID_TYPE &times; PORT_ID_TYPE) &times; Message&quot;</font> <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 375 </font></span>  sendBuf <font color="#ff00cc">&quot;(PART_ID_TYPE &times; BUFFER_ID_TYPE) &times; Message &quot;</font> <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 376 </font></span>  recvBuf <font color="#ff00cc">&quot;(PART_ID_TYPE &times; BUFFER_ID_TYPE) &times; (temp_Message option)&quot;</font> <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 377 </font></span>  rdBbd <font color="#ff00cc">&quot;PART_ID_TYPE &times; BLACKBD_ID_TYPE&quot;</font> <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 378 </font></span>  waitSema <font color="#ff00cc">&quot;PART_ID_TYPE &times; SEMA_ID_TYPE&quot;</font> <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 379 </font></span>  waitEvt <font color="#ff00cc">&quot;PART_ID_TYPE &times; EVENT_ID_TYPE&quot;</font> <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 380 </font></span>  acquireMtx           
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 381 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 382 </font></span><font color="#006699"><strong>datatype</strong></font> RESRC_ID_TYPE <font color="#000000"><strong>=</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 383 </font></span>  interC <font color="#ff00cc">&quot;PART_ID_TYPE &times; PORT_ID_TYPE&quot;</font> <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 384 </font></span>  buf <font color="#ff00cc">&quot;PART_ID_TYPE &times; BUFFER_ID_TYPE&quot;</font> <font color="#000000"><strong>|</strong></font> bbd <font color="#ff00cc">&quot;PART_ID_TYPE &times; BLACKBD_ID_TYPE&quot;</font> <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 385 </font></span>  sema <font color="#ff00cc">&quot;PART_ID_TYPE &times; SEMA_ID_TYPE&quot;</font> <font color="#000000"><strong>|</strong></font> evt <font color="#ff00cc">&quot;PART_ID_TYPE &times; EVENT_ID_TYPE&quot;</font> <font color="#000000"><strong>|</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 386 </font></span>  userPlMtx <font color="#ff00cc">&quot;PART_ID_TYPE &times; USER_PL_MUTEX_ID_TYPE&quot;</font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 387 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 388 </font></span><font color="#006699"><strong>record</strong></font> PROCS_STATE_PENDING_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 389 </font></span>  waitDiff <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; PROC_ID_TYPE &#8640; TIME_DIFF_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 390 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 391 </font></span>  rscQue <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;RESRC_ID_TYPE &#8640; ((PART_ID_TYPE &times; PROC_ID_TYPE) list)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 392 </font></span>  tCounterRsc <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; PROC_ID_TYPE &#8640; CT_DDL_TIME_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 393 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 394 </font></span>  suspended <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; PROC_ID_TYPE &#8640; bool&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 395 </font></span>  suspDiff <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; PROC_ID_TYPE &#8640; TIME_DIFF_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 396 </font></span>  tCounterSusp <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; PROC_ID_TYPE &#8640; CT_DDL_TIME_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 397 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 398 </font></span>  procCntxt <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; PROC_ID_TYPE &#8640; PROC_CONTEXT_TYPE&quot;</font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 399 </font></span>  rlsPoint <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; PROC_ID_TYPE &#8640; RELEASE_POINT_TYPE&quot;</font>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 400 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 401 </font></span>  delayedT <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; PROC_ID_TYPE &#8640; DELAY_TIME_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 402 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 403 </font></span><font color="#006699"><strong>record</strong></font> StaProc <font color="#000000"><strong>=</strong></font> StaProc_sched <font color="#000000"><strong>+</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 404 </font></span>                parts_Serv_R_' <font color="#000000"><strong>::</strong></font> PARTS_STATE_TYPE_ServR_Supp
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 405 </font></span>                cores_' <font color="#000000"><strong>::</strong></font> CPU_STATE_TYPE 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 406 </font></span>                rscPendProcs_' <font color="#000000"><strong>::</strong></font> PROCS_STATE_PENDING_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 407 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 408 </font></span><font color="#cc0000">(**************)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 409 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 410 </font></span><font color="#cc0000">(*INTER_COM*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 411 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 412 </font></span><font color="#006699"><strong>record</strong></font> INTER_COM_TYPE <font color="#000000"><strong>=</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 413 </font></span>  createdPorts <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; PORT_ID_TYPE &#8640; INTER_PORT_ATTR_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 414 </font></span>  samPortMsg <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; PORT_ID_TYPE &#8640; (Message &times; SYSTEM_TIME_TYPE)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 415 </font></span>  quePortMsg <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; PORT_ID_TYPE &#8640; (Message list)&quot;</font>   
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 416 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 417 </font></span><font color="#cc0000">(*INTRACOM*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 418 </font></span><font color="#cc0000">(*BUFFER*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 419 </font></span><font color="#006699"><strong>record</strong></font> BUFFER_STATE_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 420 </font></span>  createdBuf <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; BUFFER_ID_TYPE &#8640; BUFFER_ATTR_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 421 </font></span>  bufmsgQue <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; BUFFER_ID_TYPE &#8640; (Message list)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 422 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 423 </font></span><font color="#cc0000">(*BlackBoard*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 424 </font></span><font color="#006699"><strong>record</strong></font> BLACKBD_STATE_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 425 </font></span>  createdBbd <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; BLACKBD_ID_TYPE &#8640; BLACKBD_ATTR_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 426 </font></span>  msgBbd <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; BLACKBD_ID_TYPE &#8640; Message&quot;</font>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 427 </font></span>  emptyID <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; BLACKBD_ID_TYPE &#8640; EMPTY_INDICATOR_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 428 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 429 </font></span><font color="#cc0000">(*Semaphore*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 430 </font></span><font color="#006699"><strong>record</strong></font> USER_SEMA_STATE_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 431 </font></span>  createdSema <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; SEMA_ID_TYPE &#8640; USER_SEMA_ATTR_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 432 </font></span>  maxValue <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; SEMA_ID_TYPE &#8640; SEMPAPH_VALUE_TYPE&quot;</font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 433 </font></span>  curValue <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; SEMA_ID_TYPE &#8640; SEMPAPH_VALUE_TYPE&quot;</font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 434 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 435 </font></span><font color="#cc0000">(*Event*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 436 </font></span><font color="#006699"><strong>record</strong></font> EVENT_STATE_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 437 </font></span>  createdEvent <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; EVENT_ID_TYPE &#8640; EVENT_NAME_TYPE&quot;</font>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 438 </font></span>  eventSta <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; EVENT_ID_TYPE &#8640; EVENT_STA_TYPE&quot;</font>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 439 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 440 </font></span><font color="#cc0000">(*USER_MUTEX and PL_MUTEX*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 441 </font></span><font color="#006699"><strong>record</strong></font> USER_PL_MUTEX_STATE_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 442 </font></span>  createdMtx <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; USER_PL_MUTEX_ID_TYPE &#8640; USER_PL_MUTEX_ATTR_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 443 </font></span>  mtxOwner <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;(PART_ID_TYPE &times; USER_PL_MUTEX_ID_TYPE) &#8640; PROC_ID_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 444 </font></span>  mtxSta <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; USER_PL_MUTEX_ID_TYPE &#8640; MUTEX_STATE_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 445 </font></span>  mtxRtnPrio <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; USER_PL_MUTEX_ID_TYPE &#8640; PRIORITY_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 446 </font></span>  mtxLkCt <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; USER_PL_MUTEX_ID_TYPE &#8640; LOCK_COUNT_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 447 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 448 </font></span><font color="#006699"><strong>record</strong></font> REPORTED_ERROR_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 449 </font></span>  errorType <font color="#000000"><strong>::</strong></font> PROC_ERROR_CODE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 450 </font></span>  errorProcID <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; PROC_ID_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 451 </font></span>  errorMsg <font color="#000000"><strong>::</strong></font> string
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 452 </font></span>  errorMsgSz <font color="#000000"><strong>::</strong></font> MSG_SZ_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 453 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 454 </font></span><font color="#006699"><strong>datatype</strong></font> HM_CONCURRENCY_TYPE <font color="#000000"><strong>=</strong></font> PROCESSES_PAUSE <font color="#000000"><strong>|</strong></font> PROCESSES_SCHEDULED
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 455 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 456 </font></span><font color="#cc0000">(*if the hmCalled of a part_id is not True after the hm completed one excuteion,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 457 </font></span><font color="#cc0000"> the system will trigger a part lvl error*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 458 </font></span><font color="#006699"><strong>record</strong></font> HM_STATE_TYPE <font color="#000000"><strong>=</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 459 </font></span>  errorList <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &#8640; REPORTED_ERROR_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 460 </font></span>  errorMsgL <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;Message option&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 461 </font></span>  concurConf <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &#8640; HM_CONCURRENCY_TYPE&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 462 </font></span>  hmCalled <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &#8640; bool&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 463 </font></span>  hmStatusCalled <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &#8640; bool&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 464 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 465 </font></span><font color="#006699"><strong>record</strong></font> STATE <font color="#000000"><strong>=</strong></font> StaProc <font color="#000000"><strong>+</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 466 </font></span>            interCom_' <font color="#000000"><strong>::</strong></font> INTER_COM_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 467 </font></span>            buffer_' <font color="#000000"><strong>::</strong></font> BUFFER_STATE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 468 </font></span>            blackBD_' <font color="#000000"><strong>::</strong></font> BLACKBD_STATE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 469 </font></span>            sema_' <font color="#000000"><strong>::</strong></font> USER_SEMA_STATE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 470 </font></span>            event_' <font color="#000000"><strong>::</strong></font> EVENT_STATE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 471 </font></span>            user_pl_Mtx_' <font color="#000000"><strong>::</strong></font> USER_PL_MUTEX_STATE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 472 </font></span>            hm_' <font color="#000000"><strong>::</strong></font> HM_STATE_TYPE
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 473 </font></span>                 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 474 </font></span><font color="#006699"><strong>subsection</strong></font> <font color="#6600cc">{*Basic Functions*}</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 475 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 476 </font></span><font color="#006699"><strong>function</strong></font> size_set <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a set &rArr; nat&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 477 </font></span>  <font color="#ff00cc">&quot;size_set st = (if st = {} then 0 else (1 + size_set (st - {(SOME e. e&isin; st)})))&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 478 </font></span>  <font color="#006699"><strong>apply</strong></font> auto<font color="#000000"><strong>[</strong></font>1<font color="#000000"><strong>]</strong></font> <font color="#006699"><strong>by</strong></font> meson
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 479 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 480 </font></span><font color="#006699"><strong>definition</strong></font> MSG_SZ <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;Message &rArr; MSG_SZ_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 481 </font></span>  <font color="#ff00cc">&quot;MSG_SZ msg = msg&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 482 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 483 </font></span><font color="#006699"><strong>definition</strong></font> sysClk <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaPart_Sched_scheme &rArr; TIMER_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 484 </font></span>  <font color="#ff00cc">&quot;sysClk s = timer_' s&quot;</font>                               
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 485 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 486 </font></span><font color="#cc0000">(*Channels*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 487 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 488 </font></span><font color="#006699"><strong>primrec</strong></font> chID <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;CHANNEL_CFG_TYPE &rArr; CHANNEL_ID_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 489 </font></span>  <font color="#ff00cc">&quot;chID (chanQue cid _ _) = cid&quot;</font> <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 490 </font></span>  <font color="#ff00cc">&quot;chID (chanSam cid _ _) = cid&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 491 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 492 </font></span><font color="#006699"><strong>primrec</strong></font> chnlSrce <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;CHANNEL_CFG_TYPE &rArr; (PART_ID_TYPE &times; PORT_NAME_TYPE)&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 493 </font></span>  <font color="#ff00cc">&quot;chnlSrce (chanQue _ pp _) = pp&quot;</font> <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 494 </font></span>  <font color="#ff00cc">&quot;chnlSrce (chanSam _ pp _) = pp&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 495 </font></span>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 496 </font></span><font color="#006699"><strong>primrec</strong></font> chnlQueDest_PortName <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;CHANNEL_CFG_TYPE &rArr; (PART_ID_TYPE &times; PORT_NAME_TYPE)&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 497 </font></span>  <font color="#ff00cc">&quot;chnlQueDest_PortName (chanQue _ _ pps) = pps&quot;</font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 498 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 499 </font></span><font color="#006699"><strong>primrec</strong></font> chnlSampDest_PortNames <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;CHANNEL_CFG_TYPE &rArr; (PART_ID_TYPE &times; PORT_NAME_TYPE) set&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 500 </font></span>  <font color="#ff00cc">&quot;chnlSampDest_PortNames (chanSam _ _ pps) = pps&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 501 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 502 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 503 </font></span><font color="#cc0000">(*Ports*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 504 </font></span><font color="#cc0000">(*INTER_PORT_ATTR_TYPE*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 505 </font></span><font color="#006699"><strong>primrec</strong></font> isSamPort <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;INTER_PORT_ATTR_TYPE &rArr; bool&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 506 </font></span>  <font color="#ff00cc">&quot;isSamPort (samp _) = True&quot;</font> <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 507 </font></span>  <font color="#ff00cc">&quot;isSamPort (queu _) = False&quot;</font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 508 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 509 </font></span><font color="#006699"><strong>primrec</strong></font> isQuePort <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;INTER_PORT_ATTR_TYPE &rArr; bool&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 510 </font></span>  <font color="#ff00cc">&quot;isQuePort (samp _) = False&quot;</font> <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 511 </font></span>  <font color="#ff00cc">&quot;isQuePort (queu _) = True&quot;</font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 512 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 513 </font></span><font color="#006699"><strong>primrec</strong></font> portName <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;INTER_PORT_ATTR_TYPE &rArr; PORT_NAME_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 514 </font></span>  <font color="#ff00cc">&quot;portName (samp sp) = SAMP_PORT_ATTR_TYPE.NAME sp&quot;</font> <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 515 </font></span>  <font color="#ff00cc">&quot;portName (queu  qp) = QUE_PORT_ATTR_TYPE.NAME qp&quot;</font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 516 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 517 </font></span><font color="#006699"><strong>primrec</strong></font> portMsgSz <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;INTER_PORT_ATTR_TYPE &rArr; MSG_SZ_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 518 </font></span>  <font color="#ff00cc">&quot;portMsgSz (samp sp) = SAMP_PORT_ATTR_TYPE.MAX_MSG_SZ sp&quot;</font> <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 519 </font></span>  <font color="#ff00cc">&quot;portMsgSz (queu  qp) = QUE_PORT_ATTR_TYPE.MAX_MSG_SZ qp&quot;</font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 520 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 521 </font></span><font color="#006699"><strong>primrec</strong></font> portDirect <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;INTER_PORT_ATTR_TYPE &rArr; PORT_DIRECTION_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 522 </font></span>  <font color="#ff00cc">&quot;portDirect (samp sp) = SAMP_PORT_ATTR_TYPE.PORT_DIRECTION sp&quot;</font> <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 523 </font></span>  <font color="#ff00cc">&quot;portDirect (queu  qp) = QUE_PORT_ATTR_TYPE.PORT_DIRECTION qp&quot;</font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 524 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 525 </font></span><font color="#006699"><strong>primrec</strong></font> portQueLen <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;INTER_PORT_ATTR_TYPE &rArr; MSG_RANGE_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 526 </font></span>  <font color="#ff00cc">&quot;portQueLen (queu  qp) = QUE_PORT_ATTR_TYPE.MAX_NUM_MSG qp&quot;</font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 527 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 528 </font></span><font color="#006699"><strong>primrec</strong></font> portSamRefr <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;INTER_PORT_ATTR_TYPE &rArr; REFRESH_PERIOD_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 529 </font></span>  <font color="#ff00cc">&quot;portSamRefr (samp  qp) = SAMP_PORT_ATTR_TYPE.REFRESH_PERIOD qp&quot;</font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 530 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 531 </font></span><font color="#006699"><strong>primrec</strong></font> portQueDispline <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;INTER_PORT_ATTR_TYPE &rArr; QUE_DISCIPLINE_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 532 </font></span>  <font color="#ff00cc">&quot;portQueDispline (queu  qp) = QUE_PORT_ATTR_TYPE.QUE_DISCIPLINE qp&quot;</font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 533 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 534 </font></span><font color="#cc0000">(*for STATE_scheme*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 535 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 536 </font></span><font color="#006699"><strong>definition</strong></font> getPortAttrByID <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; PORT_ID_TYPE &rArr; INTER_PORT_ATTR_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 537 </font></span>  <font color="#ff00cc">&quot;getPortAttrByID s pp &equiv; createdPorts (interCom_' s) pp&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 538 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 539 </font></span><font color="#006699"><strong>definition</strong></font> readSamPortMsg <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; PORT_ID_TYPE &rArr; (Message &times; SYSTEM_TIME_TYPE) option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 540 </font></span>  <font color="#ff00cc">&quot;readSamPortMsg s pp = (samPortMsg (interCom_' s)) pp&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 541 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 542 </font></span><font color="#006699"><strong>definition</strong></font> writeSamPortMsg <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 543 </font></span>  <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; PORT_ID_TYPE &rArr; (Message &times; SYSTEM_TIME_TYPE) &rArr; 'a STATE_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 544 </font></span>  <font color="#ff00cc">&quot;writeSamPortMsg s pp msg = s&#10631;interCom_' := (interCom_' s)&#10631;samPortMsg := (samPortMsg (interCom_' s))(pp := Some msg)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 545 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 546 </font></span><font color="#006699"><strong>function</strong></font> writeSamPortsMsg <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 547 </font></span>  <font color="#ff00cc">&quot;'a STATE_scheme &rArr; (PART_ID_TYPE &times; PORT_ID_TYPE) set &rArr; (Message &times; SYSTEM_TIME_TYPE) &rArr; 'a STATE_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 548 </font></span>  <font color="#ff00cc">&quot;writeSamPortsMsg s pps mt =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 549 </font></span><font color="#ff00cc">  (if pps = {} then s</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 550 </font></span><font color="#ff00cc">  else </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 551 </font></span><font color="#ff00cc">    let oneport = (SOME pp. pp &isin; pps);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 552 </font></span><font color="#ff00cc">        s_writeOne = writeSamPortMsg s oneport mt in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 553 </font></span><font color="#ff00cc">    writeSamPortsMsg s_writeOne (pps - {oneport}) mt)&quot;</font> <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 554 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 555 </font></span><font color="#006699"><strong>definition</strong></font> getQueMsgL <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; PORT_ID_TYPE &rArr; (Message list) option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 556 </font></span>  <font color="#ff00cc">&quot;getQueMsgL s pp = ((quePortMsg (interCom_' s)) pp)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 557 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 558 </font></span><font color="#006699"><strong>definition</strong></font> samPortEmpty <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; PORT_ID_TYPE &rArr; bool&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 559 </font></span>  <font color="#ff00cc">&quot;samPortEmpty s pp &equiv; (samPortMsg (interCom_' s)) pp = None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 560 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 561 </font></span><font color="#006699"><strong>definition</strong></font> quePortEmpty <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; PORT_ID_TYPE &rArr; bool&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 562 </font></span>  <font color="#ff00cc">&quot;quePortEmpty s pp &equiv; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 563 </font></span><font color="#ff00cc">   (quePortMsg (interCom_' s)) pp = Some [] &or; (quePortMsg (interCom_' s)) pp = None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 564 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 565 </font></span><font color="#006699"><strong>definition</strong></font> emptyQueMsgL <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; PORT_ID_TYPE &rArr; 'a STATE_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 566 </font></span>  <font color="#ff00cc">&quot;emptyQueMsgL s pp &equiv;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 567 </font></span><font color="#ff00cc">  s&#10631;interCom_' := (interCom_' s)&#10631;quePortMsg := (quePortMsg(interCom_' s))(pp := None)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 568 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 569 </font></span><font color="#006699"><strong>definition</strong></font> quePortFull <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; PORT_ID_TYPE &rArr; bool&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 570 </font></span>  <font color="#ff00cc">&quot;quePortFull s pp &equiv; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 571 </font></span><font color="#ff00cc">  length(the(quePortMsg(interCom_' s) pp)) = portQueLen(the(getPortAttrByID s pp))&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 572 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 573 </font></span><font color="#006699"><strong>definition</strong></font> portCreated <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; PORT_ID_TYPE &rArr; bool&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 574 </font></span>  <font color="#ff00cc">&quot;portCreated s pp &equiv; (createdPorts (interCom_' s)) pp &ne; None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 575 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 576 </font></span><font color="#006699"><strong>definition</strong></font> invalMsgSZ <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; PORT_ID_TYPE &rArr; bool&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 577 </font></span>  <font color="#ff00cc">&quot;invalMsgSZ s pp &equiv; (portMsgSz (the(getPortAttrByID s pp)) &gt; MAX_MSG_SZ_VALUE)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 578 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 579 </font></span><font color="#006699"><strong>definition</strong></font> sampMsgValid <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; SYSTEM_TIME_TYPE &rArr; PART_ID_TYPE &times; PORT_ID_TYPE &rArr; bool&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 580 </font></span>  <font color="#ff00cc">&quot;sampMsgValid s t pp &equiv; t - snd(the((samPortMsg (interCom_' s)) pp)) &le; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 581 </font></span><font color="#ff00cc">                               portSamRefr (the(getPortAttrByID s pp))&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 582 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 583 </font></span><font color="#006699"><strong>definition</strong></font> rscProcQueEmpty <font color="#000000"><strong>::</strong></font><font color="#ff00cc">&quot;'a STATE_scheme &rArr; RESRC_ID_TYPE &rArr; bool&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 584 </font></span>  <font color="#ff00cc">&quot;rscProcQueEmpty s rsc_id &equiv;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 585 </font></span><font color="#ff00cc">  rscQue(rscPendProcs_' s) rsc_id = None &or;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 586 </font></span><font color="#ff00cc">  rscQue(rscPendProcs_' s) rsc_id = Some []&quot;</font>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 587 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 588 </font></span><font color="#cc0000">(*the first msg is the latest one</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 589 </font></span><font color="#cc0000">there should be a full judge before using it*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 590 </font></span><font color="#006699"><strong>definition</strong></font> dltQueFstMsg <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; PORT_ID_TYPE &rArr; 'a STATE_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 591 </font></span>  <font color="#ff00cc">&quot;dltQueFstMsg s pp = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 592 </font></span><font color="#ff00cc">  (let inter_com = (interCom_' s);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 593 </font></span><font color="#ff00cc">      port_msg_que = quePortMsg inter_com pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 594 </font></span><font color="#ff00cc">  s&#10631;interCom_' := inter_com&#10631;quePortMsg := (quePortMsg inter_com)(pp := Some (drop 1 (the port_msg_que)))&#10632;&#10632;)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 595 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 596 </font></span><font color="#006699"><strong>definition</strong></font> insertQueMsg <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; PORT_ID_TYPE &rArr; Message &rArr; 'a STATE_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 597 </font></span>  <font color="#ff00cc">&quot;insertQueMsg s pp msg = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 598 </font></span><font color="#ff00cc">  (let inter_com = (interCom_' s);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 599 </font></span><font color="#ff00cc">      port_msg_que = quePortMsg inter_com pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 600 </font></span><font color="#ff00cc">  if port_msg_que = None &or; port_msg_que = Some [] then </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 601 </font></span><font color="#ff00cc">    s&#10631;interCom_' := inter_com&#10631;quePortMsg := (quePortMsg inter_com)(pp := Some [msg])&#10632;&#10632;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 602 </font></span><font color="#ff00cc">  else s&#10631;interCom_' := inter_com&#10631;quePortMsg := (quePortMsg inter_com)(pp := Some ((the port_msg_que)@[msg]))&#10632;&#10632;)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 603 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 604 </font></span><font color="#006699"><strong>definition</strong></font> rcvQueMsg <font color="#000000"><strong>::</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 605 </font></span>  <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; PORT_ID_TYPE &rArr; ('a STATE_scheme &times; Message option)&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 606 </font></span>  <font color="#ff00cc">&quot;rcvQueMsg s pp &equiv;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 607 </font></span><font color="#ff00cc">    case (quePortEmpty s pp) of</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 608 </font></span><font color="#ff00cc">      False &rArr; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 609 </font></span><font color="#ff00cc">          let cs = interCom_' s;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 610 </font></span><font color="#ff00cc">              pts = quePortMsg cs;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 611 </font></span><font color="#ff00cc">              msglist = the(pts pp);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 612 </font></span><font color="#ff00cc">              Resmsglist = drop 1 msglist </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 613 </font></span><font color="#ff00cc">          in </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 614 </font></span><font color="#ff00cc">            (s&#10631;interCom_':= cs&#10631;quePortMsg := pts(pp := Some(Resmsglist))&#10632;&#10632;, Some (msglist!0))| </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 615 </font></span><font color="#ff00cc">      True &rArr; (s, None)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 616 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 617 </font></span><font color="#cc0000">(*Buffer*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 618 </font></span><font color="#cc0000">(*</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 619 </font></span><font color="#cc0000">definition getComNumInPart :: &quot;('a &#8640; PART_ID_TYPE) &rArr; PART_ID_TYPE &rArr; 'a set&quot; where</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 620 </font></span><font color="#cc0000">  &quot;getComNumInPart ap part_id =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 621 </font></span><font color="#cc0000">  {buf_id. ap buf_id = Some part_id}&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 622 </font></span><font color="#cc0000">*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 623 </font></span><font color="#006699"><strong>definition</strong></font> insertBufMsg <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; BUFFER_ID_TYPE &rArr; Message &rArr; 'a STATE_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 624 </font></span>  <font color="#ff00cc">&quot;insertBufMsg s pb msg = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 625 </font></span><font color="#ff00cc">  (let buf_com = (buffer_' s);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 626 </font></span><font color="#ff00cc">      buf_msg_que = bufmsgQue buf_com pb in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 627 </font></span><font color="#ff00cc">  if buf_msg_que = None &or; buf_msg_que = Some [] then </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 628 </font></span><font color="#ff00cc">    s&#10631;buffer_' := buf_com&#10631;bufmsgQue := (bufmsgQue buf_com)(pb := Some [msg])&#10632;&#10632;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 629 </font></span><font color="#ff00cc">  else s&#10631;buffer_' := buf_com&#10631;bufmsgQue := (bufmsgQue buf_com)(pb := Some ((the buf_msg_que)@[msg]))&#10632;&#10632;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 630 </font></span><font color="#ff00cc">  )&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 631 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 632 </font></span><font color="#cc0000">(*Resource*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 633 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 634 </font></span><font color="#cc0000">(*the scnd argument is the location of process in the process queue*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 635 </font></span><font color="#006699"><strong>definition</strong></font> getRscId_Num <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; (RESRC_ID_TYPE &times; nat) option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 636 </font></span>  <font color="#ff00cc">&quot;getRscId_Num s pp &equiv;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 637 </font></span><font color="#ff00cc">  if &exist;rsc_id i. let rscq = rscQue(rscPendProcs_' s)rsc_id in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 638 </font></span><font color="#ff00cc">      rscq &ne; None &and; rscq &ne; Some [] &and; i&lt;length (the rscq) &and;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 639 </font></span><font color="#ff00cc">      (the rscq)!i = pp then </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 640 </font></span><font color="#ff00cc">    Some (THE (rsc_id, i). let rscq = rscQue(rscPendProcs_' s)rsc_id in  </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 641 </font></span><font color="#ff00cc">      rscq &ne; None &and; rscq &ne; Some [] &and; i&lt;length (the rscq) &and;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 642 </font></span><font color="#ff00cc">      (the rscq)!i = pp)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 643 </font></span><font color="#ff00cc">  else None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 644 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 645 </font></span><font color="#006699"><strong>primrec</strong></font> procListDel <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;(PART_ID_TYPE &times; PROC_ID_TYPE) list &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; (PART_ID_TYPE &times; PROC_ID_TYPE) list&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 646 </font></span>  <font color="#ff00cc">&quot;procListDel [] pp = []&quot;</font> <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 647 </font></span>  <font color="#ff00cc">&quot;procListDel (p#pl) pp = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 648 </font></span><font color="#ff00cc">    (case p=pp of True &rArr; pl | False &rArr; p # procListDel pl pp)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 649 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 650 </font></span><font color="#006699"><strong>definition</strong></font> rscQdelProc <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; 'a StaProc_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 651 </font></span>  <font color="#ff00cc">&quot;rscQdelProc s pp =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 652 </font></span><font color="#ff00cc">  (let RscId_Num = getRscId_Num s pp; rscId = fst (the RscId_Num);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 653 </font></span><font color="#ff00cc">      proc_l = the(rscQue(rscPendProcs_' s)rscId) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 654 </font></span><font color="#ff00cc">  s&#10631;rscPendProcs_' := (rscPendProcs_' s)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 655 </font></span><font color="#ff00cc">                  &#10631;rscQue := (rscQue(rscPendProcs_' s))(rscId := Some (procListDel proc_l pp))&#10632;&#10632;)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 656 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 657 </font></span><font color="#006699"><strong>definition</strong></font> getCterRsc <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; CT_DDL_TIME_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 658 </font></span>  <font color="#ff00cc">&quot;getCterRsc s rsc = tCounterRsc(rscPendProcs_' s) rsc&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 659 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 660 </font></span><font color="#006699"><strong>definition</strong></font> setCterRsc <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; CT_DDL_TIME_TYPE &rArr; 'a StaProc_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 661 </font></span>  <font color="#ff00cc">&quot;setCterRsc s rsc ctddl = s&#10631;rscPendProcs_' := (rscPendProcs_' s)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 662 </font></span><font color="#ff00cc">                                &#10631;tCounterRsc := (tCounterRsc(rscPendProcs_' s))(rsc := Some ctddl)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 663 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 664 </font></span><font color="#006699"><strong>definition</strong></font> stopCterRsc <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; 'a StaProc_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 665 </font></span>  <font color="#ff00cc">&quot;stopCterRsc s rsc = s&#10631;rscPendProcs_' := (rscPendProcs_' s)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 666 </font></span><font color="#ff00cc">                                &#10631;tCounterRsc := (tCounterRsc(rscPendProcs_' s))(rsc := None)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 667 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 668 </font></span><font color="#006699"><strong>definition</strong></font> getCterSusp <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; CT_DDL_TIME_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 669 </font></span>  <font color="#ff00cc">&quot;getCterSusp s rsc = tCounterSusp(rscPendProcs_' s) rsc&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 670 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 671 </font></span><font color="#006699"><strong>definition</strong></font> setCterSusp <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; CT_DDL_TIME_TYPE &rArr; 'a StaProc_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 672 </font></span>  <font color="#ff00cc">&quot;setCterSusp s rsc ctddl = s&#10631;rscPendProcs_' := (rscPendProcs_' s)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 673 </font></span><font color="#ff00cc">                                &#10631;tCounterSusp := (tCounterSusp(rscPendProcs_' s))(rsc := Some ctddl)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 674 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 675 </font></span><font color="#006699"><strong>definition</strong></font> stopCterSusp <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; 'a StaProc_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 676 </font></span>  <font color="#ff00cc">&quot;stopCterSusp s rsc = s&#10631;rscPendProcs_' := (rscPendProcs_' s)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 677 </font></span><font color="#ff00cc">                                &#10631;tCounterSusp := (tCounterSusp(rscPendProcs_' s))(rsc := None)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 678 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 679 </font></span><font color="#006699"><strong>definition</strong></font> getBufAttrByID <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; BUFFER_ID_TYPE &rArr; BUFFER_ATTR_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 680 </font></span>  <font color="#ff00cc">&quot;getBufAttrByID s buf_id &equiv; createdBuf (buffer_' s) buf_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 681 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 682 </font></span><font color="#006699"><strong>definition</strong></font> getBbdAttrByID <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; BLACKBD_ID_TYPE &rArr; BLACKBD_ATTR_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 683 </font></span>  <font color="#ff00cc">&quot;getBbdAttrByID s bbd_id &equiv; createdBbd (blackBD_' s) bbd_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 684 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 685 </font></span><font color="#006699"><strong>definition</strong></font> getUserSemaAttrByID <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; SEMA_ID_TYPE &rArr; USER_SEMA_ATTR_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 686 </font></span>  <font color="#ff00cc">&quot;getUserSemaAttrByID s sema_id &equiv; createdSema (sema_' s) sema_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 687 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 688 </font></span><font color="#006699"><strong>definition</strong></font> getEvtAttrByID <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; EVENT_ID_TYPE &rArr; EVENT_NAME_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 689 </font></span>  <font color="#ff00cc">&quot;getEvtAttrByID s evt_id &equiv; createdEvent (event_' s) evt_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 690 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 691 </font></span><font color="#006699"><strong>definition</strong></font> getUserPLMtxAttrByID <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; USER_PL_MUTEX_ID_TYPE &rArr; USER_PL_MUTEX_ATTR_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 692 </font></span>  <font color="#ff00cc">&quot;getUserPLMtxAttrByID s userMtx_id &equiv; createdMtx (user_pl_Mtx_' s) userMtx_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 693 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 694 </font></span><font color="#006699"><strong>definition</strong></font> getBufIDByName <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &rArr; BUFFER_NAME_TYPE &rArr; BUFFER_ID_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 695 </font></span>  <font color="#ff00cc">&quot;getBufIDByName s part_id buf_name &equiv;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 696 </font></span><font color="#ff00cc">  if &exist;buf_id. let f_created = createdBuf (buffer_' s);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 697 </font></span><font color="#ff00cc">                  created = f_created (part_id, buf_id) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 698 </font></span><font color="#ff00cc">              created &ne; None &and; BUFFER_NAME  (the created) = buf_name then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 699 </font></span><font color="#ff00cc">    Some (THE buf_id. let f_created = createdBuf (buffer_' s);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 700 </font></span><font color="#ff00cc">                          created = f_created (part_id, buf_id) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 701 </font></span><font color="#ff00cc">                          created &ne; None &and; BUFFER_NAME  (the created) = buf_name)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 702 </font></span><font color="#ff00cc">  else None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 703 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 704 </font></span><font color="#006699"><strong>definition</strong></font> getBbdIDByName <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &rArr; BLACKBD_NAME_TYPE &rArr; BLACKBD_ID_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 705 </font></span>  <font color="#ff00cc">&quot;getBbdIDByName s part_id bbd_name &equiv;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 706 </font></span><font color="#ff00cc">  if &exist;bbd_id. let f_created = createdBbd (blackBD_' s);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 707 </font></span><font color="#ff00cc">                  created = f_created (part_id, bbd_id) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 708 </font></span><font color="#ff00cc">              created &ne; None &and; BLACKBD_NAME  (the created) = bbd_name then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 709 </font></span><font color="#ff00cc">    Some (THE bbd_id. let f_created = createdBbd (blackBD_' s);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 710 </font></span><font color="#ff00cc">                          created = f_created (part_id, bbd_id) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 711 </font></span><font color="#ff00cc">                      created &ne; None &and; BLACKBD_NAME  (the created) = bbd_name)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 712 </font></span><font color="#ff00cc">  else None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 713 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 714 </font></span><font color="#006699"><strong>definition</strong></font> getUserSemaIDByName <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &rArr; SEMA_NAME_TYPE &rArr; SEMA_ID_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 715 </font></span>  <font color="#ff00cc">&quot;getUserSemaIDByName s part_id userSema_name &equiv;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 716 </font></span><font color="#ff00cc">  if &exist;userSema_id. let f_created = createdSema (sema_' s);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 717 </font></span><font color="#ff00cc">                  created = f_created (part_id, userSema_id) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 718 </font></span><font color="#ff00cc">              created &ne; None &and; USER_SEMA_ATTR_TYPE.SEMA_NAME (the created) = userSema_name then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 719 </font></span><font color="#ff00cc">    Some (THE userSema_id. let f_created = createdSema (sema_' s);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 720 </font></span><font color="#ff00cc">                          created = f_created (part_id, userSema_id) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 721 </font></span><font color="#ff00cc">                      created &ne; None &and; USER_SEMA_ATTR_TYPE.SEMA_NAME (the created) = userSema_name)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 722 </font></span><font color="#ff00cc">  else None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 723 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 724 </font></span><font color="#006699"><strong>definition</strong></font> getEvtIDByName <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &rArr; EVENT_NAME_TYPE &rArr; EVENT_ID_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 725 </font></span>  <font color="#ff00cc">&quot;getEvtIDByName s part_id evt_name &equiv;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 726 </font></span><font color="#ff00cc">  if &exist;evt_id. let f_created = createdEvent (event_' s);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 727 </font></span><font color="#ff00cc">                  created = f_created (part_id, evt_id) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 728 </font></span><font color="#ff00cc">              created &ne; None &and; the created = evt_name then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 729 </font></span><font color="#ff00cc">    Some (THE evt_id. let f_created = createdEvent (event_' s);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 730 </font></span><font color="#ff00cc">                          created = f_created (part_id, evt_id) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 731 </font></span><font color="#ff00cc">                      created &ne; None &and; the created = evt_name)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 732 </font></span><font color="#ff00cc">  else None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 733 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 734 </font></span><font color="#006699"><strong>definition</strong></font> getUserPLMtxIDByName <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &rArr; USER_MUTEX_NAME_TYPE &rArr; USER_PL_MUTEX_ID_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 735 </font></span>  <font color="#ff00cc">&quot;getUserPLMtxIDByName s part_id userMtx_name &equiv;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 736 </font></span><font color="#ff00cc">  if &exist;userMtx_id. let f_created = createdMtx (user_pl_Mtx_' s);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 737 </font></span><font color="#ff00cc">                  created = f_created (part_id, userMtx_id) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 738 </font></span><font color="#ff00cc">              created &ne; None &and; USER_PL_MUTEX_ATTR_TYPE.MUTEX_NAME (the created) = userMtx_name then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 739 </font></span><font color="#ff00cc">    Some (THE userMtx_id. let f_created = createdMtx (user_pl_Mtx_' s);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 740 </font></span><font color="#ff00cc">                          created = f_created (part_id, userMtx_id) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 741 </font></span><font color="#ff00cc">                      created &ne; None &and; USER_PL_MUTEX_ATTR_TYPE.MUTEX_NAME (the created) = userMtx_name)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 742 </font></span><font color="#ff00cc">  else None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 743 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 744 </font></span><font color="#006699"><strong>definition</strong></font> getRscQDis <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; RESRC_ID_TYPE &rArr; QUE_DISCIPLINE_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 745 </font></span>  <font color="#ff00cc">&quot;getRscQDis s rsc &equiv;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 746 </font></span><font color="#ff00cc">  case rsc of</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 747 </font></span><font color="#ff00cc">    interC port_id &rArr; (case (the(getPortAttrByID s port_id)) of queu queu_attr &rArr; QUE_PORT_ATTR_TYPE.QUE_DISCIPLINE queu_attr) |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 748 </font></span><font color="#ff00cc">        buf buf_id &rArr; (case (the(getBufAttrByID s buf_id)) of buf_attr &rArr; BUFFER_ATTR_TYPE.QUE_DISCIPLINE buf_attr)|</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 749 </font></span><font color="#ff00cc">      sema sema_id &rArr; (case (the(getUserSemaAttrByID s sema_id)) of sema_attr &rArr; USER_SEMA_ATTR_TYPE.QUE_DISCIPLINE sema_attr)|</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 750 </font></span><font color="#ff00cc">   userPlMtx sema_id &rArr; (case (the(getUserPLMtxAttrByID s sema_id)) of userMtx_attr &rArr; USER_PL_MUTEX_ATTR_TYPE.QUE_DISCIPLINE userMtx_attr)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 751 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 752 </font></span><font color="#cc0000">(*Parts*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 753 </font></span>  <font color="#cc0000">(*Part Configuration*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 754 </font></span><font color="#006699"><strong>primrec</strong></font> partType <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_CFG_TYPE &rArr; PART_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 755 </font></span>  <font color="#ff00cc">&quot;partType (Partition typ _ _ _ _ _ _) = typ&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 756 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 757 </font></span><font color="#006699"><strong>primrec</strong></font> partName <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_CFG_TYPE &rArr; PART_NAME_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 758 </font></span>  <font color="#ff00cc">&quot;partName (Partition _ name _ _ _ _ _) = name&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 759 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 760 </font></span><font color="#006699"><strong>primrec</strong></font> partID <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_CFG_TYPE &rArr; PART_ID_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 761 </font></span>  <font color="#ff00cc">&quot;partID (Partition _ _ pid _ _ _ _) = pid&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 762 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 763 </font></span><font color="#006699"><strong>primrec</strong></font> partPeriod <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_CFG_TYPE &rArr; PART_PERIOD_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 764 </font></span>  <font color="#ff00cc">&quot;partPeriod (Partition _ _ _ pp _ _ _) = pp&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 765 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 766 </font></span><font color="#006699"><strong>primrec</strong></font> partOffset <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_CFG_TYPE &rArr; PART_OFFSET_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 767 </font></span>  <font color="#ff00cc">&quot;partOffset (Partition _ _ _ _ po _ _) = po&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 768 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 769 </font></span><font color="#006699"><strong>primrec</strong></font> partDurat <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_CFG_TYPE &rArr; PART_DURATION_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 770 </font></span>  <font color="#ff00cc">&quot;partDurat (Partition _ _ _ _ _ du _) = du&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 771 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 772 </font></span><font color="#006699"><strong>primrec</strong></font> partPorts <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_CFG_TYPE &rArr; INTER_PORT_ATTR_TYPE set&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 773 </font></span>  <font color="#ff00cc">&quot;partPorts (Partition _ _ _ _ _ _ ps) = ps&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 774 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 775 </font></span><font color="#006699"><strong>definition</strong></font> getPartByID_conf  <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;SysConfig &rArr; PART_ID_TYPE &rArr; PART_CFG_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 776 </font></span>  <font color="#ff00cc">&quot;getPartByID_conf conf pid = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 777 </font></span><font color="#ff00cc">  (if &exist;pc. pc &isin; partConf conf &and; partID pc = pid then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 778 </font></span><font color="#ff00cc">      Some (THE pc. pc &isin; partConf conf &and; partID pc = pid)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 779 </font></span><font color="#ff00cc">  else None)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 780 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 781 </font></span><font color="#006699"><strong>definition</strong></font> partID_EX_conf <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;SysConfig &rArr; PART_ID_TYPE &rArr; bool&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 782 </font></span>  <font color="#ff00cc">&quot;partID_EX_conf conf pid = (&exist;p&isin;partConf conf. pid = partID p)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 783 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 784 </font></span><font color="#006699"><strong>definition</strong></font> portNameInPart_conf <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;SysConfig &rArr; PART_ID_TYPE &rArr; PORT_NAME_TYPE  &rArr; bool&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 785 </font></span>  <font color="#ff00cc">&quot;portNameInPart_conf sysc part_id port_name &equiv;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 786 </font></span><font color="#ff00cc">  let part_conf = the(getPartByID_conf sysc part_id) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 787 </font></span><font color="#ff00cc">    (&exist;port&isin;partPorts part_conf. port_name = portName port)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 788 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 789 </font></span><font color="#006699"><strong>definition</strong></font> curPartID <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaPart_Sched_scheme &rArr; V_CORE_ID_TYPE &rArr; PART_ID_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 790 </font></span>  <font color="#ff00cc">&quot;curPartID s core_id = (curPart (partitions_' s) core_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 791 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 792 </font></span><font color="#006699"><strong>definition</strong></font> getPartMode <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaPart_Sched_scheme &rArr; PART_ID_TYPE &rArr; OPERATING_MODE_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 793 </font></span>  <font color="#ff00cc">&quot;getPartMode s part_id = curMode (partitions_' s) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 794 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 795 </font></span><font color="#006699"><strong>definition</strong></font> getPartStartCond <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &rArr; START_CONDITION_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 796 </font></span>  <font color="#ff00cc">&quot;getPartStartCond s part_id = curStartCond (parts_Serv_R_' s) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 797 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 798 </font></span><font color="#006699"><strong>definition</strong></font> setPartMode <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 799 </font></span>  <font color="#ff00cc">&quot;'a StaPart_Sched_scheme &rArr; PART_ID_TYPE &rArr; OPERATING_MODE_TYPE &rArr; 'a StaPart_Sched_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 800 </font></span>  <font color="#ff00cc">&quot;setPartMode s part_id md = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 801 </font></span><font color="#ff00cc">    s&#10631;partitions_' := (partitions_' s)&#10631;curMode := (curMode(partitions_' s))(part_id := Some md)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 802 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 803 </font></span><font color="#006699"><strong>definition</strong></font> getcurPartMode <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaPart_Sched_scheme &rArr; V_CORE_ID_TYPE &rArr; OPERATING_MODE_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>    
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 804 </font></span>  <font color="#ff00cc">&quot;getcurPartMode s core_id = (curMode (partitions_' s))(the(curPartID s core_id))&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 805 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 806 </font></span><font color="#006699"><strong>definition</strong></font> setCurPartMode <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaPart_Sched_scheme &rArr; V_CORE_ID_TYPE &rArr; OPERATING_MODE_TYPE &rArr; 'a StaPart_Sched_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 807 </font></span>  <font color="#ff00cc">&quot;setCurPartMode s core_id md =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 808 </font></span><font color="#ff00cc">  s&#10631;partitions_' := (partitions_' s)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 809 </font></span><font color="#ff00cc">                    &#10631;curMode := (curMode (partitions_' s))(the(curPartID s core_id) := Some md)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 810 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 811 </font></span><font color="#cc0000">(*definition setPartLock :: &quot;PARTS_STATE_TYPE &rArr; PART_ID_TYPE &rArr; LOCK_LVL_TYPE &rArr; PARTS_STATE_TYPE&quot; where</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 812 </font></span><font color="#cc0000">  &quot;setPartLock psSta pid lk = psSta &#10631;lockLvl := (lockLvl psSta)(pid := Some lk)&#10632;&quot;*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 813 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 814 </font></span><font color="#006699"><strong>definition</strong></font> getPartLock <font color="#000000"><strong>::</strong></font><font color="#ff00cc">&quot;'a StaPart_Sched_scheme &rArr; PART_ID_TYPE &rArr; LOCK_LVL_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 815 </font></span>  <font color="#ff00cc">&quot;getPartLock s part_id = ((lockLvl(partitions_' s))part_id) &quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 816 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 817 </font></span><font color="#006699"><strong>definition</strong></font> setPartLockS <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaPart_Sched_scheme &rArr; PART_ID_TYPE &rArr; LOCK_LVL_TYPE &rArr; 'a StaPart_Sched_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 818 </font></span>  <font color="#ff00cc">&quot;setPartLockS psSta pid lk = psSta&#10631;partitions_' := (partitions_' psSta) &#10631;lockLvl := (lockLvl (partitions_' psSta))(pid := Some lk)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 819 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 820 </font></span><font color="#006699"><strong>definition</strong></font> getCurPartLock <font color="#000000"><strong>::</strong></font><font color="#ff00cc">&quot;'a StaPart_Sched_scheme &rArr; V_CORE_ID_TYPE &rArr; LOCK_LVL_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 821 </font></span>  <font color="#ff00cc">&quot;getCurPartLock s core_id = getPartLock s (the (curPartID s core_id)) &quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 822 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 823 </font></span><font color="#006699"><strong>definition</strong></font> setCurPartLock <font color="#000000"><strong>::</strong></font><font color="#ff00cc">&quot;'a StaPart_Sched_scheme &rArr; V_CORE_ID_TYPE &rArr; LOCK_LVL_TYPE &rArr; 'a StaPart_Sched_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 824 </font></span>  <font color="#ff00cc">&quot;setCurPartLock s core_id lk = setPartLockS s (the ((curPart(partitions_' s))core_id)) lk&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 825 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 826 </font></span><font color="#006699"><strong>definition</strong></font> curPartLocked <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaPart_Sched_scheme &rArr; V_CORE_ID_TYPE &rArr; bool&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 827 </font></span>  <font color="#ff00cc">&quot;curPartLocked s core_id = (case getCurPartLock s core_id of Some l &rArr; l&gt;0 |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 828 </font></span><font color="#ff00cc">                                                                 None &rArr; False)&quot;</font>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 829 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 830 </font></span><font color="#cc0000">(*Cores*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 831 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 832 </font></span><font color="#006699"><strong>primrec</strong></font> concCore <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;CORE_MAP_TYPE &rArr; CORE_ID_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 833 </font></span>  <font color="#ff00cc">&quot;concCore (coreMap _ cc) = cc&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 834 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 835 </font></span><font color="#006699"><strong>primrec</strong></font> virtCore <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;CORE_MAP_TYPE &rArr; V_CORE_ID_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 836 </font></span>  <font color="#ff00cc">&quot;virtCore (coreMap vc _) = vc&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 837 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 838 </font></span><font color="#006699"><strong>primrec</strong></font> partIDCoreAss <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;CORE_ASSIGN_TYPE &rArr; V_CORE_ID_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 839 </font></span>  <font color="#ff00cc">&quot;partIDCoreAss (coreAss core_id _) = core_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 840 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 841 </font></span><font color="#006699"><strong>primrec</strong></font> vCPUsCoreAss <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;CORE_ASSIGN_TYPE &rArr; PART_ID_TYPE set&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 842 </font></span>  <font color="#ff00cc">&quot;vCPUsCoreAss (coreAss _ parts) = parts&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 843 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 844 </font></span><font color="#cc0000">(*Procs*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 845 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 846 </font></span><font color="#006699"><strong>definition</strong></font> getProcIDByName <font color="#000000"><strong>::</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 847 </font></span>  <font color="#ff00cc">&quot;'a StaProc_sched_scheme &rArr; PART_ID_TYPE &rArr; PROC_NAME_TYPE &rArr; PROC_ID_TYPE option &quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 848 </font></span>  <font color="#ff00cc">&quot;getProcIDByName s part_id proc_name = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 849 </font></span><font color="#ff00cc">  (if &exist;proc_id. (PROC_ATTR_TYPE.NAME (the(createdProcs (procs_' s) (part_id, proc_id)))) = proc_name then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 850 </font></span><font color="#ff00cc">      Some (THE proc_id. (PROC_ATTR_TYPE.NAME (the(createdProcs (procs_' s) (part_id, proc_id)))) = proc_name)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 851 </font></span><font color="#ff00cc">  else None)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 852 </font></span>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 853 </font></span><font color="#006699"><strong>definition</strong></font> curProcID_Core <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 854 </font></span>  <font color="#ff00cc">&quot;'a StaPart_Sched_scheme &rArr; V_CORE_ID_TYPE &rArr; PROC_ID_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 855 </font></span>  <font color="#ff00cc">&quot;curProcID_Core s core_id = ((curProc(partitions_' s)) (the(curPartID s core_id)))&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 856 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 857 </font></span><font color="#006699"><strong>definition</strong></font> curProcID_Part <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 858 </font></span>  <font color="#ff00cc">&quot;'a StaPart_Sched_scheme &rArr; PART_ID_TYPE &rArr; PROC_ID_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 859 </font></span>  <font color="#ff00cc">&quot;curProcID_Part s part_id =((curProc(partitions_' s)) part_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 860 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 861 </font></span><font color="#006699"><strong>definition</strong></font> getProcSta' <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 862 </font></span>  <font color="#ff00cc">&quot;(PROC_ID_TYPE &#8640; PROC_STATE_TYPE) &rArr; PROC_ID_TYPE &rArr; PROC_STATE_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 863 </font></span>  <font color="#ff00cc">&quot;getProcSta' f_procSta proc_id = f_procSta proc_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 864 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 865 </font></span><font color="#006699"><strong>definition</strong></font> getProcSta <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 866 </font></span>  <font color="#ff00cc">&quot;'a StaProc_sched_scheme &rArr; (PART_ID_TYPE &times; PROC_ID_TYPE) &rArr; PROC_STATE_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 867 </font></span>  <font color="#ff00cc">&quot;getProcSta s pp = (procSta (procs_' s))pp&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 868 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 869 </font></span><font color="#006699"><strong>definition</strong></font> setProcSta' <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 870 </font></span>  <font color="#ff00cc">&quot;((PART_ID_TYPE &times; PROC_ID_TYPE) &#8640; PROC_STATE_TYPE) &rArr; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 871 </font></span><font color="#ff00cc">     (PART_ID_TYPE &times; PROC_ID_TYPE) &rArr; PROC_STATE_TYPE &rArr;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 872 </font></span><font color="#ff00cc">  ((PART_ID_TYPE &times; PROC_ID_TYPE) &#8640; PROC_STATE_TYPE)&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 873 </font></span>  <font color="#ff00cc">&quot;setProcSta' ps pp proc_state = ps(pp := Some proc_state)&quot;</font>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 874 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 875 </font></span><font color="#006699"><strong>definition</strong></font> setProcsSta' <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 876 </font></span>  <font color="#ff00cc">&quot;((PART_ID_TYPE &times; PROC_ID_TYPE) &#8640; PROC_STATE_TYPE) &rArr; (PART_ID_TYPE &times; PROC_ID_TYPE) set &rArr; PROC_STATE_TYPE &rArr;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 877 </font></span><font color="#ff00cc">  ((PART_ID_TYPE &times; PROC_ID_TYPE) &#8640; PROC_STATE_TYPE)&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 878 </font></span>  <font color="#ff00cc">&quot;setProcsSta' pp ps proc_state &equiv;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 879 </font></span><font color="#ff00cc">  THE newpp. (&forall;proc_id. case proc_id&isin;ps of True &rArr; newpp proc_id = Some proc_state |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 880 </font></span><font color="#ff00cc">                                           False &rArr; newpp proc_id = pp proc_id )&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 881 </font></span>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 882 </font></span><font color="#006699"><strong>definition</strong></font> setProcSta <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 883 </font></span>  <font color="#ff00cc">&quot;'a StaProc_sched_scheme &rArr; (PART_ID_TYPE &times; PROC_ID_TYPE) &rArr; PROC_STATE_TYPE &rArr; 'a StaProc_sched_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 884 </font></span>  <font color="#ff00cc">&quot;setProcSta s proc_id proc_sta =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 885 </font></span><font color="#ff00cc">  s&#10631;procs_' := (procs_' s) &#10631;procSta := (procSta (procs_' s))(proc_id := Some proc_sta)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 886 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 887 </font></span><font color="#006699"><strong>definition</strong></font> setProcsSta <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 888 </font></span>  <font color="#ff00cc">&quot;'a StaProc_sched_scheme &rArr; (PART_ID_TYPE &times; PROC_ID_TYPE) set &rArr; PROC_STATE_TYPE &rArr; 'a StaProc_sched_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 889 </font></span>  <font color="#ff00cc">&quot;setProcsSta s ps proc_sta =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 890 </font></span><font color="#ff00cc">  s&#10631;procs_' := (procs_' s) &#10631;procSta := setProcsSta' (procSta (procs_' s)) ps proc_sta&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 891 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 892 </font></span><font color="#006699"><strong>definition</strong></font> setCurProcSta <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 893 </font></span>  <font color="#ff00cc">&quot;'a StaProc_sched_scheme &rArr; V_CORE_ID_TYPE &rArr; PROC_STATE_TYPE &rArr; 'a StaProc_sched_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 894 </font></span>  <font color="#ff00cc">&quot;setCurProcSta s core_id proc_sta = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 895 </font></span><font color="#ff00cc">  (let cur_part_id = the (curPartID s core_id); cur_proc_id = the (curProcID_Core s core_id) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 896 </font></span><font color="#ff00cc">    setProcSta s (cur_part_id, cur_proc_id) proc_sta</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 897 </font></span><font color="#ff00cc">  )&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 898 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 899 </font></span><font color="#006699"><strong>definition</strong></font> setCurProc_part <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 900 </font></span>  <font color="#ff00cc">&quot;'a StaProc_sched_scheme &rArr; PART_ID_TYPE &rArr; PROC_ID_TYPE &rArr; 'a StaProc_sched_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 901 </font></span>  <font color="#ff00cc">&quot;setCurProc_part s part_id proc_id = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 902 </font></span><font color="#ff00cc">  s&#10631;partitions_' := (partitions_' s)&#10631;curProc := (curProc(partitions_' s))(part_id := Some proc_id)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 903 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 904 </font></span><font color="#006699"><strong>definition</strong></font> setCurProc_core <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 905 </font></span>  <font color="#ff00cc">&quot;'a StaProc_sched_scheme &rArr; V_CORE_ID_TYPE &rArr; PROC_ID_TYPE &rArr; 'a StaProc_sched_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 906 </font></span>  <font color="#ff00cc">&quot;setCurProc_core s core_id proc_id &equiv; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 907 </font></span><font color="#ff00cc">  let part_id = the (curPartID s core_id) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 908 </font></span><font color="#ff00cc">  s&#10631;partitions_' := (partitions_' s)&#10631;curProc := (curProc(partitions_' s))(part_id := Some proc_id)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 909 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 910 </font></span><font color="#006699"><strong>definition</strong></font> createProc <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 911 </font></span>  <font color="#ff00cc">&quot;'a StaProc_sched_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; PROC_ATTR_TYPE &rArr; 'a StaProc_sched_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 912 </font></span>  <font color="#ff00cc">&quot;createProc s pp proc_att =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 913 </font></span><font color="#ff00cc">  s&#10631;procs_' := (procs_' s)&#10631;createdProcs := (createdProcs(procs_' s))(pp := Some proc_att)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 914 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 915 </font></span><font color="#cc0000">(*createPort by PART_ID_TYPE PORT_ID_TYPE INTER_PORT_ATTR_TYPE*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 916 </font></span><font color="#006699"><strong>definition</strong></font> createPort <font color="#000000"><strong>::</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 917 </font></span>  <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; PORT_ID_TYPE &rArr; INTER_PORT_ATTR_TYPE &rArr; 'a STATE_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 918 </font></span>  <font color="#ff00cc">&quot;createPort s pp port_attr &equiv;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 919 </font></span><font color="#ff00cc">    s&#10631;interCom_' := (interCom_' s)&#10631;createdPorts := (createdPorts(interCom_' s))(pp := Some port_attr)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 920 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 921 </font></span><font color="#006699"><strong>definition</strong></font> setPriority <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 922 </font></span>  <font color="#ff00cc">&quot;'a StaProc_sched_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; PRIORITY_TYPE &rArr; 'a StaProc_sched_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 923 </font></span>  <font color="#ff00cc">&quot;setPriority s pp proc_priority =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 924 </font></span><font color="#ff00cc">  (let proc_sta = procs_' s in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 925 </font></span><font color="#ff00cc">  s&#10631;procs_' := proc_sta&#10631;curPriority := (curPriority proc_sta)(pp := Some proc_priority)&#10632;&#10632;)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 926 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 927 </font></span><font color="#006699"><strong>definition</strong></font> getPriority <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 928 </font></span>  <font color="#ff00cc">&quot;'a StaProc_sched_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; PRIORITY_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 929 </font></span>  <font color="#ff00cc">&quot;getPriority s pp = curPriority(procs_' s)pp&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 930 </font></span>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 931 </font></span><font color="#006699"><strong>definition</strong></font> isPeriodic <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_sched_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; bool&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 932 </font></span>  <font color="#ff00cc">&quot;isPeriodic s pp &equiv;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 933 </font></span><font color="#ff00cc">  (PROC_ATTR_TYPE.PERIOD(the((createdProcs (procs_' s)pp))) &gt; 0)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 934 </font></span>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 935 </font></span><font color="#006699"><strong>definition</strong></font> getProcAttr <font color="#000000"><strong>::</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 936 </font></span>  <font color="#ff00cc">&quot;'a StaProc_sched_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; PROC_ATTR_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 937 </font></span>  <font color="#ff00cc">&quot;getProcAttr s pp = (createdProcs (procs_' s) pp)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 938 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 939 </font></span><font color="#006699"><strong>definition</strong></font> partBlngCore_conf <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;SysConfig &rArr; PART_ID_TYPE &rArr; V_CORE_ID_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 940 </font></span>  <font color="#ff00cc">&quot;partBlngCore_conf cfg part_id = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 941 </font></span><font color="#ff00cc">  (if &exist;cid. partsSched cfg cid &ne; None &and;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 942 </font></span><font color="#ff00cc">    (&exist;i&lt;length(the(partsSched cfg cid)). fst(snd((the(partsSched cfg cid))!i)) = part_id) then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 943 </font></span><font color="#ff00cc">      Some(THE cid. partsSched cfg cid &ne; None &and;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 944 </font></span><font color="#ff00cc">    (&exist;i&lt;length(the(partsSched cfg cid)). fst(snd((the(partsSched cfg cid))!i)) = part_id))</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 945 </font></span><font color="#ff00cc">  else None)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 946 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 947 </font></span><font color="#006699"><strong>definition</strong></font> procBlngCore_conf <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 948 </font></span>  <font color="#ff00cc">&quot;SysConfig &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; V_CORE_ID_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 949 </font></span>  <font color="#ff00cc">&quot;procBlngCore_conf cfg pp = partBlngCore_conf cfg  (fst pp)&quot;</font>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 950 </font></span>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 951 </font></span><font color="#006699"><strong>definition</strong></font> setCntxt <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; PROC_CONTEXT_TYPE &rArr; 'a StaProc_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 952 </font></span>  <font color="#ff00cc">&quot;setCntxt s pp ctx = s&#10631;rscPendProcs_' := (rscPendProcs_' s)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 953 </font></span><font color="#ff00cc">                              &#10631;procCntxt := (procCntxt(rscPendProcs_' s))(pp := Some ctx)&#10632;&#10632;&quot;</font>   
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 954 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 955 </font></span><font color="#006699"><strong>definition</strong></font> resetCntxt <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; 'a StaProc_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 956 </font></span>  <font color="#ff00cc">&quot;resetCntxt s pp  = s&#10631;rscPendProcs_' := (rscPendProcs_' s)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 957 </font></span><font color="#ff00cc">                              &#10631;procCntxt := (procCntxt(rscPendProcs_' s))(pp := None)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 958 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 959 </font></span><font color="#006699"><strong>definition</strong></font> getCntxt <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; PROC_CONTEXT_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 960 </font></span>  <font color="#ff00cc">&quot;getCntxt s pp  = procCntxt(rscPendProcs_' s)pp&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 961 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 962 </font></span><font color="#006699"><strong>definition</strong></font> getRUNProcs <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_sched_scheme &rArr; (PART_ID_TYPE &times; PROC_ID_TYPE) set&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 963 </font></span>  <font color="#ff00cc">&quot;getRUNProcs s = {proc_id. procSta (procs_' s) proc_id = Some RUNNING}&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 964 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 965 </font></span><font color="#006699"><strong>definition</strong></font> getReadyProcLAtPri <font color="#000000"><strong>::</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 966 </font></span>  <font color="#ff00cc">&quot;'a StaPart_Sched_scheme &rArr; PART_ID_TYPE &rArr; PRIORITY_TYPE &rArr; (PROC_ID_TYPE list) option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 967 </font></span>  <font color="#ff00cc">&quot;getReadyProcLAtPri  s part_id prio =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 968 </font></span><font color="#ff00cc">  (let ready_que =  readyQue(partitions_' s)part_id in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 969 </font></span><font color="#ff00cc">  case ready_que of None &rArr; None |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 970 </font></span><font color="#ff00cc">                Some pll &rArr; Some (pll!prio))&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 971 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 972 </font></span><font color="#006699"><strong>definition</strong></font> getFstReadyProcAtPri <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 973 </font></span>  <font color="#ff00cc">&quot;'a StaPart_Sched_scheme &rArr; PART_ID_TYPE &rArr; PRIORITY_TYPE &rArr; PROC_ID_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 974 </font></span>  <font color="#ff00cc">&quot;getFstReadyProcAtPri s part_id prio = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 975 </font></span><font color="#ff00cc">  (let ready_que =  readyQue(partitions_' s)part_id in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 976 </font></span><font color="#ff00cc">    case ready_que of None &rArr; None |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 977 </font></span><font color="#ff00cc">                  Some pll &rArr; (case pll!prio of [] &rArr; None | pl &rArr; Some (pl!0)))&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 978 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 979 </font></span><font color="#006699"><strong>definition</strong></font> procInReadyQ <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 980 </font></span>  <font color="#ff00cc">&quot;'a StaProc_sched_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; bool&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 981 </font></span>  <font color="#ff00cc">&quot;procInReadyQ s pp =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 982 </font></span><font color="#ff00cc">  (let proc_prio = getPriority s pp; part_id = fst pp; proc_id = snd pp;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 983 </font></span><font color="#ff00cc">    readyQAtPrio = getReadyProcLAtPri s part_id (the proc_prio) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 984 </font></span><font color="#ff00cc">  proc_prio &ne; None &and; readyQAtPrio &ne; None &and;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 985 </font></span><font color="#ff00cc">  (&exist;i&lt;length (the readyQAtPrio). (the readyQAtPrio)!i = proc_id))&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 986 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 987 </font></span><font color="#006699"><strong>definition</strong></font> getProcDDL <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; DDL_TIME_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 988 </font></span>  <font color="#ff00cc">&quot;getProcDDL s pp = deadline(procs_' s)pp&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 989 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 990 </font></span><font color="#006699"><strong>definition</strong></font> setProcDDL <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 991 </font></span>  <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; DDL_TIME_TYPE &rArr; 'a StaProc_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 992 </font></span>  <font color="#ff00cc">&quot;setProcDDL s pp ddl = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 993 </font></span><font color="#ff00cc">  s&#10631;procs_' := (procs_' s)&#10631;deadline := (deadline(procs_' s))(pp := Some ddl)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 994 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066"> 995 </font></span><font color="#006699"><strong>definition</strong></font> getRlsPoint <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 996 </font></span>  <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; RELEASE_POINT_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 997 </font></span>  <font color="#ff00cc">&quot;getRlsPoint s pp = rlsPoint(rscPendProcs_' s)pp&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 998 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000"> 999 </font></span><font color="#006699"><strong>definition</strong></font> setRlsPoint <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1000 </font></span>  <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; RELEASE_POINT_TYPE &rArr; 'a StaProc_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1001 </font></span>  <font color="#ff00cc">&quot;setRlsPoint s pp ddl = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1002 </font></span><font color="#ff00cc">  s&#10631;rscPendProcs_' := (rscPendProcs_' s)&#10631;rlsPoint := (rlsPoint(rscPendProcs_' s))(pp := Some ddl)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1003 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1004 </font></span><font color="#cc0000">(*OTHERS*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1005 </font></span><font color="#006699"><strong>definition</strong></font> get_rtn <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;Local list &rArr; V_CORE_ID_TYPE &rArr; RETURN_CODE_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1006 </font></span>  <font color="#ff00cc">&quot;get_rtn ls core_id = RETURN_CODE(ls!core_id)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1007 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1008 </font></span><font color="#006699"><strong>definition</strong></font> set_rtn' <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;Local list &rArr; V_CORE_ID_TYPE &rArr; RETURN_CODE_TYPE &rArr; Local list&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1009 </font></span>  <font color="#ff00cc">&quot;set_rtn' ls core_id rtn = ls[core_id := (ls!core_id)&#10631;RETURN_CODE := rtn&#10632;]&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1010 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1011 </font></span><font color="#006699"><strong>definition</strong></font> set_rtn <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a locals_scheme &rArr; V_CORE_ID_TYPE &rArr; RETURN_CODE_TYPE &rArr; 'a locals_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1012 </font></span>  <font color="#ff00cc">&quot;set_rtn s core_id rtn = s&#10631;locals_' := set_rtn' (locals_' s) core_id rtn&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1013 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1014 </font></span><font color="#006699"><strong>definition</strong></font> invalTout <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;TIMEOUT_TYPE &rArr; bool&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1015 </font></span>  <font color="#ff00cc">&quot;invalTout t &equiv; (Int.nat t &gt; INVALID_TIMEOUT_VALUE)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1016 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1017 </font></span><font color="#cc0000">(*HM*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1018 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1019 </font></span><font color="#006699"><strong>definition</strong></font> getErrorNum <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;DETECTED_ERROR_TYPE &rArr; nat&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1020 </font></span>  <font color="#ff00cc">&quot;getErrorNum error &equiv;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1021 </font></span><font color="#ff00cc">  THE n. DETECTED_ERROR_LIST!n = error&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1022 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1023 </font></span><font color="#006699"><strong>definition</strong></font> getError <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &rArr; REPORTED_ERROR_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1024 </font></span>  <font color="#ff00cc">&quot;getError s part_id &equiv; errorList (hm_' s) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1025 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1026 </font></span><font color="#006699"><strong>definition</strong></font> setError <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &rArr; REPORTED_ERROR_TYPE &rArr; 'a STATE_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1027 </font></span>  <font color="#ff00cc">&quot;setError s part_id error &equiv; s&#10631;hm_' := (hm_' s)&#10631;errorList := (errorList (hm_' s))(part_id := Some error)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1028 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1029 </font></span><font color="#006699"><strong>definition</strong></font> getHMCalled <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &rArr; bool option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1030 </font></span>  <font color="#ff00cc">&quot;getHMCalled s part_id = hmCalled (hm_' s) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1031 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1032 </font></span><font color="#006699"><strong>definition</strong></font> setHMCalled <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &rArr; 'a STATE_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1033 </font></span>  <font color="#ff00cc">&quot;setHMCalled s part_id = s&#10631;hm_' := (hm_' s)&#10631;hmCalled := (hmCalled (hm_' s))(part_id := Some True)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1034 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1035 </font></span><font color="#006699"><strong>definition</strong></font> rstHMCalled <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &rArr; 'a STATE_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1036 </font></span>  <font color="#ff00cc">&quot;rstHMCalled s part_id = s&#10631;hm_' := (hm_' s)&#10631;hmCalled := (hmCalled (hm_' s))(part_id := Some False)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1037 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1038 </font></span><font color="#006699"><strong>definition</strong></font> getHMStatusCalled <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &rArr; bool option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1039 </font></span>  <font color="#ff00cc">&quot;getHMStatusCalled s part_id = hmStatusCalled (hm_' s) part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1040 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1041 </font></span><font color="#006699"><strong>definition</strong></font> setHMStatuCalled <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &rArr; 'a STATE_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1042 </font></span>  <font color="#ff00cc">&quot;setHMStatuCalled s part_id = s&#10631;hm_' := (hm_' s)&#10631;hmStatusCalled := (hmStatusCalled (hm_' s))(part_id := Some True)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1043 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1044 </font></span><font color="#006699"><strong>definition</strong></font> rstHMStatuCalled <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &rArr; 'a STATE_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1045 </font></span>  <font color="#ff00cc">&quot;rstHMStatuCalled s part_id = s&#10631;hm_' := (hm_' s)&#10631;hmStatusCalled := (hmStatusCalled (hm_' s))(part_id := Some False)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1046 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1047 </font></span><font color="#cc0000">(*Get Resources of a Part*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1048 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1049 </font></span><font color="#006699"><strong>definition</strong></font> getProcsOfPart <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_sched_scheme &rArr; PART_ID_TYPE &rArr; PROC_ID_TYPE set&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1050 </font></span>  <font color="#ff00cc">&quot;getProcsOfPart s part_id = {proc_id. createdProcs(procs_' s)(part_id, proc_id) &ne; None}&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1051 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1052 </font></span><font color="#006699"><strong>definition</strong></font> getPortsOfPart <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &rArr; PORT_ID_TYPE set&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1053 </font></span>  <font color="#ff00cc">&quot;getPortsOfPart s part_id = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1054 </font></span><font color="#ff00cc">  {port_id. createdPorts (interCom_' s)(part_id, port_id) &ne; None}&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1055 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1056 </font></span><font color="#006699"><strong>definition</strong></font> getBuffsOfPart <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &rArr; BUFFER_ID_TYPE set&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1057 </font></span>  <font color="#ff00cc">&quot;getBuffsOfPart s part_id = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1058 </font></span><font color="#ff00cc">  {buff_id. createdBuf(buffer_' s)(part_id, buff_id) &ne; None}&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1059 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1060 </font></span><font color="#006699"><strong>definition</strong></font> getBbdsOfPart <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &rArr; BLACKBD_ID_TYPE set&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1061 </font></span>  <font color="#ff00cc">&quot;getBbdsOfPart s part_id = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1062 </font></span><font color="#ff00cc">  {bbd_id. createdBbd(blackBD_' s)(part_id, bbd_id) &ne; None}&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1063 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1064 </font></span><font color="#006699"><strong>definition</strong></font> getUserSemasOfPart <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &rArr; SEMA_ID_TYPE set&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1065 </font></span>  <font color="#ff00cc">&quot;getUserSemasOfPart s part_id = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1066 </font></span><font color="#ff00cc">  {sema_id. createdSema(sema_' s)(part_id, sema_id) &ne; None}&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1067 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1068 </font></span><font color="#006699"><strong>definition</strong></font> getEvntsOfPart <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &rArr; EVENT_ID_TYPE set&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1069 </font></span>  <font color="#ff00cc">&quot;getEvntsOfPart s part_id = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1070 </font></span><font color="#ff00cc">  {event_id. createdEvent(event_' s)(part_id, event_id) &ne; None}&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1071 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1072 </font></span><font color="#006699"><strong>definition</strong></font> getUserPLMtxsOfPart <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &rArr; USER_PL_MUTEX_ID_TYPE set&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1073 </font></span>  <font color="#ff00cc">&quot;getUserPLMtxsOfPart s part_id = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1074 </font></span><font color="#ff00cc">  {userMtx_id. createdMtx(user_pl_Mtx_' s)(part_id, userMtx_id) &ne; None}&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1075 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1076 </font></span><font color="#cc0000">(*User Mtx*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1077 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1078 </font></span><font color="#006699"><strong>definition</strong></font> getUserPLMtxOwner <font color="#000000"><strong>::</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1079 </font></span>  <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; USER_PL_MUTEX_ID_TYPE &rArr; PROC_ID_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1080 </font></span>  <font color="#ff00cc">&quot;getUserPLMtxOwner s pu = mtxOwner(user_pl_Mtx_' s)pu&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1081 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1082 </font></span><font color="#006699"><strong>definition</strong></font> getProcUserPLMtx <font color="#000000"><strong>::</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1083 </font></span>  <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; USER_PL_MUTEX_ID_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1084 </font></span>  <font color="#ff00cc">&quot;getProcUserPLMtx s pp = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1085 </font></span><font color="#ff00cc">   (case &exist;umtx_id. getUserPLMtxOwner s (fst pp, umtx_id) = Some (snd pp) of</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1086 </font></span><font color="#ff00cc">          False &rArr; None |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1087 </font></span><font color="#ff00cc">          True &rArr; Some (THE umtx_id. getUserPLMtxOwner s (fst pp, umtx_id) = Some (snd pp)))&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1088 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1089 </font></span><font color="#006699"><strong>definition</strong></font> setUserPLMtxOWNED <font color="#000000"><strong>::</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1090 </font></span>  <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; USER_PL_MUTEX_ID_TYPE &rArr; 'a STATE_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1091 </font></span>  <font color="#ff00cc">&quot;setUserPLMtxOWNED s pu = s&#10631;user_pl_Mtx_' := (user_pl_Mtx_' s)&#10631;mtxSta := (mtxSta(user_pl_Mtx_' s))(pu := Some OWNED)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1092 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1093 </font></span><font color="#006699"><strong>definition</strong></font> setUserPLMtxAVAILABLE <font color="#000000"><strong>::</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1094 </font></span>  <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; USER_PL_MUTEX_ID_TYPE &rArr; 'a STATE_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1095 </font></span>  <font color="#ff00cc">&quot;setUserPLMtxAVAILABLE s pu = s&#10631;user_pl_Mtx_' := (user_pl_Mtx_' s)&#10631;mtxSta := (mtxSta(user_pl_Mtx_' s))(pu := Some AVAILABLE)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1096 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1097 </font></span><font color="#006699"><strong>definition</strong></font> setUserPLMtxOwner <font color="#000000"><strong>::</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1098 </font></span>  <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; USER_PL_MUTEX_ID_TYPE &rArr; PROC_ID_TYPE &rArr; 'a STATE_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1099 </font></span>  <font color="#ff00cc">&quot;setUserPLMtxOwner s pu pp = s&#10631;user_pl_Mtx_' := (user_pl_Mtx_' s)&#10631;mtxOwner := (mtxOwner(user_pl_Mtx_' s))(pu := Some pp)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1100 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1101 </font></span><font color="#006699"><strong>definition</strong></font> releaseUserPLMtxOwner <font color="#000000"><strong>::</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1102 </font></span>  <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; USER_PL_MUTEX_ID_TYPE &rArr; 'a STATE_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1103 </font></span>  <font color="#ff00cc">&quot;releaseUserPLMtxOwner s pu = s&#10631;user_pl_Mtx_' := (user_pl_Mtx_' s)&#10631;mtxOwner := (mtxOwner(user_pl_Mtx_' s))(pu := None)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1104 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1105 </font></span><font color="#006699"><strong>definition</strong></font> getUserPLMtxLckCount <font color="#000000"><strong>::</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1106 </font></span>  <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; USER_PL_MUTEX_ID_TYPE &rArr; LOCK_COUNT_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1107 </font></span>  <font color="#ff00cc">&quot;getUserPLMtxLckCount s pu = mtxLkCt(user_pl_Mtx_' s)pu&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1108 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1109 </font></span><font color="#006699"><strong>definition</strong></font> incrementUserPLMtxLck <font color="#000000"><strong>::</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1110 </font></span>  <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; USER_PL_MUTEX_ID_TYPE &rArr; 'a STATE_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1111 </font></span>  <font color="#ff00cc">&quot;incrementUserPLMtxLck s pu  = s&#10631;user_pl_Mtx_' := (user_pl_Mtx_' s)&#10631;mtxLkCt := (mtxLkCt(user_pl_Mtx_' s))</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1112 </font></span><font color="#ff00cc">                                                                        (pu := Some (the(getUserPLMtxLckCount s pu)+1))&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1113 </font></span><font color="#006699"><strong>definition</strong></font> decrementUserPLMtxLck <font color="#000000"><strong>::</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1114 </font></span>  <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; USER_PL_MUTEX_ID_TYPE &rArr; 'a STATE_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1115 </font></span>  <font color="#ff00cc">&quot;decrementUserPLMtxLck s pu  = s&#10631;user_pl_Mtx_' := (user_pl_Mtx_' s)&#10631;mtxLkCt := (mtxLkCt(user_pl_Mtx_' s))</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1116 </font></span><font color="#ff00cc">                                                                        (pu := Some (the(getUserPLMtxLckCount s pu)-1))&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1117 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1118 </font></span><font color="#006699"><strong>definition</strong></font> resetUserPLMtxLck <font color="#000000"><strong>::</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1119 </font></span>  <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; USER_PL_MUTEX_ID_TYPE &rArr; 'a STATE_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1120 </font></span>  <font color="#ff00cc">&quot;resetUserPLMtxLck s pu  = s&#10631;user_pl_Mtx_' := (user_pl_Mtx_' s)&#10631;mtxLkCt := (mtxLkCt(user_pl_Mtx_' s))</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1121 </font></span><font color="#ff00cc">                                                                        (pu := Some 0)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1122 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1123 </font></span><font color="#006699"><strong>definition</strong></font> retainCurPrioUserPLMtx <font color="#000000"><strong>::</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1124 </font></span>  <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; USER_PL_MUTEX_ID_TYPE &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; 'a STATE_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1125 </font></span>  <font color="#ff00cc">&quot;retainCurPrioUserPLMtx s pu pp  = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1126 </font></span><font color="#ff00cc">    s&#10631;user_pl_Mtx_' := (user_pl_Mtx_' s)&#10631;mtxRtnPrio := </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1127 </font></span><font color="#ff00cc">                                    (mtxRtnPrio(user_pl_Mtx_' s))</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1128 </font></span><font color="#ff00cc">                                              (pu := getPriority s pp)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1129 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1130 </font></span><font color="#006699"><strong>definition</strong></font> restoreCurPrioUPLMtx <font color="#000000"><strong>::</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1131 </font></span>  <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; USER_PL_MUTEX_ID_TYPE &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; 'a STATE_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1132 </font></span>  <font color="#ff00cc">&quot;restoreCurPrioUPLMtx s pu pp  = setPriority s pp (the(mtxRtnPrio(user_pl_Mtx_' s)pu))&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1133 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1134 </font></span><font color="#006699"><strong>definition</strong></font> getUserPLMtxSta <font color="#000000"><strong>::</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1135 </font></span>  <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; USER_PL_MUTEX_ID_TYPE &rArr; MUTEX_STATE_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1136 </font></span>  <font color="#ff00cc">&quot;getUserPLMtxSta s pu = mtxSta(user_pl_Mtx_' s)pu&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1137 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1138 </font></span><font color="#cc0000">(*wait and susp diff*)</font>   
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1139 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1140 </font></span><font color="#006699"><strong>definition</strong></font> getWaitDiff <font color="#000000"><strong>::</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1141 </font></span>  <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; TIMEOUT_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1142 </font></span>  <font color="#ff00cc">&quot;getWaitDiff s pp = waitDiff(rscPendProcs_' s) pp&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1143 </font></span>     
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1144 </font></span><font color="#006699"><strong>definition</strong></font> setWaitDiff <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1145 </font></span>  <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; TIMEOUT_TYPE &rArr; 'a StaProc_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1146 </font></span>  <font color="#ff00cc">&quot;setWaitDiff s pp tout = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1147 </font></span><font color="#ff00cc">  (s&#10631;rscPendProcs_' := (rscPendProcs_' s)&#10631;waitDiff := (waitDiff(rscPendProcs_' s))(pp := Some tout)&#10632;&#10632;)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1148 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1149 </font></span><font color="#006699"><strong>definition</strong></font> rstWaitDiff <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1150 </font></span>  <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE  &rArr; 'a StaProc_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1151 </font></span>  <font color="#ff00cc">&quot;rstWaitDiff s pp  = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1152 </font></span><font color="#ff00cc">  (s&#10631;rscPendProcs_' := (rscPendProcs_' s)&#10631;waitDiff := (waitDiff(rscPendProcs_' s))(pp := None)&#10632;&#10632;)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1153 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1154 </font></span><font color="#006699"><strong>definition</strong></font> getSuspDiff <font color="#000000"><strong>::</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1155 </font></span>  <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; TIMEOUT_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1156 </font></span>  <font color="#ff00cc">&quot;getSuspDiff s pp = suspDiff(rscPendProcs_' s) pp&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1157 </font></span>     
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1158 </font></span><font color="#006699"><strong>definition</strong></font> setSuspDiff <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1159 </font></span>  <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; TIMEOUT_TYPE &rArr; 'a StaProc_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1160 </font></span>  <font color="#ff00cc">&quot;setSuspDiff s pp tout = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1161 </font></span><font color="#ff00cc">  (s&#10631;rscPendProcs_' := (rscPendProcs_' s)&#10631;suspDiff := (suspDiff(rscPendProcs_' s))(pp := Some tout)&#10632;&#10632;)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1162 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1163 </font></span><font color="#006699"><strong>definition</strong></font> getDelayT <font color="#000000"><strong>::</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1164 </font></span>  <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; DELAY_TIME_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1165 </font></span>  <font color="#ff00cc">&quot;getDelayT s pp = delayedT(rscPendProcs_' s) pp&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1166 </font></span>     
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1167 </font></span><font color="#006699"><strong>definition</strong></font> setDelayT <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1168 </font></span>  <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; DELAY_TIME_TYPE &rArr; 'a StaProc_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1169 </font></span>  <font color="#ff00cc">&quot;setDelayT s pp delay = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1170 </font></span><font color="#ff00cc">  (s&#10631;rscPendProcs_' := (rscPendProcs_' s)&#10631;delayedT := (delayedT(rscPendProcs_' s))(pp := Some delay)&#10632;&#10632;)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1171 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1172 </font></span><font color="#006699"><strong>subsection</strong></font> <font color="#6600cc">{*Configuration Definitions*}</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1173 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1174 </font></span><font color="#006699"><strong>definition</strong></font> wit_conf <font color="#000000"><strong>::</strong></font> SysConfig <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1175 </font></span>  <font color="#ff00cc">&quot;wit_conf = &#10631; partConf = {},</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1176 </font></span><font color="#ff00cc">                channleConf = {}, </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1177 </font></span><font color="#ff00cc">                numCores = 1,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1178 </font></span><font color="#ff00cc">                numUserProc = Map.empty,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1179 </font></span><font color="#ff00cc">                partsSched = &lambda;core_id. Some [(1,1,2)],</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1180 </font></span><font color="#ff00cc">                HM_Conf = []&#10632;&quot;</font>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1181 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1182 </font></span><font color="#006699"><strong>consts</strong></font> conf <font color="#000000"><strong>::</strong></font> SysConfig
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1183 </font></span><font color="#006699"><strong>specification</strong></font> <font color="#000000"><strong>(</strong></font>conf<font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1184 </font></span>  num_cores<font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;numCores conf &gt; 0&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1185 </font></span>  sp2<font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;&forall;pc1&isin;partConf conf. &forall;pc2&isin;partConf conf. pc1 &ne; pc2 &#10230; partID pc1 &ne; partID pc2 &and;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1186 </font></span><font color="#ff00cc">                                                               partName pc1 &ne; partName pc2&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1187 </font></span>  sp3<font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;&forall;part&isin;partConf conf. &forall;port1&isin;partPorts part.  &forall;port2&isin;partPorts part. </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1188 </font></span><font color="#ff00cc">          port1 &ne; port2 &#10230; portName port1 &ne; portName port2&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1189 </font></span>  sp4<font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;&forall;part&isin;partConf conf. &forall;port&isin;partPorts part. isQuePort port &#10230; portQueLen port &gt;0&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1190 </font></span>  sp4_1<font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;partConf conf &ne; {} &#10230; (&exist;part&isin;partConf conf. partType part = SYS_PART)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1191 </font></span>  sp5<font color="#000000"><strong>:</strong></font> <font color="#ff00cc">&quot;&forall;core_id&lt;numCores conf. &exist;pppl&ne;[]. partsSched conf core_id = Some pppl&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1192 </font></span> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1193 </font></span>  <font color="#006699"><strong>apply</strong></font> <font color="#000000"><strong>(</strong></font>rule exI<font color="#000000"><strong>[</strong></font>of _ wit_conf<font color="#000000"><strong>]</strong></font><font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1194 </font></span>  <font color="#006699"><strong>by</strong></font> <font color="#000000"><strong>(</strong></font>simp add<font color="#000000"><strong>:</strong></font> wit_conf_def<font color="#000000"><strong>)</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1195 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1196 </font></span><font color="#006699"><strong>subsection</strong></font> <font color="#6600cc">{*Basic Functions After Configuration Definitions*}</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1197 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1198 </font></span><font color="#006699"><strong>definition</strong></font> partID_EX <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &rArr; bool&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1199 </font></span>  <font color="#ff00cc">&quot;partID_EX pid = partID_EX_conf conf pid&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1200 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1201 </font></span><font color="#006699"><strong>definition</strong></font> portNameInPart<font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &rArr; PORT_NAME_TYPE  &rArr; bool&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1202 </font></span>  <font color="#ff00cc">&quot;portNameInPart part_id port_name &equiv;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1203 </font></span><font color="#ff00cc">  let part_conf = the(getPartByID_conf conf part_id) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1204 </font></span><font color="#ff00cc">    (&exist;port&isin;partPorts part_conf. port_name = portName port)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1205 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1206 </font></span><font color="#006699"><strong>definition</strong></font> getPartByID <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &rArr; PART_CFG_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1207 </font></span>  <font color="#ff00cc">&quot;getPartByID pid = getPartByID_conf conf pid&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1208 </font></span> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1209 </font></span><font color="#006699"><strong>definition</strong></font> getPortAttrByName <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &rArr; PORT_NAME_TYPE &rArr; INTER_PORT_ATTR_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1210 </font></span>  <font color="#ff00cc">&quot;getPortAttrByName pid port_name = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1211 </font></span><font color="#ff00cc">  (case getPartByID pid of</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1212 </font></span><font color="#ff00cc">    Some part &rArr;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1213 </font></span><font color="#ff00cc">      if &exist;port. port &isin; partPorts part &and; portName port = port_name then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1214 </font></span><font color="#ff00cc">         Some (THE port. port &isin; partPorts part &and; portName port = port_name)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1215 </font></span><font color="#ff00cc">    else None)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1216 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1217 </font></span><font color="#006699"><strong>definition</strong></font> getPortIDByName <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &rArr; PORT_NAME_TYPE &rArr; PORT_ID_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1218 </font></span>  <font color="#ff00cc">&quot;getPortIDByName s part_id port_name &equiv;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1219 </font></span><font color="#ff00cc">  if &exist;port_id. let part_portAttr_op = createdPorts (interCom_' s) (part_id, port_id) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1220 </font></span><font color="#ff00cc">      part_portAttr_op &ne; None &and; portName (the part_portAttr_op) = port_name then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1221 </font></span><font color="#ff00cc">    Some (THE port_id. let part_portAttr_op = createdPorts (interCom_' s) (part_id, port_id) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1222 </font></span><font color="#ff00cc">      part_portAttr_op &ne; None &and; portName (the part_portAttr_op) = port_name)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1223 </font></span><font color="#ff00cc">  else None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1224 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1225 </font></span><font color="#006699"><strong>definition</strong></font> portNameInCfg <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;(PART_ID_TYPE &times; PORT_NAME_TYPE) &rArr; bool&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1226 </font></span>  <font color="#ff00cc">&quot;portNameInCfg pp =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1227 </font></span><font color="#ff00cc">  (let part_id = fst pp; port_name = snd pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1228 </font></span><font color="#ff00cc">  case getPartByID part_id of </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1229 </font></span><font color="#ff00cc">    None &rArr; False |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1230 </font></span><font color="#ff00cc">    Some part_cfg &rArr; (&exist;port_attr. port_attr &isin; partPorts part_cfg &and; portName port_attr = port_name))&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1231 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1232 </font></span><font color="#006699"><strong>function</strong></font> portsAmount_Ps <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_CFG_TYPE set &rArr; nat&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1233 </font></span>  <font color="#ff00cc">&quot;portsAmount_Ps pcs =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1234 </font></span><font color="#ff00cc">  (if pcs = {} then 0</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1235 </font></span><font color="#ff00cc">  else </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1236 </font></span><font color="#ff00cc">    let pc = SOME pc. pc &isin; pcs in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1237 </font></span><font color="#ff00cc">    size_set (partPorts pc) + portsAmount_Ps (pcs - {pc}))&quot;</font>  <font color="#006699"><strong>by</strong></font> auto
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1238 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1239 </font></span><font color="#006699"><strong>definition</strong></font> portsAmount <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;nat&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1240 </font></span>  <font color="#ff00cc">&quot;portsAmount &equiv; portsAmount_Ps (partConf conf)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1241 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1242 </font></span><font color="#006699"><strong>definition</strong></font> portsCreated <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; nat&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1243 </font></span>  <font color="#ff00cc">&quot;portsCreated s==</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1244 </font></span><font color="#ff00cc">  let ports_created_set = dom (createdPorts(interCom_' s)) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1245 </font></span><font color="#ff00cc">  size_set ports_created_set&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1246 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1247 </font></span><font color="#cc0000">(************)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1248 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1249 </font></span><font color="#006699"><strong>definition</strong></font> portIDUnique <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;INTER_COM_TYPE  &rArr; bool&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1250 </font></span>  <font color="#ff00cc">&quot;portIDUnique ic  = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1251 </font></span><font color="#ff00cc">    (&forall;port_id1. &forall;port_id2. </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1252 </font></span><font color="#ff00cc">      (createdPorts ic)port_id1 = (createdPorts ic)port_id2 &#10230; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1253 </font></span><font color="#ff00cc">      port_id1 = port_id2)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1254 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1255 </font></span><font color="#006699"><strong>definition</strong></font> getSamStatus<font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times;  PORT_ID_TYPE &rArr; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1256 </font></span><font color="#ff00cc">                              SYSTEM_TIME_TYPE &rArr; SAMP_PORT_STATUS_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1257 </font></span>  <font color="#ff00cc">&quot;getSamStatus s port_id systime =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1258 </font></span><font color="#ff00cc">    (let port = the(getPortAttrByID s port_id) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1259 </font></span><font color="#ff00cc">    &#10631;REFRESH_PERIOD = portSamRefr port,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1260 </font></span><font color="#ff00cc">    MAX_MSG_SZ = portMsgSz port,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1261 </font></span><font color="#ff00cc">    PORT_DIRECTION = portDirect port,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1262 </font></span><font color="#ff00cc">    LAST_MSG_VALIDITY = (case sampMsgValid s systime port_id of </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1263 </font></span><font color="#ff00cc">                              True  &rArr; VALID |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1264 </font></span><font color="#ff00cc">                              False &rArr; INVALID)&#10632;)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1265 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1266 </font></span><font color="#006699"><strong>definition</strong></font> getQueStatus<font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &times; PORT_ID_TYPE &rArr; QUE_PORT_STATUS_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1267 </font></span>  <font color="#ff00cc">&quot;getQueStatus ic port_id =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1268 </font></span><font color="#ff00cc">    (let port = the(getPortAttrByID ic port_id) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1269 </font></span><font color="#ff00cc">    &#10631;NUM_MSG = length(the(getQueMsgL ic port_id)),</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1270 </font></span><font color="#ff00cc">    MAX_NUM_MSG = portMsgSz port,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1271 </font></span><font color="#ff00cc">    MAX_MSG_SZ = portQueLen port,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1272 </font></span><font color="#ff00cc">    PORT_DIRECTION = portDirect port,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1273 </font></span><font color="#ff00cc">    WAITING_PROCESSES = 0&#10632;)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1274 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1275 </font></span><font color="#006699"><strong>definition</strong></font> getPartStatus <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &rArr; PART_STATUS_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1276 </font></span>  <font color="#ff00cc">&quot;getPartStatus s part_id =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1277 </font></span><font color="#ff00cc">  &#10631; PART_STATUS_TYPE.PERIOD = case getPartByID part_id of None &rArr; None | part_cfg &rArr; Some (partPeriod (the part_cfg)),</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1278 </font></span><font color="#ff00cc">    DURATION = case getPartByID part_id of None &rArr; None | part_cfg &rArr; Some (partDurat (the part_cfg)),</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1279 </font></span><font color="#ff00cc">    lockLvl = getPartLock s part_id,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1280 </font></span><font color="#ff00cc">    curMode = getPartMode s part_id,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1281 </font></span><font color="#ff00cc">    curStartCond = getPartStartCond s part_id,</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1282 </font></span><font color="#ff00cc">    NUM_ASSIGNED_CORES = case getPartByID part_id of None &rArr; None | part_cfg &rArr; Some 1&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1283 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1284 </font></span><font color="#cc0000">(*para: current system time*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1285 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1286 </font></span><font color="#006699"><strong>definition</strong></font> MAJOR_TIME_FRAME <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;V_CORE_ID_TYPE &rArr; SYSTEM_TIME_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1287 </font></span>  <font color="#ff00cc">&quot;MAJOR_TIME_FRAME core_id = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1288 </font></span><font color="#ff00cc">  (let lastSch = (the(partsSched conf core_id))!(length (the(partsSched conf core_id)) -1) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1289 </font></span><font color="#ff00cc">  fst lastSch + snd(snd lastSch))&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1290 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1291 </font></span><font color="#006699"><strong>definition</strong></font> schedPart <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;V_CORE_ID_TYPE &rArr; SYSTEM_TIME_TYPE &rArr; PART_ID_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1292 </font></span>  <font color="#ff00cc">&quot;schedPart core_id t = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1293 </font></span><font color="#ff00cc">  (let major_time_fram = MAJOR_TIME_FRAME core_id;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1294 </font></span><font color="#ff00cc">      parts_list = the(partsSched conf core_id) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1295 </font></span><font color="#ff00cc">  THE i. (i&lt;length parts_list &and; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1296 </font></span><font color="#ff00cc">                      t mod major_time_fram &ge; fst(parts_list!i) &and;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1297 </font></span><font color="#ff00cc">                      t mod major_time_fram &lt; fst(parts_list!i)+ snd(snd(parts_list!i))))&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1298 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1299 </font></span><font color="#006699"><strong>definition</strong></font> nextPart <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;V_CORE_ID_TYPE &rArr; SYSTEM_TIME_TYPE &rArr; PART_ID_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1300 </font></span>  <font color="#ff00cc">&quot;nextPart core_id t = (schedPart core_id t + 1) mod (length(the(partsSched conf core_id)))&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1301 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1302 </font></span><font color="#006699"><strong>definition</strong></font> setSchedSig <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1303 </font></span>  <font color="#ff00cc">&quot;'a StaProc_sched_scheme &rArr; V_CORE_ID_TYPE &rArr; 'a StaProc_sched_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1304 </font></span>  <font color="#ff00cc">&quot;setSchedSig s core_id = s&#10631;partitions_' := (partitions_' s)&#10631;schedSignal := (schedSignal(partitions_' s))[core_id := True]&#10632;&#10632;&quot;</font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1305 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1306 </font></span><font color="#006699"><strong>definition</strong></font> resetSchedSig <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1307 </font></span>  <font color="#ff00cc">&quot;'a StaProc_sched_scheme &rArr; V_CORE_ID_TYPE &rArr; 'a StaProc_sched_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1308 </font></span>  <font color="#ff00cc">&quot;resetSchedSig s core_id = s&#10631;partitions_' := (partitions_' s)&#10631;schedSignal := (schedSignal(partitions_' s))[core_id := False]&#10632;&#10632;&quot;</font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1309 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1310 </font></span><font color="#006699"><strong>definition</strong></font> setAllSchedSig_bl <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;bool list &rArr; bool list&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1311 </font></span>  <font color="#ff00cc">&quot;setAllSchedSig_bl bl = (THE newbl. length newbl = length bl &and; (&forall;core_id&lt;length bl. newbl!core_id = True))&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1312 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1313 </font></span><font color="#006699"><strong>definition</strong></font> setAllSchedSig <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_sched_scheme &rArr; 'a StaProc_sched_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1314 </font></span>  <font color="#ff00cc">&quot;setAllSchedSig s = s&#10631;partitions_' := (partitions_' s)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1315 </font></span><font color="#ff00cc">                                  &#10631;schedSignal := setAllSchedSig_bl (schedSignal(partitions_' s))&#10632;&#10632;&quot;</font>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1316 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1317 </font></span><font color="#006699"><strong>definition</strong></font> partBlngCore <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &rArr; V_CORE_ID_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1318 </font></span>  <font color="#ff00cc">&quot;partBlngCore part_id = partBlngCore_conf conf part_id&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1319 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1320 </font></span><font color="#006699"><strong>definition</strong></font> procBlngCore <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &times; PROC_ID_TYPE &rArr; V_CORE_ID_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1321 </font></span>  <font color="#ff00cc">&quot;procBlngCore  pp = procBlngCore_conf conf pp&quot;</font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1322 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1323 </font></span><font color="#006699"><strong>primrec</strong></font> num_used_procid <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;PART_ID_TYPE &rArr; nat&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1324 </font></span>  <font color="#ff00cc">&quot;num_used_procid 0 = the (numUserProc conf 0)&quot;</font> <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1325 </font></span>  <font color="#ff00cc">&quot;num_used_procid (Suc n) = the (numUserProc conf (Suc n)) + num_used_procid n&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1326 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1327 </font></span><font color="#006699"><strong>definition</strong></font> newUserProcID <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_sched_scheme &rArr; PART_ID_TYPE &rArr; PROC_ID_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1328 </font></span>  <font color="#ff00cc">&quot;newUserProcID s part_id =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1329 </font></span><font color="#ff00cc">  (let f_createdProcss = createdProcs (procs_' s); num_userProcs = the(numUserProc conf part_id) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1330 </font></span><font color="#ff00cc">  (THE proc_id. f_createdProcss (part_id, proc_id) = None &and; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1331 </font></span><font color="#ff00cc">                4 &le; proc_id &and; proc_id &le; MAX_NUM_OF_PROCESSES))&quot;</font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1332 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1333 </font></span><font color="#cc0000">(*create unique port_id in all partitions*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1334 </font></span><font color="#006699"><strong>definition</strong></font> newPortID <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a STATE_scheme &rArr; PART_ID_TYPE &rArr;  PORT_ID_TYPE&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1335 </font></span>  <font color="#ff00cc">&quot;newPortID s part_id &equiv;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1336 </font></span><font color="#ff00cc">  let f_createdPort = createdPorts (interCom_' s) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1337 </font></span><font color="#ff00cc">  THE port_id. f_createdPort (part_id, port_id) = None &and; port_id &le; MAX_NUM_OF_PORTS&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1338 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1339 </font></span><font color="#cc0000">(*abstract list operations*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1340 </font></span><font color="#006699"><strong>definition</strong></font> isInList <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a list &rArr; 'a &rArr; bool&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1341 </font></span>  <font color="#ff00cc">&quot;isInList l a &equiv; &exist;i&le;length l. l!i = a&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1342 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1343 </font></span><font color="#006699"><strong>primrec</strong></font> listDel <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a list &rArr; 'a &rArr; 'a list&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1344 </font></span>  <font color="#ff00cc">&quot;listDel [] _ = []&quot;</font> <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1345 </font></span>  <font color="#ff00cc">&quot;listDel (l#ls) a = (if l=a then ls else l# listDel ls a)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1346 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1347 </font></span><font color="#cc0000">(*concrete list operations*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1348 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1349 </font></span><font color="#006699"><strong>definition</strong></font> getRscProcQue <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; RESRC_ID_TYPE &rArr; (PART_ID_TYPE &times; PROC_ID_TYPE) list&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1350 </font></span>  <font color="#ff00cc">&quot;getRscProcQue s rsc_id &equiv;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1351 </font></span><font color="#ff00cc">  case rscQue(rscPendProcs_' s)rsc_id of</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1352 </font></span><font color="#ff00cc">    None &rArr; [] |</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1353 </font></span><font color="#ff00cc">  Some l &rArr; l&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1354 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1355 </font></span><font color="#006699"><strong>definition</strong></font> isInSuspQ <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; bool&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1356 </font></span>  <font color="#ff00cc">&quot;isInSuspQ s pp =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1357 </font></span><font color="#ff00cc">  (let core_id = the (procBlngCore  pp);</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1358 </font></span><font color="#ff00cc">      suspdL_op = suspdQue (cores_' s)core_id in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1359 </font></span><font color="#ff00cc">  suspdL_op &ne; None &and; suspdL_op &ne; Some [] &and; isInList (the suspdL_op) pp)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1360 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1361 </font></span><font color="#006699"><strong>definition</strong></font> procInRscQ <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; bool&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1362 </font></span>  <font color="#ff00cc">&quot;procInRscQ s pp =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1363 </font></span><font color="#ff00cc">  (&exist;rsc_id. let rscq = rscQue(rscPendProcs_' s)rsc_id in  </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1364 </font></span><font color="#ff00cc">  rscq &ne; None &and; rscq &ne; Some [] &and; isInList (the rscq) pp)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1365 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1366 </font></span><font color="#006699"><strong>definition</strong></font> isInWaitQ <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; bool&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1367 </font></span>  <font color="#ff00cc">&quot;isInWaitQ s pp =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1368 </font></span><font color="#ff00cc">  (let core_id = the (procBlngCore pp); waitq = waitQue (cores_' s)core_id in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1369 </font></span><font color="#ff00cc">  waitq &ne; None &and; waitq &ne; Some [] &and; isInList (the waitq) pp)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1370 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1371 </font></span><font color="#006699"><strong>definition</strong></font> isWaitTimeOrRsc <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; bool&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1372 </font></span>  <font color="#ff00cc">&quot;isWaitTimeOrRsc s pp &equiv; procInRscQ s pp &or; isInWaitQ s pp&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1373 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1374 </font></span><font color="#cc0000">(*For susp*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1375 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1376 </font></span><font color="#006699"><strong>definition</strong></font> suspProc <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; 'a StaProc_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1377 </font></span>  <font color="#ff00cc">&quot;suspProc s pp = s&#10631;rscPendProcs_' := (rscPendProcs_' s)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1378 </font></span><font color="#ff00cc">                            &#10631;suspended := (suspended (rscPendProcs_' s))(pp := Some True)&#10632;&#10632;&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1379 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1380 </font></span><font color="#006699"><strong>definition</strong></font> rstsuspProc <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; 'a StaProc_scheme&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1381 </font></span>  <font color="#ff00cc">&quot;rstsuspProc s pp = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1382 </font></span><font color="#ff00cc">  (let getSuspDiff = suspDiff(rscPendProcs_' s)pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1383 </font></span><font color="#ff00cc">   if (the getSuspDiff) = -1 then </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1384 </font></span><font color="#ff00cc">      s&#10631;rscPendProcs_' := (rscPendProcs_' s)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1385 </font></span><font color="#ff00cc">                            &#10631;suspended := (suspended (rscPendProcs_' s))(pp := None),</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1386 </font></span><font color="#ff00cc">                            suspDiff := (suspDiff (rscPendProcs_' s))(pp := None)&#10632;&#10632;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1387 </font></span><font color="#ff00cc">   else </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1388 </font></span><font color="#ff00cc">       s&#10631;rscPendProcs_' := (rscPendProcs_' s)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1389 </font></span><font color="#ff00cc">                            &#10631;suspended := (suspended (rscPendProcs_' s))(pp := None)&#10632;&#10632;)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1390 </font></span>                          
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1391 </font></span><font color="#006699"><strong>definition</strong></font> isSuspended <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;'a StaProc_scheme &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; bool&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1392 </font></span>  <font color="#ff00cc">&quot;isSuspended s pp &equiv;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1393 </font></span><font color="#ff00cc">  (let susp_proc_id = suspended (rscPendProcs_' s) pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1394 </font></span><font color="#ff00cc">  (susp_proc_id &ne; None &and; the susp_proc_id = True) &or;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1395 </font></span><font color="#ff00cc">  suspDiff (rscPendProcs_' s) pp = Some (-1) &or;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1396 </font></span><font color="#ff00cc">  isInSuspQ s pp)&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1397 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1398 </font></span><font color="#cc0000">(*waitQue and suspQue*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1399 </font></span><font color="#006699"><strong>primrec</strong></font> timedLDel <font color="#000000"><strong>::</strong></font>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1400 </font></span>  <font color="#ff00cc">&quot;(PART_ID_TYPE &times; PROC_ID_TYPE) list &rArr; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1401 </font></span><font color="#ff00cc">  (PART_ID_TYPE &times; PROC_ID_TYPE &#8640; TIMEOUT_TYPE) &rArr; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1402 </font></span><font color="#ff00cc">    PART_ID_TYPE &times; PROC_ID_TYPE &rArr; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1403 </font></span><font color="#ff00cc">   ((PART_ID_TYPE &times; PROC_ID_TYPE) list) &times; (PART_ID_TYPE &times; PROC_ID_TYPE &#8640; TIMEOUT_TYPE)&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1404 </font></span>  <font color="#ff00cc">&quot;timedLDel [] pd pp = ([], pd(pp:=None))&quot;</font> <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1405 </font></span>  <font color="#ff00cc">&quot;timedLDel (p#pl) pd pp = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1406 </font></span><font color="#ff00cc">  (let new_pl_pd = timedLDel pl pd pp in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1407 </font></span><font color="#ff00cc">  if p = pp then </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1408 </font></span><font color="#ff00cc">      let delProc_Wd = pd pp; pd_del = pd(pp := None) in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1409 </font></span><font color="#ff00cc">       if pl=[] then([],pd_del)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1410 </font></span><font color="#ff00cc">       else (pl, (pd_del((pl!0) := Some (the delProc_Wd + the (pd (pl!0)))))(pp := None)  ) </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1411 </font></span><font color="#ff00cc">  else (p#(fst new_pl_pd), snd new_pl_pd))&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1412 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1413 </font></span><font color="#006699"><strong>definition</strong></font> waitQ_SuspQDel <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1414 </font></span>  <font color="#ff00cc">&quot;(V_CORE_ID_TYPE &#8640; ((PART_ID_TYPE &times; PROC_ID_TYPE) list)) &rArr; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1415 </font></span><font color="#ff00cc">    (PART_ID_TYPE &times; PROC_ID_TYPE &#8640; TIMEOUT_TYPE) &rArr;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1416 </font></span><font color="#ff00cc">    V_CORE_ID_TYPE &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1417 </font></span><font color="#ff00cc">  (V_CORE_ID_TYPE &#8640; ((PART_ID_TYPE &times; PROC_ID_TYPE) list)) &times; (PART_ID_TYPE &times; PROC_ID_TYPE &#8640; TIMEOUT_TYPE)&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1418 </font></span>  <font color="#ff00cc">&quot;waitQ_SuspQDel tq pd cid proc_id =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1419 </font></span><font color="#ff00cc">  (let new_tq_pd = timedLDel (the(tq cid)) pd proc_id in</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1420 </font></span><font color="#ff00cc">  (tq(cid := Some (fst new_tq_pd)), snd new_tq_pd))&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1421 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1422 </font></span><font color="#006699"><strong>primrec</strong></font> timedLAdd<font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1423 </font></span>  <font color="#ff00cc">&quot;(PART_ID_TYPE &times; PROC_ID_TYPE) list &rArr; (PART_ID_TYPE &times; PROC_ID_TYPE &#8640; TIMEOUT_TYPE) &rArr; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1424 </font></span><font color="#ff00cc">    PART_ID_TYPE &times; PROC_ID_TYPE &rArr;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1425 </font></span><font color="#ff00cc">   ((PART_ID_TYPE &times; PROC_ID_TYPE) list) &times; (PART_ID_TYPE &times; PROC_ID_TYPE &#8640; TIMEOUT_TYPE)&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1426 </font></span>  <font color="#ff00cc">&quot;timedLAdd [] ppt pp'  = ([pp'], ppt)&quot;</font> <font color="#000000"><strong>|</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1427 </font></span>  <font color="#ff00cc">&quot;timedLAdd (pp#ppl) ppt pp'  =</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1428 </font></span><font color="#ff00cc">  (if Int.nat (the(ppt pp')) &le; Int.nat (the(ppt pp)) then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1429 </font></span><font color="#ff00cc">    (pp'#(pp#ppl), ppt(pp := Some ((the(ppt pp)) -  (the(ppt pp')))))</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1430 </font></span><font color="#ff00cc">  else let new_ppt = ppt(pp' := Some ((the(ppt pp')) -  (the(ppt pp)))) in </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1431 </font></span><font color="#ff00cc">    (pp#(fst (timedLAdd ppl new_ppt pp')), snd (timedLAdd ppl new_ppt pp')))&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1432 </font></span>  
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1433 </font></span><font color="#006699"><strong>definition</strong></font> waitQ_SuspQAdd <font color="#000000"><strong>::</strong></font> 
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1434 </font></span>  <font color="#ff00cc">&quot;(V_CORE_ID_TYPE &#8640; ((PART_ID_TYPE &times; PROC_ID_TYPE) list)) &rArr; (PART_ID_TYPE &times; PROC_ID_TYPE &#8640; TIMEOUT_TYPE) &rArr;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1435 </font></span><font color="#ff00cc">    V_CORE_ID_TYPE &rArr; PART_ID_TYPE &times; PROC_ID_TYPE &rArr; </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1436 </font></span><font color="#ff00cc">   (V_CORE_ID_TYPE &#8640; ((PART_ID_TYPE &times; PROC_ID_TYPE) list)) &times; (PART_ID_TYPE &times; PROC_ID_TYPE &#8640; TIMEOUT_TYPE)&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1437 </font></span>  <font color="#ff00cc">&quot;waitQ_SuspQAdd tq pd cid pp  = </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1438 </font></span><font color="#ff00cc">  (let pwl = case tq cid = None of False &rArr; the(tq cid) | True &rArr; [];</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1439 </font></span><font color="#ff00cc">      new_pwl_pd = timedLAdd pwl pd pp  in </font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1440 </font></span><font color="#ff00cc">  (tq(cid := Some (fst new_pwl_pd)), snd new_pwl_pd))&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1441 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1442 </font></span><font color="#cc0000">(*channel*)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1443 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1444 </font></span><font color="#006699"><strong>definition</strong></font> getChByID <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;CHANNEL_ID_TYPE &rArr; CHANNEL_CFG_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1445 </font></span>  <font color="#ff00cc">&quot;getChByID ch_id&equiv;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1446 </font></span><font color="#ff00cc">  if &exist;ch_cfg. chID ch_cfg = ch_id &and; ch_cfg &isin; channleConf conf then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1447 </font></span><font color="#ff00cc">    Some (THE ch_cfg. chID ch_cfg = ch_id &and; ch_cfg &isin; channleConf conf)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1448 </font></span><font color="#ff00cc">  else None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1449 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1450 </font></span><font color="#006699"><strong>definition</strong></font> getChBySrcPort <font color="#000000"><strong>::</strong></font> <font color="#ff00cc">&quot;(PART_ID_TYPE &times; PORT_NAME_TYPE) &rArr; CHANNEL_CFG_TYPE option&quot;</font> <font color="#009966"><strong>where</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1451 </font></span>  <font color="#ff00cc">&quot;getChBySrcPort pp &equiv;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1452 </font></span><font color="#ff00cc">  if &exist;ch_cfg. chnlSrce ch_cfg = pp &and; ch_cfg &isin; channleConf conf then</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1453 </font></span><font color="#ff00cc">    Some (THE ch_cfg. chnlSrce ch_cfg = pp &and; ch_cfg &isin; channleConf conf)</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1454 </font></span><font color="#ff00cc">  else None&quot;</font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff990066">1455 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1456 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1457 </font></span><font color="#009966"><strong>end</strong></font>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1458 </font></span>
<span style="background:#ffffffff; border-right:solid 2px black; margin-right:5px; "><font color="#ff000000">1459 </font></span>
</font></pre>
</body>
</html>
